!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";!function(){var t=i(90),e=new t;if(window.experiment&&"function"==typeof window.experiment.getAudioDefinitions){var r=window.experiment.getAudioDefinitions(),n=r.audioSprite,o=r.audioLoops;e.load(n,o)}else e.load()}()},function(t,e,i){var r=t.exports={},n=i(2);r.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},r.crossVZ=function(t,e,i){return r.rotate(t,e,-Math.PI/2),r.scale(t,t,i),t},r.crossZV=function(t,e,i){return r.rotate(t,i,Math.PI/2),r.scale(t,t,e),t},r.rotate=function(t,e,i){if(0!==i){var r=Math.cos(i),n=Math.sin(i),o=e[0],s=e[1];t[0]=r*o-n*s,t[1]=n*o+r*s}else t[0]=e[0],t[1]=e[1]},r.rotate90cw=function(t,e){var i=e[0],r=e[1];t[0]=r,t[1]=-i},r.toLocalFrame=function(t,e,i,n){r.copy(t,e),r.sub(t,t,i),r.rotate(t,t,-n)},r.toGlobalFrame=function(t,e,i,n){r.copy(t,e),r.rotate(t,t,n),r.add(t,t,i)},r.centroid=function(t,e,i,n){return r.add(t,e,i),r.add(t,t,n),r.scale(t,t,1/3),t},r.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var i=new n.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,i){return t[0]=e,t[1]=i,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},r.div=r.divide,r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},r.distance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.normalize=function(t,e){var i=e[0],r=e[1],n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"}},function(t){function e(){}t.exports=e,e.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var i=0,r=e.length;i!==r;++i)t.push(e[i])},e.splice=function(t,e,i){i=i||1;for(var r=e,n=t.length-i;n>r;r++)t[r]=t[r+i];t.length=n},e.ARRAY_TYPE="undefined"!=typeof P2_ARRAY_TYPE?P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?Float32Array:Array,e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.defaults=function(t,e){t=t||{};for(var i in e)i in t||(t[i]=e[i]);return t}},function(t,e){/**
	 * @license
	 * pixi.js - v2.2.5
	 * Copyright (c) 2012-2014, Mat Groves
	 * http://goodboydigital.com/
	 *
	 * Compiled: 2015-01-27
	 *
	 * pixi.js is licensed under the MIT License.
	 * http://www.opensource.org/licenses/mit-license.php
	 */
(function(){var i=i||{};i.WEBGL_RENDERER=0,i.CANVAS_RENDERER=1,i.VERSION="v2.2.5",i.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},i.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},i._UID=0,"undefined"!=typeof Float32Array?(i.Float32Array=Float32Array,i.Uint16Array=Uint16Array,i.Uint32Array=Uint32Array,i.ArrayBuffer=ArrayBuffer):(i.Float32Array=Array,i.Uint16Array=Array),i.INTERACTION_FREQUENCY=30,i.AUTO_PREVENT_DEFAULT=!0,i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RETINA_PREFIX="@2x",i.dontSayHello=!1,i.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},i.sayHello=function(t){if(!i.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["%c %c %c Pixi.js "+i.VERSION+" - "+t+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,e)}else window.console&&console.log("Pixi.js "+i.VERSION+" - http://www.pixijs.com/");i.dontSayHello=!0}},i.Point=function(t,e){this.x=t||0,this.y=e||0},i.Point.prototype.clone=function(){return new i.Point(this.x,this.y)},i.Point.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},i.Point.prototype.constructor=i.Point,i.Rectangle=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},i.Rectangle.prototype.clone=function(){return new i.Rectangle(this.x,this.y,this.width,this.height)},i.Rectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},i.Rectangle.prototype.constructor=i.Rectangle,i.EmptyRectangle=new i.Rectangle(0,0,0,0),i.Polygon=function(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),t[0]instanceof i.Point){for(var e=[],r=0,n=t.length;n>r;r++)e.push(t[r].x,t[r].y);t=e}this.closed=!0,this.points=t},i.Polygon.prototype.clone=function(){var t=this.points.slice();return new i.Polygon(t)},i.Polygon.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;r>n;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1],l=a>e!=u>e&&(h-s)*(e-a)/(u-a)+s>t;l&&(i=!i)}return i},i.Polygon.prototype.constructor=i.Polygon,i.Circle=function(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0},i.Circle.prototype.clone=function(){return new i.Circle(this.x,this.y,this.radius)},i.Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,r=this.y-e,n=this.radius*this.radius;return i*=i,r*=r,n>=i+r},i.Circle.prototype.getBounds=function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},i.Circle.prototype.constructor=i.Circle,i.Ellipse=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},i.Ellipse.prototype.clone=function(){return new i.Ellipse(this.x,this.y,this.width,this.height)},i.Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return i*=i,r*=r,1>=i+r},i.Ellipse.prototype.getBounds=function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.Ellipse.prototype.constructor=i.Ellipse,i.RoundedRectangle=function(t,e,i,r,n){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this.radius=n||20},i.RoundedRectangle.prototype.clone=function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},i.RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,i.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},i.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.Matrix.prototype.toArray=function(t){this.array||(this.array=new i.Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},i.Matrix.prototype.apply=function(t,e){return e=e||new i.Point,e.x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},i.Matrix.prototype.applyInverse=function(t,e){e=e||new i.Point;var r=1/(this.a*this.d+this.c*-this.b);return e.x=this.d*r*t.x+-this.c*r*t.y+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t.y+-this.b*r*t.x+(-this.ty*this.a+this.tx*this.b)*r,e},i.Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.Matrix.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},i.Matrix.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},i.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.identityMatrix=new i.Matrix,i.DisplayObject=function(){this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new i.Matrix,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},i.DisplayObject.prototype.constructor=i.DisplayObject,Object.defineProperty(i.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(i.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(t){if(t){for(var e=[],i=0;i<t.length;i++)for(var r=t[i].passes,n=0;n<r.length;n++)e.push(r[n]);this._filterBlock={target:this,filterPasses:e}}this._filters=t}}),Object.defineProperty(i.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),i.DisplayObject.prototype.updateTransform=function(){var t,e,r,n,o,s,a=this.parent.worldTransform,h=this.worldTransform;this.rotation%i.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,n=this._cr*this.scale.y,o=this.position.x,s=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*t+this.pivot.y*r,s-=this.pivot.x*e+this.pivot.y*n),h.a=t*a.a+e*a.c,h.b=t*a.b+e*a.d,h.c=r*a.a+n*a.c,h.d=r*a.b+n*a.d,h.tx=o*a.a+s*a.c+a.tx,h.ty=o*a.b+s*a.d+a.ty):(t=this.scale.x,n=this.scale.y,o=this.position.x-this.pivot.x*t,s=this.position.y-this.pivot.y*n,h.a=t*a.a,h.b=t*a.b,h.c=n*a.c,h.d=n*a.d,h.tx=o*a.a+s*a.c+a.tx,h.ty=o*a.b+s*a.d+a.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,i.DisplayObject.prototype.getBounds=function(t){return t=t,i.EmptyRectangle},i.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(i.identityMatrix)},i.DisplayObject.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0)},i.DisplayObject.prototype.generateTexture=function(t,e,r){var n=this.getLocalBounds(),o=new i.RenderTexture(0|n.width,0|n.height,r,e,t);return i.DisplayObject._tempMatrix.tx=-n.x,i.DisplayObject._tempMatrix.ty=-n.y,o.render(this,i.DisplayObject._tempMatrix),o},i.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},i.DisplayObject.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},i.DisplayObject.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},i.DisplayObject.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha,t.gl?i.Sprite.prototype._renderWebGL.call(this._cachedSprite,t):i.Sprite.prototype._renderCanvas.call(this._cachedSprite,t)},i.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|t.width,0|t.height);else{var e=new i.RenderTexture(0|t.width,0|t.height);this._cachedSprite=new i.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform}var r=this._filters;this._filters=null,this._cachedSprite.filters=r,i.DisplayObject._tempMatrix.tx=-t.x,i.DisplayObject._tempMatrix.ty=-t.y,this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this._filters=r,this._cacheAsBitmap=!0},i.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},i.DisplayObject.prototype._renderWebGL=function(t){t=t},i.DisplayObject.prototype._renderCanvas=function(t){t=t},i.DisplayObject._tempMatrix=new i.Matrix,Object.defineProperty(i.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(i.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[]},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),i.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);if(0>i||0>r)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=e,this.children[r]=t}},i.DisplayObjectContainer.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},i.DisplayObjectContainer.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},i.DisplayObjectContainer.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},i.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this.children.splice(t,1),e},i.DisplayObjectContainer.prototype.removeChildren=function(t,e){var i=t||0,r="number"==typeof e?e:this.children.length,n=r-i;if(n>0&&r>=n){for(var o=this.children.splice(i,n),s=0;s<o.length;s++){var a=o[s];this.stage&&a.removeStageReference(),a.parent=void 0}return o}if(0===n&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform()},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return i.EmptyRectangle;for(var t,e,r,n=1/0,o=1/0,s=-1/0,a=-1/0,h=!1,u=0,l=this.children.length;l>u;u++){var c=this.children[u];c.visible&&(h=!0,t=this.children[u].getBounds(),n=n<t.x?n:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!h)return i.EmptyRectangle;var d=this._bounds;return d.x=n,d.y=o,d.width=s-n,d.height=a-o,d},i.DisplayObjectContainer.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.identityMatrix;for(var e=0,r=this.children.length;r>e;e++)this.children[e].updateTransform();var n=this.getBounds();return this.worldTransform=t,n},i.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0);for(var e=0,i=this.children.length;i>e;e++){var r=this.children[e];r.setStageReference(t)}},i.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0,e=this.children.length;e>t;t++){var i=this.children[t];i.removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},i.DisplayObjectContainer.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);var e,i;if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0,i=this.children.length;i>e;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0,i=this.children.length;i>e;e++)this.children[e]._renderWebGL(t)}},i.DisplayObjectContainer.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0,i=this.children.length;i>e;e++){var r=this.children[e];r._renderCanvas(t)}this._mask&&t.maskManager.popMask(t)}},i.Sprite=function(t){i.DisplayObjectContainer.call(this),this.anchor=new i.Point,this.texture=t||i.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.shader=null,this.texture.baseTexture.hasLoaded?this.onTextureUpdate():this.texture.on("update",this.onTextureUpdate.bind(this)),this.renderable=!0},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,this.cachedTint=16777215},i.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.Sprite.prototype.getBounds=function(t){var e=this.texture.frame.width,i=this.texture.frame.height,r=e*(1-this.anchor.x),n=e*-this.anchor.x,o=i*(1-this.anchor.y),s=i*-this.anchor.y,a=t||this.worldTransform,h=a.a,u=a.b,l=a.c,c=a.d,d=a.tx,p=a.ty,f=-1/0,g=-1/0,m=1/0,v=1/0;if(0===u&&0===l)0>h&&(h*=-1),0>c&&(c*=-1),m=h*n+d,f=h*r+d,v=c*s+p,g=c*o+p;else{var y=h*n+l*s+d,x=c*s+u*n+p,b=h*r+l*s+d,w=c*s+u*r+p,A=h*r+l*o+d,_=c*o+u*r+p,T=h*n+l*o+d,S=c*o+u*n+p;m=m>y?y:m,m=m>b?b:m,m=m>A?A:m,m=m>T?T:m,v=v>x?x:v,v=v>w?w:v,v=v>_?_:v,v=v>S?S:v,f=y>f?y:f,f=b>f?b:f,f=A>f?A:f,f=T>f?T:f,g=x>g?x:g,g=w>g?w:g,g=_>g?_:g,g=S>g?S:g}var C=this._bounds;return C.x=m,C.width=f-m,C.y=v,C.height=g-v,this._currentBounds=C,C},i.Sprite.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){var e,i;if(this._mask||this._filters){var r=t.spriteBatch;for(this._filters&&(r.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(r.stop(),t.maskManager.pushMask(this.mask,t),r.start()),r.render(this),e=0,i=this.children.length;i>e;e++)this.children[e]._renderWebGL(t);r.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),r.start()}else for(t.spriteBatch.render(this),e=0,i=this.children.length;i>e;e++)this.children[e]._renderWebGL(t)}},i.Sprite.prototype._renderCanvas=function(t){if(!(this.visible===!1||0===this.alpha||this.texture.crop.width<=0||this.texture.crop.height<=0)){if(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=i.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),this.texture.valid){var e=this.texture.baseTexture.resolution/t.resolution;t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===i.scaleModes.LINEAR);var r=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,n=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;t.roundPixels?(t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution|0,this.worldTransform.ty*t.resolution|0),r=0|r,n=0|n):t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution,this.worldTransform.ty*t.resolution),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=i.CanvasTinter.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,r/e,n/e,this.texture.crop.width/e,this.texture.crop.height/e)):t.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,r/e,n/e,this.texture.crop.width/e,this.texture.crop.height/e)}for(var o=0,s=this.children.length;s>o;o++)this.children[o]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.Sprite.fromFrame=function(t){var e=i.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache'+this);return new i.Sprite(e)},i.Sprite.fromImage=function(t,e,r){var n=i.Texture.fromImage(t,e,r);return new i.Sprite(n)},i.SpriteBatch=function(t){i.DisplayObjectContainer.call(this),this.textureThing=t,this.ready=!1},i.SpriteBatch.prototype=Object.create(i.DisplayObjectContainer.prototype),i.SpriteBatch.prototype.constructor=i.SpriteBatch,i.SpriteBatch.prototype.initWebGL=function(t){this.fastSpriteBatch=new i.WebGLFastSpriteBatch(t),this.ready=!0},i.SpriteBatch.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},i.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=this.worldTransform,r=!0,n=0;n<this.children.length;n++){var o=this.children[n];if(o.visible){var s=o.texture,a=s.frame;if(e.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)===0)r&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),r=!1),e.drawImage(s.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width*o.scale.x+o.position.x+.5|0,o.anchor.y*-a.height*o.scale.y+o.position.y+.5|0,a.width*o.scale.x,a.height*o.scale.y);else{r||(r=!0),o.displayObjectUpdateTransform();var h=o.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|h.tx,0|h.ty):e.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),e.drawImage(s.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width+.5|0,o.anchor.y*-a.height+.5|0,a.width,a.height)}}}}},i.MovieClip=function(t){i.Sprite.call(this,t[0]),this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},i.MovieClip.prototype=Object.create(i.Sprite.prototype),i.MovieClip.prototype.constructor=i.MovieClip,Object.defineProperty(i.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),i.MovieClip.prototype.stop=function(){this.playing=!1},i.MovieClip.prototype.play=function(){this.playing=!0},i.MovieClip.prototype.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},i.MovieClip.prototype.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},i.MovieClip.prototype.updateTransform=function(){if(this.displayObjectContainerUpdateTransform(),this.playing){this.currentFrame+=this.animationSpeed;var t=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||t<this.textures.length?this.setTexture(this.textures[t%this.textures.length]):t>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},i.MovieClip.fromFrames=function(t){for(var e=[],r=0;r<t.length;r++)e.push(new i.Texture.fromFrame(t[r]));return new i.MovieClip(e)},i.MovieClip.fromImages=function(t){for(var e=[],r=0;r<t.length;r++)e.push(new i.Texture.fromImage(t[r]));return new i.MovieClip(e)},i.FilterBlock=function(){this.visible=!0,this.renderable=!0},i.FilterBlock.prototype.constructor=i.FilterBlock,i.Text=function(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,i.Sprite.call(this,i.Texture.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e)},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),i.Text.prototype.setStyle=function(t){t=t||{},t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},i.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),i=[],r=0,n=this.determineFontProperties(this.style.font),o=0;o<e.length;o++){var s=this.context.measureText(e[o]).width;i[o]=s,r=Math.max(r,s)}var a=r+this.style.strokeThickness;this.style.dropShadow&&(a+=this.style.dropShadowDistance),this.canvas.width=(a+this.context.lineWidth)*this.resolution;var h=n.fontSize+this.style.strokeThickness,u=h*e.length;this.style.dropShadow&&(u+=this.style.dropShadowDistance),this.canvas.height=u*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var l,c;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var d=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,p=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(o=0;o<e.length;o++)l=this.style.strokeThickness/2,c=this.style.strokeThickness/2+o*h+n.ascent,"right"===this.style.align?l+=r-i[o]:"center"===this.style.align&&(l+=(r-i[o])/2),this.style.fill&&this.context.fillText(e[o],l+d,c+p)}for(this.context.fillStyle=this.style.fill,o=0;o<e.length;o++)l=this.style.strokeThickness/2,c=this.style.strokeThickness/2+o*h+n.ascent,"right"===this.style.align?l+=r-i[o]:"center"===this.style.align&&(l+=(r-i[o])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[o],l,c),this.style.fill&&this.context.fillText(e[o],l,c);this.updateTexture()},i.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},i.Text.prototype._renderWebGL=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderWebGL.call(this,t)},i.Text.prototype._renderCanvas=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderCanvas.call(this,t)},i.Text.prototype.determineFontProperties=function(t){var e=i.Text.fontPropertiesCache[t];if(!e){e={};var r=i.Text.fontPropertiesCanvas,n=i.Text.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|Mq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,s);var h,u,l=n.getImageData(0,0,o,a).data,c=l.length,d=4*o,p=0,f=!1;for(h=0;s>h;h++){for(u=0;d>u;u+=4)if(255!==l[p+u]){f=!0;break}if(f)break;p+=d}for(e.ascent=s-h,p=c-d,f=!1,h=a;h>s;h--){for(u=0;d>u;u+=4)if(255!==l[p+u]){f=!0;break}if(f)break;p-=d}e.descent=h-s,e.descent+=6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e}return e},i.Text.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),r=0;r<i.length;r++){for(var n=this.style.wordWrapWidth,o=i[r].split(" "),s=0;s<o.length;s++){var a=this.context.measureText(o[s]).width,h=a+this.context.measureText(" ").width;0===s||h>n?(s>0&&(e+="\n"),e+=o[s],n=this.style.wordWrapWidth-a):(n-=h,e+=" "+o[s])}r<i.length-1&&(e+="\n")}return e},i.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),i.Sprite.prototype.getBounds.call(this,t)},i.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t?!0:t)},i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.BitmapText=function(t,e){i.DisplayObjectContainer.call(this),this.textWidth=0,this.textHeight=0,this._pool=[],this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1},i.BitmapText.prototype=Object.create(i.DisplayObjectContainer.prototype),i.BitmapText.prototype.constructor=i.BitmapText,i.BitmapText.prototype.setText=function(t){this.text=t||" ",this.dirty=!0},i.BitmapText.prototype.setStyle=function(t){t=t||{},t.align=t.align||"left",this.style=t;var e=t.font.split(" ");this.fontName=e[e.length-1],this.fontSize=e.length>=2?parseInt(e[e.length-2],10):i.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=t.tint},i.BitmapText.prototype.updateText=function(){for(var t=i.BitmapText.fonts[this.fontName],e=new i.Point,r=null,n=[],o=0,s=[],a=0,h=this.fontSize/t.size,u=0;u<this.text.length;u++){var l=this.text.charCodeAt(u);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(u)))s.push(e.x),o=Math.max(o,e.x),a++,e.x=0,e.y+=t.lineHeight,r=null;else{var c=t.chars[l];c&&(r&&c.kerning[r]&&(e.x+=c.kerning[r]),n.push({texture:c.texture,line:a,charCode:l,position:new i.Point(e.x+c.xOffset,e.y+c.yOffset)}),e.x+=c.xAdvance,r=l)}}s.push(e.x),o=Math.max(o,e.x);var d=[];for(u=0;a>=u;u++){var p=0;"right"===this.style.align?p=o-s[u]:"center"===this.style.align&&(p=(o-s[u])/2),d.push(p)}var f=this.children.length,g=n.length,m=this.tint||16777215;for(u=0;g>u;u++){var v=f>u?this.children[u]:this._pool.pop();v?v.setTexture(n[u].texture):v=new i.Sprite(n[u].texture),v.position.x=(n[u].position.x+d[n[u].line])*h,v.position.y=n[u].position.y*h,v.scale.x=v.scale.y=h,v.tint=m,v.parent||this.addChild(v)}for(;this.children.length>g;){var y=this.getChildAt(this.children.length-1);this._pool.push(y),this.removeChild(y)}this.textWidth=o*h,this.textHeight=(e.y+t.lineHeight)*h},i.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.BitmapText.fonts={},i.InteractionData=function(){this.global=new i.Point,this.target=null,this.originalEvent=null},i.InteractionData.prototype.getLocalPosition=function(t,e){var r=t.worldTransform,n=this.global,o=r.a,s=r.c,a=r.tx,h=r.b,u=r.d,l=r.ty,c=1/(o*u+s*-h);return e=e||new i.Point,e.x=u*c*n.x+-s*c*n.y+(l*s-a*u)*c,e.y=o*c*n.y+-h*c*n.x+(-l*o+a*h)*c,e},i.InteractionData.prototype.constructor=i.InteractionData,i.InteractionManager=function(t){this.stage=t,this.mouse=new i.InteractionData,this.touches={},this.tempPoint=new i.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1,this._tempPoint=new i.Point},i.InteractionManager.prototype.constructor=i.InteractionManager,i.InteractionManager.prototype.collectInteractiveSprite=function(t,e){for(var i=t.children,r=i.length,n=r-1;n>=0;n--){var o=i[n];
o._interactive?(e.interactiveChildren=!0,this.interactiveItems.push(o),o.children.length>0&&this.collectInteractiveSprite(o,o)):(o.__iParent=null,o.children.length>0&&this.collectInteractiveSprite(o,e))}},i.InteractionManager.prototype.setTarget=function(t){this.target=t,this.resolution=t.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(t.view)},i.InteractionManager.prototype.setTargetDomElement=function(t){this.removeEvents(),window.navigator.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),this.interactionDOMElement=t,t.addEventListener("mousemove",this.onMouseMove,!0),t.addEventListener("mousedown",this.onMouseDown,!0),t.addEventListener("mouseout",this.onMouseOut,!0),t.addEventListener("touchstart",this.onTouchStart,!0),t.addEventListener("touchend",this.onTouchEnd,!0),t.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},i.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},i.InteractionManager.prototype.update=function(){if(this.target){var t=Date.now(),e=t-this.last;if(e=e*i.INTERACTION_FREQUENCY/1e3,!(1>e)){this.last=t;var r=0;this.dirty&&this.rebuildInteractiveGraph();var n=this.interactiveItems.length,o="inherit",s=!1;for(r=0;n>r;r++){var a=this.interactiveItems[r];a.__hit=this.hitTest(a,this.mouse),this.mouse.target=a,a.__hit&&!s?(a.buttonMode&&(o=a.defaultCursor),a.interactiveChildren||(s=!0),a.__isOver||(a.mouseover&&a.mouseover(this.mouse),a.__isOver=!0)):a.__isOver&&(a.mouseout&&a.mouseout(this.mouse),a.__isOver=!1)}this.currentCursorStyle!==o&&(this.currentCursorStyle=o,this.interactionDOMElement.style.cursor=o)}}},i.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var t=this.interactiveItems.length,e=0;t>e;e++)this.interactiveItems[e].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},i.InteractionManager.prototype.onMouseMove=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width)/this.resolution,this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height)/this.resolution;for(var i=this.interactiveItems.length,r=0;i>r;r++){var n=this.interactiveItems[r];n.mousemove&&n.mousemove(this.mouse)}},i.InteractionManager.prototype.onMouseDown=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t,i.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var e=this.interactiveItems.length,r=this.mouse.originalEvent,n=2===r.button||3===r.which,o=n?"rightdown":"mousedown",s=n?"rightclick":"click",a=n?"__rightIsDown":"__mouseIsDown",h=n?"__isRightDown":"__isDown",u=0;e>u;u++){var l=this.interactiveItems[u];if((l[o]||l[s])&&(l[a]=!0,l.__hit=this.hitTest(l,this.mouse),l.__hit&&(l[o]&&l[o](this.mouse),l[h]=!0,!l.interactiveChildren)))break}},i.InteractionManager.prototype.onMouseOut=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var i=0;e>i;i++){var r=this.interactiveItems[i];r.__isOver&&(this.mouse.target=r,r.mouseout&&r.mouseout(this.mouse),r.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},i.InteractionManager.prototype.onMouseUp=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;for(var e=this.interactiveItems.length,i=!1,r=this.mouse.originalEvent,n=2===r.button||3===r.which,o=n?"rightup":"mouseup",s=n?"rightclick":"click",a=n?"rightupoutside":"mouseupoutside",h=n?"__isRightDown":"__isDown",u=0;e>u;u++){var l=this.interactiveItems[u];(l[s]||l[o]||l[a])&&(l.__hit=this.hitTest(l,this.mouse),l.__hit&&!i?(l[o]&&l[o](this.mouse),l[h]&&l[s]&&l[s](this.mouse),l.interactiveChildren||(i=!0)):l[h]&&l[a]&&l[a](this.mouse),l[h]=!1)}},i.InteractionManager.prototype.hitTest=function(t,e){var r=e.global;if(!t.worldVisible)return!1;t.worldTransform.applyInverse(r,this._tempPoint);var n,o=this._tempPoint.x,s=this._tempPoint.y;if(e.target=t,t.hitArea&&t.hitArea.contains)return t.hitArea.contains(o,s);if(t instanceof i.Sprite){var a,h=t.texture.frame.width,u=t.texture.frame.height,l=-h*t.anchor.x;if(o>l&&l+h>o&&(a=-u*t.anchor.y,s>a&&a+u>s))return!0}else if(t instanceof i.Graphics){var c=t.graphicsData;for(n=0;n<c.length;n++){var d=c[n];if(d.fill&&d.shape&&d.shape.contains(o,s))return!0}}var p=t.children.length;for(n=0;p>n;n++){var f=t.children[n],g=this.hitTest(f,e);if(g)return e.target=t,!0}return!1},i.InteractionManager.prototype.onTouchMove=function(t){this.dirty&&this.rebuildInteractiveGraph();var e,i=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,n=0;for(n=0;n<r.length;n++){var o=r[n];e=this.touches[o.identifier],e.originalEvent=t,e.global.x=(o.clientX-i.left)*(this.target.width/i.width)/this.resolution,e.global.y=(o.clientY-i.top)*(this.target.height/i.height)/this.resolution,!navigator.isCocoonJS||i.left||i.top||t.target.style.width||t.target.style.height||(e.global.x=o.clientX,e.global.y=o.clientY);for(var s=0;s<this.interactiveItems.length;s++){var a=this.interactiveItems[s];a.touchmove&&a.__touchData&&a.__touchData[o.identifier]&&a.touchmove(e)}}},i.InteractionManager.prototype.onTouchStart=function(t){this.dirty&&this.rebuildInteractiveGraph();var e=this.interactionDOMElement.getBoundingClientRect();i.AUTO_PREVENT_DEFAULT&&t.preventDefault();for(var r=t.changedTouches,n=0;n<r.length;n++){var o=r[n],s=this.pool.pop();s||(s=new i.InteractionData),s.originalEvent=t,this.touches[o.identifier]=s,s.global.x=(o.clientX-e.left)*(this.target.width/e.width)/this.resolution,s.global.y=(o.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(s.global.x=o.clientX,s.global.y=o.clientY);for(var a=this.interactiveItems.length,h=0;a>h;h++){var u=this.interactiveItems[h];if((u.touchstart||u.tap)&&(u.__hit=this.hitTest(u,s),u.__hit&&(u.touchstart&&u.touchstart(s),u.__isDown=!0,u.__touchData=u.__touchData||{},u.__touchData[o.identifier]=s,!u.interactiveChildren)))break}}},i.InteractionManager.prototype.onTouchEnd=function(t){this.dirty&&this.rebuildInteractiveGraph();for(var e=this.interactionDOMElement.getBoundingClientRect(),i=t.changedTouches,r=0;r<i.length;r++){var n=i[r],o=this.touches[n.identifier],s=!1;o.global.x=(n.clientX-e.left)*(this.target.width/e.width)/this.resolution,o.global.y=(n.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(o.global.x=n.clientX,o.global.y=n.clientY);for(var a=this.interactiveItems.length,h=0;a>h;h++){var u=this.interactiveItems[h];u.__touchData&&u.__touchData[n.identifier]&&(u.__hit=this.hitTest(u,u.__touchData[n.identifier]),o.originalEvent=t,(u.touchend||u.tap)&&(u.__hit&&!s?(u.touchend&&u.touchend(o),u.__isDown&&u.tap&&u.tap(o),u.interactiveChildren||(s=!0)):u.__isDown&&u.touchendoutside&&u.touchendoutside(o),u.__isDown=!1),u.__touchData[n.identifier]=null)}this.pool.push(o),this.touches[n.identifier]=null}},i.Stage=function(t){i.DisplayObjectContainer.call(this),this.worldTransform=new i.Matrix,this.interactive=!0,this.interactionManager=new i.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new i.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(t)},i.Stage.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},i.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},i.Stage.prototype.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=i.hex2rgb(this.backgroundColor);var e=this.backgroundColor.toString(16);e="000000".substr(0,6-e.length)+e,this.backgroundColorString="#"+e},i.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},function(t){for(var e=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),o=t.setTimeout(function(){i(r+n)},n);return e=r+n,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)}),t.requestAnimFrame=t.requestAnimationFrame}(this),i.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){return function(t){function e(){for(var r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return o=n.concat(o),i.apply(this instanceof e?this:t,o)}var i=this,r=arguments.length-1,n=[];if(r>0)for(n.length=r;r--;)n[r]=arguments[r+1];if("function"!=typeof i)throw new TypeError;return e.prototype=function o(t){return t&&(o.prototype=t),this instanceof o?void 0:new o}(i.prototype),e}}()),i.AjaxRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new window.XMLHttpRequest:!1;for(var e=0;e<t.length;e++)try{return new window.ActiveXObject(t[e])}catch(i){}},i.canUseNewCanvasBlendModes=function(){if("undefined"==typeof document)return!1;var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#000",e.fillRect(0,0,1,1),e.globalCompositeOperation="multiply",e.fillStyle="#fff",e.fillRect(0,0,1,1),0===e.getImageData(0,0,1,1).data[0]},i.getNextPowerOfTwo=function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},i.isPowerOfTwo=function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},i.EventTarget={call:function(t){t&&(t=t.prototype||t,i.EventTarget.mixin(t))},mixin:function(t){t.listeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?this._listeners[t].slice():[]},t.emit=t.dispatchEvent=function(t,e){if(this._listeners=this._listeners||{},"object"==typeof t&&(e=t,t=t.type),e&&e.__isEventObject===!0||(e=new i.Event(this,t,e)),this._listeners&&this._listeners[t]){var r,n=this._listeners[t].slice(0),o=n.length,s=n[0];for(r=0;o>r;s=n[++r])if(s.call(this,e),e.stoppedImmediate)return this;if(e.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,t,e),this},t.on=t.addEventListener=function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},t.once=function(t,e){function i(){e.apply(r.off(t,i),arguments)}this._listeners=this._listeners||{};var r=this;return i._originalHandler=e,this.on(t,i)},t.off=t.removeEventListener=function(t,e){if(this._listeners=this._listeners||{},!this._listeners[t])return this;for(var i=this._listeners[t],r=e?i.length:0;r-->0;)(i[r]===e||i[r]._originalHandler===e)&&i.splice(r,1);return 0===i.length&&delete this._listeners[t],this},t.removeAllListeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?(delete this._listeners[t],this):this}}},i.Event=function(t,e,i){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=t,this.type=e,this.data=i,this.content=i,this.timeStamp=Date.now()},i.Event.prototype.stopPropagation=function(){this.stopped=!0},i.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},i.autoDetectRenderer=function(t,e,r){t||(t=800),e||(e=600);var n=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(e){return!1}}();return n?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)},i.autoDetectRecommendedRenderer=function(t,e,r){t||(t=800),e||(e=600);var n=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(e){return!1}}(),o=/Android/i.test(navigator.userAgent);return n&&!o?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)},i.PolyK={},i.PolyK.Triangulate=function(t){var e=!0,r=t.length>>1;if(3>r)return[];for(var n=[],o=[],s=0;r>s;s++)o.push(s);s=0;for(var a=r;a>3;){var h=o[(s+0)%a],u=o[(s+1)%a],l=o[(s+2)%a],c=t[2*h],d=t[2*h+1],p=t[2*u],f=t[2*u+1],g=t[2*l],m=t[2*l+1],v=!1;if(i.PolyK._convex(c,d,p,f,g,m,e)){v=!0;for(var y=0;a>y;y++){var x=o[y];if(x!==h&&x!==u&&x!==l&&i.PolyK._PointInTriangle(t[2*x],t[2*x+1],c,d,p,f,g,m)){v=!1;break}}}if(v)n.push(h,u,l),o.splice((s+1)%a,1),a--,s=0;else if(s++>3*a){if(!e)return null;for(n=[],o=[],s=0;r>s;s++)o.push(s);s=0,a=r,e=!1}}return n.push(o[0],o[1],o[2]),n},i.PolyK._PointInTriangle=function(t,e,i,r,n,o,s,a){var h=s-i,u=a-r,l=n-i,c=o-r,d=t-i,p=e-r,f=h*h+u*u,g=h*l+u*c,m=h*d+u*p,v=l*l+c*c,y=l*d+c*p,x=1/(f*v-g*g),b=(v*m-g*y)*x,w=(f*y-g*m)*x;return b>=0&&w>=0&&1>b+w},i.PolyK._convex=function(t,e,i,r,n,o,s){return(e-r)*(n-i)+(i-t)*(o-r)>=0===s},i.initDefaultShaders=function(){},i.CompileVertexShader=function(t,e){return i._CompileShader(t,e,t.VERTEX_SHADER)},i.CompileFragmentShader=function(t,e){return i._CompileShader(t,e,t.FRAGMENT_SHADER)},i._CompileShader=function(t,e,i){var r=e.join("\n"),n=t.createShader(i);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(window.console.log(t.getShaderInfoLog(n)),null)},i.compileProgram=function(t,e,r){var n=i.CompileFragmentShader(t,r),o=i.CompileVertexShader(t,e),s=t.createProgram();return t.attachShader(s,o),t.attachShader(s,n),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||window.console.log("Could not initialise shaders"),s},i.PixiShader=function(t){this._UID=i._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},i.PixiShader.prototype.constructor=i.PixiShader,i.PixiShader.prototype.init=function(){var t=this.gl,e=i.compileProgram(t,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var r in this.uniforms)this.uniforms[r].uniformLocation=t.getUniformLocation(e,r);this.initUniforms(),this.program=e},i.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var i in this.uniforms){t=this.uniforms[i];var r=t.type;"sampler2D"===r?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===r||"mat3"===r||"mat4"===r?(t.glMatrix=!0,t.glValueLength=1,"mat2"===r?t.glFunc=e.uniformMatrix2fv:"mat3"===r?t.glFunc=e.uniformMatrix3fv:"mat4"===r&&(t.glFunc=e.uniformMatrix4fv)):(t.glFunc=e["uniform"+r],t.glValueLength="2f"===r||"2i"===r?2:"3f"===r||"3i"===r?3:"4f"===r||"4i"===r?4:1)}},i.PixiShader.prototype.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){var e=this.gl;if(e.activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData){var i=t.textureData,r=i.magFilter?i.magFilter:e.LINEAR,n=i.minFilter?i.minFilter:e.LINEAR,o=i.wrapS?i.wrapS:e.CLAMP_TO_EDGE,s=i.wrapT?i.wrapT:e.CLAMP_TO_EDGE,a=i.luminance?e.LUMINANCE:e.RGBA;if(i.repeat&&(o=e.REPEAT,s=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!i.flipY),i.width){var h=i.width?i.width:512,u=i.height?i.height:2,l=i.border?i.border:0;e.texImage2D(e.TEXTURE_2D,0,a,h,u,l,a,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,a,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,s)}e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},i.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var r in this.uniforms)t=this.uniforms[r],1===t.glValueLength?t.glMatrix===!0?t.glFunc.call(e,t.uniformLocation,t.transpose,t.value):t.glFunc.call(e,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(e.activeTexture(e["TEXTURE"+this.textureCount]),t.value.baseTexture._dirty[e.id]?i.instances[e.id].updateTexture(t.value.baseTexture):e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),e.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},i.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"],i.PixiFastShader=function(t){this._UID=i._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},i.PixiFastShader.prototype.constructor=i.PixiFastShader,i.PixiFastShader.prototype.init=function(){var t=this.gl,e=i.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.uMatrix=t.getUniformLocation(e,"uMatrix"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aPositionCoord=t.getAttribLocation(e,"aPositionCoord"),this.aScale=t.getAttribLocation(e,"aScale"),this.aRotation=t.getAttribLocation(e,"aRotation"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=e},i.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.StripShader=function(t){this._UID=i._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},i.StripShader.prototype.constructor=i.StripShader,i.StripShader.prototype.init=function(){var t=this.gl,e=i.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},i.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.PrimitiveShader=function(t){this._UID=i._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},i.PrimitiveShader.prototype.constructor=i.PrimitiveShader,i.PrimitiveShader.prototype.init=function(){var t=this.gl,e=i.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},i.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.ComplexPrimitiveShader=function(t){this._UID=i._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},i.ComplexPrimitiveShader.prototype.constructor=i.ComplexPrimitiveShader,i.ComplexPrimitiveShader.prototype.init=function(){var t=this.gl,e=i.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.color=t.getUniformLocation(e,"color"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},i.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.WebGLGraphics=function(){},i.WebGLGraphics.renderGraphics=function(t,e){var r,n=e.gl,o=e.projection,s=e.offset,a=e.shaderManager.primitiveShader;t.dirty&&i.WebGLGraphics.updateGraphics(t,n);for(var h=t._webGL[n.id],u=0;u<h.data.length;u++)1===h.data[u].mode?(r=h.data[u],e.stencilManager.pushStencil(t,r,e),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(r.indices.length-4)),e.stencilManager.popStencil(t,r,e)):(r=h.data[u],e.shaderManager.setShader(a),a=e.shaderManager.primitiveShader,n.uniformMatrix3fv(a.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform1f(a.flipY,1),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-s.x,-s.y),n.uniform3fv(a.tintColor,i.hex2rgb(t.tint)),n.uniform1f(a.alpha,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,r.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,r.indices.length,n.UNSIGNED_SHORT,0))},i.WebGLGraphics.updateGraphics=function(t,e){var r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var n;if(t.clearDirty){for(t.clearDirty=!1,n=0;n<r.data.length;n++){var o=r.data[n];o.reset(),i.WebGLGraphics.graphicsDataPool.push(o)}r.data=[],r.lastIndex=0}var s;for(n=r.lastIndex;n<t.graphicsData.length;n++){var a=t.graphicsData[n];if(a.type===i.Graphics.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<12){s=i.WebGLGraphics.switchMode(r,0);var h=i.WebGLGraphics.buildPoly(a,s);h||(s=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(a,s))}else s=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(a,s);a.lineWidth>0&&(s=i.WebGLGraphics.switchMode(r,0),i.WebGLGraphics.buildLine(a,s))}else s=i.WebGLGraphics.switchMode(r,0),a.type===i.Graphics.RECT?i.WebGLGraphics.buildRectangle(a,s):a.type===i.Graphics.CIRC||a.type===i.Graphics.ELIP?i.WebGLGraphics.buildCircle(a,s):a.type===i.Graphics.RREC&&i.WebGLGraphics.buildRoundedRectangle(a,s);r.lastIndex++}for(n=0;n<r.data.length;n++)s=r.data[n],s.dirty&&s.upload()},i.WebGLGraphics.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.mode!==e||1===e)&&(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(t.gl),r.mode=e,t.data.push(r))):(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},i.WebGLGraphics.buildRectangle=function(t,e){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=i.hex2rgb(t.fillColor),u=t.fillAlpha,l=h[0]*u,c=h[1]*u,d=h[2]*u,p=e.points,f=e.indices,g=p.length/6;p.push(n,o),p.push(l,c,d,u),p.push(n+s,o),p.push(l,c,d,u),p.push(n,o+a),p.push(l,c,d,u),p.push(n+s,o+a),p.push(l,c,d,u),f.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var m=t.points;t.points=[n,o,n+s,o,n+s,o+a,n,o+a,n,o],i.WebGLGraphics.buildLine(t,e),t.points=m}},i.WebGLGraphics.buildRoundedRectangle=function(t,e){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,u=[];if(u.push(n,o+h),u=u.concat(i.WebGLGraphics.quadraticBezierCurve(n,o+a-h,n,o+a,n+h,o+a)),u=u.concat(i.WebGLGraphics.quadraticBezierCurve(n+s-h,o+a,n+s,o+a,n+s,o+a-h)),u=u.concat(i.WebGLGraphics.quadraticBezierCurve(n+s,o+h,n+s,o,n+s-h,o)),u=u.concat(i.WebGLGraphics.quadraticBezierCurve(n+h,o,n,o,n,o+h)),t.fill){var l=i.hex2rgb(t.fillColor),c=t.fillAlpha,d=l[0]*c,p=l[1]*c,f=l[2]*c,g=e.points,m=e.indices,v=g.length/6,y=i.PolyK.Triangulate(u),x=0;for(x=0;x<y.length;x+=3)m.push(y[x]+v),m.push(y[x]+v),m.push(y[x+1]+v),m.push(y[x+2]+v),m.push(y[x+2]+v);for(x=0;x<u.length;x++)g.push(u[x],u[++x],d,p,f,c)}if(t.lineWidth){var b=t.points;t.points=u,i.WebGLGraphics.buildLine(t,e),t.points=b}},i.WebGLGraphics.quadraticBezierCurve=function(t,e,i,r,n,o){function s(t,e,i){var r=e-t;return t+r*i}for(var a,h,u,l,c,d,p=20,f=[],g=0,m=0;p>=m;m++)g=m/p,a=s(t,i,g),h=s(e,r,g),u=s(i,n,g),l=s(r,o,g),c=s(a,u,g),d=s(h,l,g),f.push(c,d);return f},i.WebGLGraphics.buildCircle=function(t,e){var r,n,o=t.shape,s=o.x,a=o.y;t.type===i.Graphics.CIRC?(r=o.radius,n=o.radius):(r=o.width,n=o.height);var h=40,u=2*Math.PI/h,l=0;if(t.fill){var c=i.hex2rgb(t.fillColor),d=t.fillAlpha,p=c[0]*d,f=c[1]*d,g=c[2]*d,m=e.points,v=e.indices,y=m.length/6;for(v.push(y),l=0;h+1>l;l++)m.push(s,a,p,f,g,d),m.push(s+Math.sin(u*l)*r,a+Math.cos(u*l)*n,p,f,g,d),v.push(y++,y++);v.push(y-1)}if(t.lineWidth){var x=t.points;for(t.points=[],l=0;h+1>l;l++)t.points.push(s+Math.sin(u*l)*r,a+Math.cos(u*l)*n);i.WebGLGraphics.buildLine(t,e),t.points=x}},i.WebGLGraphics.buildLine=function(t,e){var r=0,n=t.points;if(0!==n.length){if(t.lineWidth%2)for(r=0;r<n.length;r++)n[r]+=.5;var o=new i.Point(n[0],n[1]),s=new i.Point(n[n.length-2],n[n.length-1]);if(o.x===s.x&&o.y===s.y){n=n.slice(),n.pop(),n.pop(),s=new i.Point(n[n.length-2],n[n.length-1]);var a=s.x+.5*(o.x-s.x),h=s.y+.5*(o.y-s.y);n.unshift(a,h),n.push(a,h)}var u,l,c,d,p,f,g,m,v,y,x,b,w,A,_,T,S,C,E,M,R,P,L,B=e.points,F=e.indices,O=n.length/2,I=n.length,D=B.length/6,k=t.lineWidth/2,N=i.hex2rgb(t.lineColor),G=t.lineAlpha,U=N[0]*G,V=N[1]*G,W=N[2]*G;for(c=n[0],d=n[1],p=n[2],f=n[3],v=-(d-f),y=c-p,L=Math.sqrt(v*v+y*y),v/=L,y/=L,v*=k,y*=k,B.push(c-v,d-y,U,V,W,G),B.push(c+v,d+y,U,V,W,G),r=1;O-1>r;r++)c=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],f=n[2*r+1],g=n[2*(r+1)],m=n[2*(r+1)+1],v=-(d-f),y=c-p,L=Math.sqrt(v*v+y*y),v/=L,y/=L,v*=k,y*=k,x=-(f-m),b=p-g,L=Math.sqrt(x*x+b*b),x/=L,b/=L,x*=k,b*=k,_=-y+d-(-y+f),T=-v+p-(-v+c),S=(-v+c)*(-y+f)-(-v+p)*(-y+d),C=-b+m-(-b+f),E=-x+p-(-x+g),M=(-x+g)*(-b+f)-(-x+p)*(-b+m),R=_*E-C*T,Math.abs(R)<.1?(R+=10.1,B.push(p-v,f-y,U,V,W,G),B.push(p+v,f+y,U,V,W,G)):(u=(T*M-E*S)/R,l=(C*S-_*M)/R,P=(u-p)*(u-p)+(l-f)+(l-f),P>19600?(w=v-x,A=y-b,L=Math.sqrt(w*w+A*A),w/=L,A/=L,w*=k,A*=k,B.push(p-w,f-A),B.push(U,V,W,G),B.push(p+w,f+A),B.push(U,V,W,G),B.push(p-w,f-A),B.push(U,V,W,G),I++):(B.push(u,l),B.push(U,V,W,G),B.push(p-(u-p),f-(l-f)),B.push(U,V,W,G)));
for(c=n[2*(O-2)],d=n[2*(O-2)+1],p=n[2*(O-1)],f=n[2*(O-1)+1],v=-(d-f),y=c-p,L=Math.sqrt(v*v+y*y),v/=L,y/=L,v*=k,y*=k,B.push(p-v,f-y),B.push(U,V,W,G),B.push(p+v,f+y),B.push(U,V,W,G),F.push(D),r=0;I>r;r++)F.push(D++);F.push(D-1)}},i.WebGLGraphics.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var n=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=i.hex2rgb(t.fillColor);for(var o,s,a=1/0,h=-1/0,u=1/0,l=-1/0,c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,h=o>h?o:h,u=u>s?s:u,l=s>l?s:l;r.push(a,u,h,u,h,l,a,l);var d=r.length/2;for(c=0;d>c;c++)n.push(c)}},i.WebGLGraphics.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var n=e.points,o=e.indices,s=r.length/2,a=i.hex2rgb(t.fillColor),h=t.fillAlpha,u=a[0]*h,l=a[1]*h,c=a[2]*h,d=i.PolyK.Triangulate(r);if(!d)return!1;var p=n.length/6,f=0;for(f=0;f<d.length;f+=3)o.push(d[f]+p),o.push(d[f]+p),o.push(d[f+1]+p),o.push(d[f+2]+p),o.push(d[f+2]+p);for(f=0;s>f;f++)n.push(r[2*f],r[2*f+1],u,l,c,h);return!0}},i.WebGLGraphics.graphicsDataPool=[],i.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},i.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},i.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new i.Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new i.Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},i.glContexts=[],i.instances=[],i.WebGLRenderer=function(t,e,r){if(r)for(var n in i.defaultRenderOptions)"undefined"==typeof r[n]&&(r[n]=i.defaultRenderOptions[n]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("webGL"),i.defaultRenderer=this),this.type=i.WEBGL_RENDERER,this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.width=t||800,this.height=e||600,this.view=r.view||document.createElement("canvas"),this.contextLostBound=this.handleContextLost.bind(this),this.contextRestoredBound=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLostBound,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredBound,!1),this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.projection=new i.Point,this.offset=new i.Point(0,0),this.shaderManager=new i.WebGLShaderManager,this.spriteBatch=new i.WebGLSpriteBatch,this.maskManager=new i.WebGLMaskManager,this.filterManager=new i.WebGLFilterManager,this.stencilManager=new i.WebGLStencilManager,this.blendModeManager=new i.WebGLBlendModeManager,this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},i.WebGLRenderer.prototype.constructor=i.WebGLRenderer,i.WebGLRenderer.prototype.initContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=t.id=i.WebGLRenderer.glContextId++,i.glContexts[this.glContextId]=t,i.instances[this.glContextId]=this,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.blendModeManager.setContext(t),this.stencilManager.setContext(t),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},i.WebGLRenderer.prototype.render=function(t){if(!this.contextLost){this.__stage!==t&&(t.interactive&&t.interactionManager.removeEvents(),this.__stage=t),t.updateTransform();var e=this.gl;t._interactive?t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)):t._interactiveEventsAdded&&(t._interactiveEventsAdded=!1,t.interactionManager.setTarget(this)),e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.clearBeforeRender&&(this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.projection)}},i.WebGLRenderer.prototype.renderDisplayObject=function(t,e,r){this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=r?-1:1,this.renderSession.projection=e,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),t._renderWebGL(this.renderSession),this.spriteBatch.end()},i.WebGLRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},i.WebGLRenderer.prototype.updateTexture=function(t){if(t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&i.isPowerOfTwo(t.width,t.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===i.scaleModes.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._dirty[e.id]=!1,t._glTextures[e.id]}},i.WebGLRenderer.prototype.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},i.WebGLRenderer.prototype.handleContextRestored=function(){this.initContext();for(var t in i.TextureCache){var e=i.TextureCache[t].baseTexture;e._glTextures=[]}this.contextLost=!1},i.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLostBound),this.view.removeEventListener("webglcontextrestored",this.contextRestoredBound),i.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},i.WebGLRenderer.prototype.mapBlendModes=function(){var t=this.gl;i.blendModesWebGL||(i.blendModesWebGL=[],i.blendModesWebGL[i.blendModes.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],i.blendModesWebGL[i.blendModes.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SCREEN]=[t.SRC_ALPHA,t.ONE],i.blendModesWebGL[i.blendModes.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA])},i.WebGLRenderer.glContextId=0,i.WebGLBlendModeManager=function(){this.currentBlendMode=99999},i.WebGLBlendModeManager.prototype.constructor=i.WebGLBlendModeManager,i.WebGLBlendModeManager.prototype.setContext=function(t){this.gl=t},i.WebGLBlendModeManager.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=i.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(e[0],e[1]),!0},i.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},i.WebGLMaskManager=function(){},i.WebGLMaskManager.prototype.constructor=i.WebGLMaskManager,i.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},i.WebGLMaskManager.prototype.pushMask=function(t,e){var r=e.gl;t.dirty&&i.WebGLGraphics.updateGraphics(t,r),t._webGL[r.id].data.length&&e.stencilManager.pushStencil(t,t._webGL[r.id].data[0],e)},i.WebGLMaskManager.prototype.popMask=function(t,e){var i=this.gl;e.stencilManager.popStencil(t,t._webGL[i.id].data[0],e)},i.WebGLMaskManager.prototype.destroy=function(){this.gl=null},i.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},i.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},i.WebGLStencilManager.prototype.pushStencil=function(t,e,i){var r=this.gl;this.bindGraphics(t,e,i),0===this.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var n=this.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),this.reverse=!this.reverse):(this.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.count++},i.WebGLStencilManager.prototype.bindGraphics=function(t,e,r){this._currentGraphics=t;var n,o=this.gl,s=r.projection,a=r.offset;1===e.mode?(n=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(n),o.uniform1f(n.flipY,r.flipY),o.uniformMatrix3fv(n.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform2f(n.projectionVector,s.x,-s.y),o.uniform2f(n.offsetVector,-a.x,-a.y),o.uniform3fv(n.tintColor,i.hex2rgb(t.tint)),o.uniform3fv(n.color,e.color),o.uniform1f(n.alpha,t.worldAlpha*e.alpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(n.aVertexPosition,2,o.FLOAT,!1,8,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(n=r.shaderManager.primitiveShader,r.shaderManager.setShader(n),o.uniformMatrix3fv(n.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform1f(n.flipY,r.flipY),o.uniform2f(n.projectionVector,s.x,-s.y),o.uniform2f(n.offsetVector,-a.x,-a.y),o.uniform3fv(n.tintColor,i.hex2rgb(t.tint)),o.uniform1f(n.alpha,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(n.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(n.colorAttribute,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.WebGLStencilManager.prototype.popStencil=function(t,e,i){var r=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=this.count;this.bindGraphics(t,e,i),r.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(this.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},i.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},i.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[]},i.WebGLShaderManager.prototype.constructor=i.WebGLShaderManager,i.WebGLShaderManager.prototype.setContext=function(t){this.gl=t,this.primitiveShader=new i.PrimitiveShader(t),this.complexPrimitiveShader=new i.ComplexPrimitiveShader(t),this.defaultShader=new i.PixiShader(t),this.fastShader=new i.PixiFastShader(t),this.stripShader=new i.StripShader(t),this.setShader(this.defaultShader)},i.WebGLShaderManager.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++){var i=t[e];this.tempAttribState[i]=!0}var r=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?r.enableVertexAttribArray(e):r.disableVertexAttribArray(e))},i.WebGLShaderManager.prototype.setShader=function(t){return this._currentId===t._UID?!1:(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},i.WebGLSpriteBatch=function(){this.vertSize=5,this.size=2e3;var t=4*this.size*4*this.vertSize,e=6*this.size;this.vertices=new i.ArrayBuffer(t),this.positions=new i.Float32Array(this.vertices),this.colors=new i.Uint32Array(this.vertices),this.indices=new i.Uint16Array(e),this.lastIndexCount=0;for(var r=0,n=0;e>r;r+=6,n+=4)this.indices[r+0]=n+0,this.indices[r+1]=n+1,this.indices[r+2]=n+2,this.indices[r+3]=n+0,this.indices[r+4]=n+2,this.indices[r+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new i.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},i.WebGLSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999;var e=new i.PixiShader(t);e.fragmentSrc=this.defaultShader.fragmentSrc,e.uniforms={},e.init(),this.defaultShader.shaders[t.id]=e},i.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},i.WebGLSpriteBatch.prototype.end=function(){this.flush()},i.WebGLSpriteBatch.prototype.render=function(t){var e=t.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture);var i=e._uvs;if(i){var r,n,o,s,a=t.anchor.x,h=t.anchor.y;if(e.trim){var u=e.trim;n=u.x-a*u.width,r=n+e.crop.width,s=u.y-h*u.height,o=s+e.crop.height}else r=e.frame.width*(1-a),n=e.frame.width*-a,o=e.frame.height*(1-h),s=e.frame.height*-h;var l=4*this.currentBatchSize*this.vertSize,c=e.baseTexture.resolution,d=t.worldTransform,p=d.a/c,f=d.b/c,g=d.c/c,m=d.d/c,v=d.tx,y=d.ty,x=this.colors,b=this.positions;this.renderSession.roundPixels?(b[l]=p*n+g*s+v|0,b[l+1]=m*s+f*n+y|0,b[l+5]=p*r+g*s+v|0,b[l+6]=m*s+f*r+y|0,b[l+10]=p*r+g*o+v|0,b[l+11]=m*o+f*r+y|0,b[l+15]=p*n+g*o+v|0,b[l+16]=m*o+f*n+y|0):(b[l]=p*n+g*s+v,b[l+1]=m*s+f*n+y,b[l+5]=p*r+g*s+v,b[l+6]=m*s+f*r+y,b[l+10]=p*r+g*o+v,b[l+11]=m*o+f*r+y,b[l+15]=p*n+g*o+v,b[l+16]=m*o+f*n+y),b[l+2]=i.x0,b[l+3]=i.y0,b[l+7]=i.x1,b[l+8]=i.y1,b[l+12]=i.x2,b[l+13]=i.y2,b[l+17]=i.x3,b[l+18]=i.y3;var w=t.tint;x[l+4]=x[l+9]=x[l+14]=x[l+19]=(w>>16)+(65280&w)+((255&w)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.WebGLSpriteBatch.prototype.renderTilingSprite=function(t){var e=t.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture),t._uvs||(t._uvs=new i.TextureUvs);var r=t._uvs;t.tilePosition.x%=e.baseTexture.width*t.tileScaleOffset.x,t.tilePosition.y%=e.baseTexture.height*t.tileScaleOffset.y;var n=t.tilePosition.x/(e.baseTexture.width*t.tileScaleOffset.x),o=t.tilePosition.y/(e.baseTexture.height*t.tileScaleOffset.y),s=t.width/e.baseTexture.width/(t.tileScale.x*t.tileScaleOffset.x),a=t.height/e.baseTexture.height/(t.tileScale.y*t.tileScaleOffset.y);r.x0=0-n,r.y0=0-o,r.x1=1*s-n,r.y1=0-o,r.x2=1*s-n,r.y2=1*a-o,r.x3=0-n,r.y3=1*a-o;var h=t.tint,u=(h>>16)+(65280&h)+((255&h)<<16)+(255*t.alpha<<24),l=this.positions,c=this.colors,d=t.width,p=t.height,f=t.anchor.x,g=t.anchor.y,m=d*(1-f),v=d*-f,y=p*(1-g),x=p*-g,b=4*this.currentBatchSize*this.vertSize,w=e.baseTexture.resolution,A=t.worldTransform,_=A.a/w,T=A.b/w,S=A.c/w,C=A.d/w,E=A.tx,M=A.ty;l[b++]=_*v+S*x+E,l[b++]=C*x+T*v+M,l[b++]=r.x0,l[b++]=r.y0,c[b++]=u,l[b++]=_*m+S*x+E,l[b++]=C*x+T*m+M,l[b++]=r.x1,l[b++]=r.y1,c[b++]=u,l[b++]=_*m+S*y+E,l[b++]=C*y+T*m+M,l[b++]=r.x2,l[b++]=r.y2,c[b++]=u,l[b++]=_*v+S*y+E,l[b++]=C*y+T*v+M,l[b++]=r.x3,l[b++]=r.y3,c[b++]=u,this.sprites[this.currentBatchSize++]=t},i.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.gl;if(this.dirty){this.dirty=!1,e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t=this.defaultShader.shaders[e.id];var r=4*this.vertSize;e.vertexAttribPointer(t.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(t.aTextureCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(t.colorAttribute,4,e.UNSIGNED_BYTE,!0,r,16)}if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,n)}for(var o,s,a,h,u=0,l=0,c=null,d=this.renderSession.blendModeManager.currentBlendMode,p=null,f=!1,g=!1,m=0,v=this.currentBatchSize;v>m;m++){if(h=this.sprites[m],o=h.texture.baseTexture,s=h.blendMode,a=h.shader||this.defaultShader,f=d!==s,g=p!==a,(c!==o||f||g)&&(this.renderBatch(c,u,l),l=m,u=0,c=o,f&&(d=s,this.renderSession.blendModeManager.setBlendMode(d)),g)){p=a,t=p.shaders[e.id],t||(t=new i.PixiShader(e),t.fragmentSrc=p.fragmentSrc,t.uniforms=p.uniforms,t.init(),p.shaders[e.id]=t),this.renderSession.shaderManager.setShader(t),t.dirty&&t.syncUniforms();var y=this.renderSession.projection;e.uniform2f(t.projectionVector,y.x,y.y);var x=this.renderSession.offset;e.uniform2f(t.offsetVector,x.x,x.y)}u++}this.renderBatch(c,u,l),this.currentBatchSize=0}},i.WebGLSpriteBatch.prototype.renderBatch=function(t,e,i){if(0!==e){var r=this.gl;t._dirty[r.id]?this.renderSession.renderer.updateTexture(t):r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]),r.drawElements(r.TRIANGLES,6*e,r.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},i.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},i.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},i.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},i.WebGLFastSpriteBatch=function(t){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var e=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new i.Float32Array(e),this.indices=new i.Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var n=0,o=0;r>n;n+=6,o+=4)this.indices[n+0]=o+0,this.indices[n+1]=o+1,this.indices[n+2]=o+2,this.indices[n+3]=o+0,this.indices[n+4]=o+2,this.indices[n+5]=o+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(t)},i.WebGLFastSpriteBatch.prototype.constructor=i.WebGLFastSpriteBatch,i.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},i.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},i.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,i=e[0];if(i.texture._uvs){this.currentBaseTexture=i.texture.baseTexture,i.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(i.blendMode));for(var r=0,n=e.length;n>r;r++)this.renderSprite(e[r]);this.flush()}},i.WebGLFastSpriteBatch.prototype.renderSprite=function(t){if(t.visible&&(t.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=t.texture.baseTexture,t.texture._uvs))){var e,i,r,n,o,s,a,h,u=this.vertices;if(e=t.texture._uvs,i=t.texture.frame.width,r=t.texture.frame.height,t.texture.trim){var l=t.texture.trim;o=l.x-t.anchor.x*l.width,n=o+t.texture.crop.width,a=l.y-t.anchor.y*l.height,s=a+t.texture.crop.height}else n=t.texture.frame.width*(1-t.anchor.x),o=t.texture.frame.width*-t.anchor.x,s=t.texture.frame.height*(1-t.anchor.y),a=t.texture.frame.height*-t.anchor.y;h=4*this.currentBatchSize*this.vertSize,u[h++]=o,u[h++]=a,u[h++]=t.position.x,u[h++]=t.position.y,u[h++]=t.scale.x,u[h++]=t.scale.y,u[h++]=t.rotation,u[h++]=e.x0,u[h++]=e.y1,u[h++]=t.alpha,u[h++]=n,u[h++]=a,u[h++]=t.position.x,u[h++]=t.position.y,u[h++]=t.scale.x,u[h++]=t.scale.y,u[h++]=t.rotation,u[h++]=e.x1,u[h++]=e.y1,u[h++]=t.alpha,u[h++]=n,u[h++]=s,u[h++]=t.position.x,u[h++]=t.position.y,u[h++]=t.scale.x,u[h++]=t.scale.y,u[h++]=t.rotation,u[h++]=e.x2,u[h++]=e.y2,u[h++]=t.alpha,u[h++]=o,u[h++]=s,u[h++]=t.position.x,u[h++]=t.position.y,u[h++]=t.scale.x,u[h++]=t.scale.y,u[h++]=t.rotation,u[h++]=e.x3,u[h++]=e.y3,u[h++]=t.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},i.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t=this.gl;if(this.currentBaseTexture._glTextures[t.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,t),t.bindTexture(t.TEXTURE_2D,this.currentBaseTexture._glTextures[t.id]),this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,e)}t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},i.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.renderSession.projection;t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var i=4*this.vertSize;t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,i,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,i,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,i,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,i,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,i,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,i,36)},i.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},i.WebGLFilterManager.prototype.constructor=i.WebGLFilterManager,i.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},i.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;var i=this.renderSession.projection;this.width=2*i.x,this.height=2*-i.y,this.buffer=e},i.WebGLFilterManager.prototype.pushFilter=function(t){var e=this.gl,r=this.renderSession.projection,n=this.renderSession.offset;t._filterArea=t.target.filterArea||t.target.getBounds(),this.filterStack.push(t);var o=t.filterPasses[0];this.offsetX+=t._filterArea.x,this.offsetY+=t._filterArea.y;var s=this.texturePool.pop();s?s.resize(this.width,this.height):s=new i.FilterTexture(this.gl,this.width,this.height),e.bindTexture(e.TEXTURE_2D,s.texture);var a=t._filterArea,h=o.padding;a.x-=h,a.y-=h,a.width+=2*h,a.height+=2*h,a.x<0&&(a.x=0),a.width>this.width&&(a.width=this.width),a.y<0&&(a.y=0),a.height>this.height&&(a.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,s.frameBuffer),e.viewport(0,0,a.width,a.height),r.x=a.width/2,r.y=-a.height/2,n.x=-a.x,n.y=-a.y,e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=s},i.WebGLFilterManager.prototype.popFilter=function(){var t=this.gl,e=this.filterStack.pop(),r=e._filterArea,n=e._glFilterTexture,o=this.renderSession.projection,s=this.renderSession.offset;if(e.filterPasses.length>1){t.viewport(0,0,r.width,r.height),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var a=n,h=this.texturePool.pop();h||(h=new i.FilterTexture(this.gl,this.width,this.height)),h.resize(this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,h.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var u=0;u<e.filterPasses.length-1;u++){var l=e.filterPasses[u];t.bindFramebuffer(t.FRAMEBUFFER,h.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,a.texture),this.applyFilterPass(l,r,r.width,r.height);var c=a;a=h,h=c}t.enable(t.BLEND),n=a,this.texturePool.push(h)}var d=e.filterPasses[e.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var p=this.width,f=this.height,g=0,m=0,v=this.buffer;if(0===this.filterStack.length)t.colorMask(!0,!0,!0,!0);else{var y=this.filterStack[this.filterStack.length-1];r=y._filterArea,p=r.width,f=r.height,g=r.x,m=r.y,v=y._glFilterTexture.frameBuffer}o.x=p/2,o.y=-f/2,s.x=g,s.y=m,r=e._filterArea;var x=r.x-g,b=r.y-m;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=x,this.vertexArray[1]=b+r.height,this.vertexArray[2]=x+r.width,this.vertexArray[3]=b+r.height,this.vertexArray[4]=x,this.vertexArray[5]=b,this.vertexArray[6]=x+r.width,this.vertexArray[7]=b,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,p,f),t.bindFramebuffer(t.FRAMEBUFFER,v),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n.texture),this.applyFilterPass(d,r,p,f),this.texturePool.push(n),e._glFilterTexture=null},i.WebGLFilterManager.prototype.applyFilterPass=function(t,e,r,n){var o=this.gl,s=t.shaders[o.id];s||(s=new i.PixiShader(o),s.fragmentSrc=t.fragmentSrc,s.uniforms=t.uniforms,s.init(),t.shaders[o.id]=s),this.renderSession.shaderManager.setShader(s),o.uniform2f(s.projectionVector,r/2,-n/2),o.uniform2f(s.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),s.syncUniforms(),o.bindBuffer(o.ARRAY_BUFFER,this.vertexBuffer),o.vertexAttribPointer(s.aVertexPosition,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.uvBuffer),o.vertexAttribPointer(s.aTextureCoord,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.colorBuffer),o.vertexAttribPointer(s.colorAttribute,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),this.renderSession.drawCount++},i.WebGLFilterManager.prototype.initShaderBuffers=function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new i.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new i.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.colorArray=new i.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},i.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},i.FilterTexture=function(t,e,r,n){this.gl=t,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),n=n||i.scaleModes.DEFAULT,t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,r)
},i.FilterTexture.prototype.constructor=i.FilterTexture,i.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},i.FilterTexture.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e)}},i.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},i.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(t,e){var r=e.context;r.save();var n=t.alpha,o=t.worldTransform,s=e.resolution;r.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),i.CanvasGraphics.renderGraphicsMask(t,r),r.clip(),t.worldAlpha=n},i.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},i.CanvasTinter=function(){},i.CanvasTinter.getTintedTexture=function(t,e){var r=t.texture;e=i.CanvasTinter.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var o=i.CanvasTinter.canvas||document.createElement("canvas");if(i.CanvasTinter.tintMethod(r,e,o),i.CanvasTinter.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[n]=s}else r.tintCache[n]=o,i.CanvasTinter.canvas=null;return o},i.CanvasTinter.tintWithMultiply=function(t,e,i){var r=i.getContext("2d"),n=t.crop;i.width=n.width,i.height=n.height,r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},i.CanvasTinter.tintWithOverlay=function(t,e,i){var r=i.getContext("2d"),n=t.crop;i.width=n.width,i.height=n.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},i.CanvasTinter.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),o=t.crop;r.width=o.width,r.height=o.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=i.hex2rgb(e),a=s[0],h=s[1],u=s[2],l=n.getImageData(0,0,o.width,o.height),c=l.data,d=0;d<c.length;d+=4)c[d+0]*=a,c[d+1]*=h,c[d+2]*=u;n.putImageData(l,0,0)},i.CanvasTinter.roundColor=function(t){var e=i.CanvasTinter.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},i.CanvasTinter.cacheStepsPerColorChannel=8,i.CanvasTinter.convertTintToImage=!1,i.CanvasTinter.canUseMultiply=i.canUseNewCanvasBlendModes(),i.CanvasTinter.tintMethod=i.CanvasTinter.canUseMultiply?i.CanvasTinter.tintWithMultiply:i.CanvasTinter.tintWithPerPixel,i.CanvasRenderer=function(t,e,r){if(r)for(var n in i.defaultRenderOptions)"undefined"==typeof r[n]&&(r[n]=i.defaultRenderOptions[n]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("Canvas"),i.defaultRenderer=this),this.type=i.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=t||800,this.height=e||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(t,e),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(t){t.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=i.blendModes.NORMAL,this.context.globalCompositeOperation=i.blendModesCanvas[i.blendModes.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=t.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)))},i.CanvasRenderer.prototype.destroy=function(t){"undefined"==typeof t&&(t=!0),t&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession)},i.CanvasRenderer.prototype.mapBlendModes=function(){i.blendModesCanvas||(i.blendModesCanvas=[],i.canUseNewCanvasBlendModes()?(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="multiply",i.blendModesCanvas[i.blendModes.SCREEN]="screen",i.blendModesCanvas[i.blendModes.OVERLAY]="overlay",i.blendModesCanvas[i.blendModes.DARKEN]="darken",i.blendModesCanvas[i.blendModes.LIGHTEN]="lighten",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="color-dodge",i.blendModesCanvas[i.blendModes.COLOR_BURN]="color-burn",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="hard-light",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="soft-light",i.blendModesCanvas[i.blendModes.DIFFERENCE]="difference",i.blendModesCanvas[i.blendModes.EXCLUSION]="exclusion",i.blendModesCanvas[i.blendModes.HUE]="hue",i.blendModesCanvas[i.blendModes.SATURATION]="saturation",i.blendModesCanvas[i.blendModes.COLOR]="color",i.blendModesCanvas[i.blendModes.LUMINOSITY]="luminosity"):(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="source-over",i.blendModesCanvas[i.blendModes.SCREEN]="source-over",i.blendModesCanvas[i.blendModes.OVERLAY]="source-over",i.blendModesCanvas[i.blendModes.DARKEN]="source-over",i.blendModesCanvas[i.blendModes.LIGHTEN]="source-over",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="source-over",i.blendModesCanvas[i.blendModes.COLOR_BURN]="source-over",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.DIFFERENCE]="source-over",i.blendModesCanvas[i.blendModes.EXCLUSION]="source-over",i.blendModesCanvas[i.blendModes.HUE]="source-over",i.blendModesCanvas[i.blendModes.SATURATION]="source-over",i.blendModesCanvas[i.blendModes.COLOR]="source-over",i.blendModesCanvas[i.blendModes.LUMINOSITY]="source-over"))},i.CanvasGraphics=function(){},i.CanvasGraphics.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.Graphics.POLY){e.beginPath();var u=s.points;e.moveTo(u[0],u[1]);for(var l=1;l<u.length/2;l++)e.lineTo(u[2*l],u[2*l+1]);s.closed&&e.lineTo(u[0],u[1]),u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.Graphics.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.Graphics.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.Graphics.ELIP){var c=2*s.width,d=2*s.height,p=s.x-c/2,f=s.y-d/2;e.beginPath();var g=.5522848,m=c/2*g,v=d/2*g,y=p+c,x=f+d,b=p+c/2,w=f+d/2;e.moveTo(p,w),e.bezierCurveTo(p,w-v,b-m,f,b,f),e.bezierCurveTo(b+m,f,y,w-v,y,w),e.bezierCurveTo(y,w+v,b+m,x,b,x),e.bezierCurveTo(b-m,x,p,w+v,p,w),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.Graphics.RREC){var A=s.x,_=s.y,T=s.width,S=s.height,C=s.radius,E=Math.min(T,S)/2|0;C=C>E?E:C,e.beginPath(),e.moveTo(A,_+C),e.lineTo(A,_+S-C),e.quadraticCurveTo(A,_+S,A+C,_+S),e.lineTo(A+T-C,_+S),e.quadraticCurveTo(A+T,_+S,A+T,_+S-C),e.lineTo(A+T,_+C),e.quadraticCurveTo(A+T,_,A+T-C,_),e.lineTo(A+C,_),e.quadraticCurveTo(A,_,A,_+C),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},i.CanvasGraphics.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){r>1&&(r=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var n=0;1>n;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.Graphics.POLY){e.beginPath();var a=s.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.Graphics.RECT)e.beginPath(),e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.Graphics.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.Graphics.ELIP){var u=2*s.width,l=2*s.height,c=s.x-u/2,d=s.y-l/2;e.beginPath();var p=.5522848,f=u/2*p,g=l/2*p,m=c+u,v=d+l,y=c+u/2,x=d+l/2;e.moveTo(c,x),e.bezierCurveTo(c,x-g,y-f,d,y,d),e.bezierCurveTo(y+f,d,m,x-g,m,x),e.bezierCurveTo(m,x+g,y+f,v,y,v),e.bezierCurveTo(y-f,v,c,x+g,c,x),e.closePath()}else if(o.type===i.Graphics.RREC){var b=s.points,w=b[0],A=b[1],_=b[2],T=b[3],S=b[4],C=Math.min(_,T)/2|0;S=S>C?C:S,e.beginPath(),e.moveTo(w,A+S),e.lineTo(w,A+T-S),e.quadraticCurveTo(w,A+T,w+S,A+T),e.lineTo(w+_-S,A+T),e.quadraticCurveTo(w+_,A+T,w+_,A+T-S),e.lineTo(w+_,A+S),e.quadraticCurveTo(w+_,A,w+_-S,A),e.lineTo(w+S,A),e.quadraticCurveTo(w,A,w,A+S),e.closePath()}}}},i.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,r=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*r*255}},i.Graphics=function(){i.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this.webGLDirty=!1,this.cachedSpriteDirty=!1},i.Graphics.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),i.Graphics.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},i.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new i.Polygon([t,e])),this},i.Graphics.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(t,e,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],u=a[a.length-1],l=0,c=1;s>=c;c++)l=c/s,n=h+(t-h)*l,o=u+(e-u)*l,a.push(n+(t+(i-t)*l-n)*l,o+(e+(r-e)*l-o)*l);return this.dirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(t,e,i,r,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,u,l,c=20,d=this.currentPath.shape.points,p=d[d.length-2],f=d[d.length-1],g=0,m=1;c>=m;m++)g=m/c,s=1-g,a=s*s,h=a*s,u=g*g,l=u*g,d.push(h*p+3*a*g*t+3*s*u*i+l*n,h*f+3*a*g*e+3*s*u*r+l*o);return this.dirty=!0,this},i.Graphics.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],h=a-e,u=s-t,l=r-e,c=i-t,d=Math.abs(h*c-u*l);if(1e-8>d||0===n)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var p=h*h+u*u,f=l*l+c*c,g=h*l+u*c,m=n*Math.sqrt(p)/d,v=n*Math.sqrt(f)/d,y=m*g/p,x=v*g/f,b=m*c+v*u,w=m*l+v*h,A=u*(v+y),_=h*(v+y),T=c*(m+x),S=l*(m+x),C=Math.atan2(_-w,A-b),E=Math.atan2(S-w,T-b);this.arc(b+t,w+e,n,C,E,u*l>c*h)}return this.dirty=!0,this},i.Graphics.prototype.arc=function(t,e,i,r,n,o){var s,a=t+Math.cos(r)*i,h=e+Math.sin(r)*i;if(this.currentPath?(s=this.currentPath.shape.points,0===s.length?s.push(a,h):(s[s.length-2]!==a||s[s.length-1]!==h)&&s.push(a,h)):(this.moveTo(a,h),s=this.currentPath.shape.points),r===n)return this;!o&&r>=n?n+=2*Math.PI:o&&n>=r&&(r+=2*Math.PI);var u=o?-1*(r-n):n-r,l=Math.abs(u)/(2*Math.PI)*40;if(0===u)return this;for(var c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),g=l-1,m=g%1/g,v=0;g>=v;v++){var y=v+m*v,x=c+r+d*y,b=Math.cos(x),w=-Math.sin(x);s.push((p*b+f*w)*i+t,(p*-w+f*b)*i+e)}return this.dirty=!0,this},i.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(t,e,r,n){return this.drawShape(new i.Rectangle(t,e,r,n)),this},i.Graphics.prototype.drawRoundedRect=function(t,e,r,n,o){return this.drawShape(new i.RoundedRectangle(t,e,r,n,o)),this},i.Graphics.prototype.drawCircle=function(t,e,r){return this.drawShape(new i.Circle(t,e,r)),this},i.Graphics.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new i.Ellipse(t,e,r,n)),this},i.Graphics.prototype.drawPolygon=function(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.drawShape(new i.Polygon(t)),this},i.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.Graphics.prototype.generateTexture=function(t,e){t=t||1;var r=this.getBounds(),n=new i.CanvasBuffer(r.width*t,r.height*t),o=i.Texture.fromCanvas(n.canvas,e);return o.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-r.x,-r.y),i.CanvasGraphics.renderGraphics(this,n.context),o},i.Graphics.prototype._renderWebGL=function(t){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void i.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode){t.spriteBatch.currentBlendMode=this.blendMode;var e=i.blendModesWebGL[t.spriteBatch.currentBlendMode];t.spriteBatch.gl.blendFunc(e[0],e[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),i.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var r=0,n=this.children.length;n>r;r++)this.children[r]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},i.Graphics.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void i.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,r=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=i.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t);var n=t.resolution;e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),i.CanvasGraphics.renderGraphics(this,e);for(var o=0,s=this.children.length;s>o;o++)this.children[o]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.Graphics.prototype.getBounds=function(t){if(this.isMask)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,r=e.x,n=e.width+e.x,o=e.y,s=e.height+e.y,a=t||this.worldTransform,h=a.a,u=a.b,l=a.c,c=a.d,d=a.tx,p=a.ty,f=h*n+l*s+d,g=c*s+u*n+p,m=h*r+l*s+d,v=c*s+u*r+p,y=h*r+l*o+d,x=c*o+u*r+p,b=h*n+l*o+d,w=c*o+u*n+p,A=f,_=g,T=f,S=g;return T=T>m?m:T,T=T>y?y:T,T=T>b?b:T,S=S>v?v:S,S=S>x?x:S,S=S>w?w:S,A=m>A?m:A,A=y>A?y:A,A=b>A?b:A,_=v>_?v:_,_=x>_?x:_,_=w>_?w:_,this._bounds.x=T,this._bounds.width=A-T,this._bounds.y=S,this._bounds.height=_-S,this._bounds},i.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var o,s,a,h,u,l,c=0;c<this.graphicsData.length;c++){var d=this.graphicsData[c],p=d.type,f=d.lineWidth;if(o=d.shape,p===i.Graphics.RECT||p===i.Graphics.RREC)a=o.x-f/2,h=o.y-f/2,u=o.width+f,l=o.height+f,t=t>a?a:t,e=a+u>e?a+u:e,r=r>h?h:r,n=h+l>n?h+l:n;else if(p===i.Graphics.CIRC)a=o.x,h=o.y,u=o.radius+f/2,l=o.radius+f/2,t=t>a-u?a-u:t,e=a+u>e?a+u:e,r=r>h-l?h-l:r,n=h+l>n?h+l:n;else if(p===i.Graphics.ELIP)a=o.x,h=o.y,u=o.width+f/2,l=o.height+f/2,t=t>a-u?a-u:t,e=a+u>e?a+u:e,r=r>h-l?h-l:r,n=h+l>n?h+l:n;else{s=o.points;for(var g=0;g<s.length;g+=2)a=s[g],h=s[g+1],t=t>a-f?a-f:t,e=a+f>e?a+f:e,r=r>h-f?h-f:r,n=h+f>n?h+f:n}}else t=0,e=0,r=0,n=0;var m=this.boundsPadding;this._localBounds.x=t-m,this._localBounds.width=e-t+2*m,this._localBounds.y=r-m,this._localBounds.height=n-r+2*m},i.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new i.CanvasBuffer(t.width,t.height),r=i.Texture.fromCanvas(e.canvas);this._cachedSprite=new i.Sprite(r),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this._cachedSprite.buffer.context.translate(-t.x,-t.y),this.worldAlpha=1,i.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===i.Graphics.POLY&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,e},i.GraphicsData=function(t,e,i,r,n,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=r,this.fillAlpha=n,this._fillTint=r,this.fill=o,this.shape=s,this.type=s.type},i.Graphics.POLY=0,i.Graphics.RECT=1,i.Graphics.CIRC=2,i.Graphics.ELIP=3,i.Graphics.RREC=4,i.Polygon.prototype.type=i.Graphics.POLY,i.Rectangle.prototype.type=i.Graphics.RECT,i.Circle.prototype.type=i.Graphics.CIRC,i.Ellipse.prototype.type=i.Graphics.ELIP,i.RoundedRectangle.prototype.type=i.Graphics.RREC,i.Strip=function(t){i.DisplayObjectContainer.call(this),this.texture=t,this.uvs=new i.Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new i.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new i.Float32Array([1,1,1,1]),this.indices=new i.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=i.blendModes.NORMAL,this.canvasPadding=0,this.drawMode=i.Strip.DrawModes.TRIANGLE_STRIP},i.Strip.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Strip.prototype.constructor=i.Strip,i.Strip.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},i.Strip.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},i.Strip.prototype._renderStrip=function(t){var e=t.gl,r=t.projection,n=t.offset,o=t.shaderManager.stripShader,s=this.drawMode===i.Strip.DrawModes.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(o.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(o.projectionVector,r.x,-r.y),e.uniform2f(o.offsetVector,-n.x,-n.y),e.uniform1f(o.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(s,this.indices.length,e.UNSIGNED_SHORT,0)},i.Strip.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.Strip.DrawModes.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e)},i.Strip.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,i=this.uvs,r=e.length/2;this.count++;for(var n=0;r-2>n;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,i,o,o+2,o+4)}},i.Strip.prototype._renderCanvasTriangles=function(t){var e=this.vertices,i=this.uvs,r=this.indices,n=r.length;this.count++;for(var o=0;n>o;o+=3){var s=2*r[o],a=2*r[o+1],h=2*r[o+2];this._renderCanvasDrawTriangle(t,e,i,s,a,h)}},i.Strip.prototype._renderCanvasDrawTriangle=function(t,e,i,r,n,o){var s=this.texture.baseTexture.source,a=this.texture.width,h=this.texture.height,u=e[r],l=e[n],c=e[o],d=e[r+1],p=e[n+1],f=e[o+1],g=i[r]*a,m=i[n]*a,v=i[o]*a,y=i[r+1]*h,x=i[n+1]*h,b=i[o+1]*h;if(this.canvasPadding>0){var w=this.canvasPadding/this.worldTransform.a,A=this.canvasPadding/this.worldTransform.d,_=(u+l+c)/3,T=(d+p+f)/3,S=u-_,C=d-T,E=Math.sqrt(S*S+C*C);u=_+S/E*(E+w),d=T+C/E*(E+A),S=l-_,C=p-T,E=Math.sqrt(S*S+C*C),l=_+S/E*(E+w),p=T+C/E*(E+A),S=c-_,C=f-T,E=Math.sqrt(S*S+C*C),c=_+S/E*(E+w),f=T+C/E*(E+A)}t.save(),t.beginPath(),t.moveTo(u,d),t.lineTo(l,p),t.lineTo(c,f),t.closePath(),t.clip();var M=g*x+y*v+m*b-x*v-y*m-g*b,R=u*x+y*c+l*b-x*c-y*l-u*b,P=g*l+u*v+m*c-l*v-u*m-g*c,L=g*x*c+y*l*v+u*m*b-u*x*v-y*m*c-g*l*b,B=d*x+y*f+p*b-x*f-y*p-d*b,F=g*p+d*v+m*f-p*v-d*m-g*f,O=g*x*f+y*p*v+d*m*b-d*x*v-y*m*f-g*p*b;t.transform(R/M,B/M,P/M,F/M,L/M,O/M),t.drawImage(s,0,0),t.restore()},i.Strip.prototype.renderStripFlat=function(t){var e=this.context,i=t.vertices,r=i.length/2;this.count++,e.beginPath();for(var n=1;r-2>n;n++){var o=2*n,s=i[o],a=i[o+2],h=i[o+4],u=i[o+1],l=i[o+3],c=i[o+5];e.moveTo(s,u),e.lineTo(a,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},i.Strip.prototype.getBounds=function(t){for(var e=t||this.worldTransform,r=e.a,n=e.b,o=e.c,s=e.d,a=e.tx,h=e.ty,u=-1/0,l=-1/0,c=1/0,d=1/0,p=this.vertices,f=0,g=p.length;g>f;f+=2){var m=p[f],v=p[f+1],y=r*m+o*v+a,x=s*v+n*m+h;c=c>y?y:c,d=d>x?x:d,u=y>u?y:u,l=x>l?x:l}if(c===-1/0||1/0===l)return i.EmptyRectangle;var b=this._bounds;return b.x=c,b.width=u-c,b.y=d,b.height=l-d,this._currentBounds=b,b},i.Strip.DrawModes={TRIANGLE_STRIP:0,TRIANGLES:1},i.Rope=function(t,e){i.Strip.call(this,t),this.points=e,this.vertices=new i.Float32Array(4*e.length),this.uvs=new i.Float32Array(4*e.length),this.colors=new i.Float32Array(2*e.length),this.indices=new i.Uint16Array(2*e.length),this.refresh()},i.Rope.prototype=Object.create(i.Strip.prototype),i.Rope.prototype.constructor=i.Rope,i.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=t[0],r=this.indices,n=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var o,s,a,h=t.length,u=1;h>u;u++)o=t[u],s=4*u,a=u/(h-1),u%2?(e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1):(e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1),s=2*u,n[s]=1,n[s+1]=1,s=2*u,r[s]=s,r[s+1]=s+1,i=o}},i.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,r=t[0],n={x:0,y:0};this.count-=.2;for(var o,s,a,h,u,l=this.vertices,c=t.length,d=0;c>d;d++)o=t[d],s=4*d,e=d<t.length-1?t[d+1]:o,n.y=-(e.x-r.x),n.x=e.y-r.y,a=10*(1-d/(c-1)),a>1&&(a=1),h=Math.sqrt(n.x*n.x+n.y*n.y),u=this.texture.height/2,n.x/=h,n.y/=h,n.x*=u,n.y*=u,l[s]=o.x+n.x,l[s+1]=o.y+n.y,l[s+2]=o.x-n.x,l[s+3]=o.y-n.y,r=o;i.DisplayObjectContainer.prototype.updateTransform.call(this)}},i.Rope.prototype.setTexture=function(t){this.texture=t},i.TilingSprite=function(t,e,r){i.Sprite.call(this,t),this._width=e||100,this._height=r||100,this.tileScale=new i.Point(1,1),this.tileScaleOffset=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL},i.TilingSprite.prototype=Object.create(i.Sprite.prototype),i.TilingSprite.prototype.constructor=i.TilingSprite,Object.defineProperty(i.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(i.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),i.TilingSprite.prototype.setTexture=function(t){this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215)},i.TilingSprite.prototype._renderWebGL=function(t){if(this.visible!==!1&&0!==this.alpha){var e,i;for(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)):t.spriteBatch.renderTilingSprite(this),e=0,i=this.children.length;i>e;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this._mask,t),t.spriteBatch.start()}},i.TilingSprite.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,e),e.globalAlpha=this.worldAlpha;var r,n,o=this.worldTransform,s=t.resolution;if(e.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=i.blendModesCanvas[t.currentBlendMode]);var a=this.tilePosition,h=this.tileScale;for(a.x%=this.tilingTexture.baseTexture.width,a.y%=this.tilingTexture.baseTexture.height,e.scale(h.x,h.y),e.translate(a.x+this.anchor.x*-this._width,a.y+this.anchor.y*-this._height),e.fillStyle=this.__tilePattern,e.fillRect(-a.x,-a.y,this._width/h.x,this._height/h.y),e.scale(1/h.x,1/h.y),e.translate(-a.x+this.anchor.x*this._width,-a.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t.context),r=0,n=this.children.length;n>r;r++)this.children[r]._renderCanvas(t)
}},i.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),r=t*-this.anchor.x,n=e*(1-this.anchor.y),o=e*-this.anchor.y,s=this.worldTransform,a=s.a,h=s.b,u=s.c,l=s.d,c=s.tx,d=s.ty,p=a*r+u*o+c,f=l*o+h*r+d,g=a*i+u*o+c,m=l*o+h*i+d,v=a*i+u*n+c,y=l*n+h*i+d,x=a*r+u*n+c,b=l*n+h*r+d,w=-1/0,A=-1/0,_=1/0,T=1/0;_=_>p?p:_,_=_>g?g:_,_=_>v?v:_,_=_>x?x:_,T=T>f?f:T,T=T>m?m:T,T=T>y?y:T,T=T>b?b:T,w=p>w?p:w,w=g>w?g:w,w=v>w?v:w,w=x>w?x:w,A=f>A?f:A,A=m>A?m:A,A=y>A?y:A,A=b>A?b:A;var S=this._bounds;return S.x=_,S.width=w-_,S.y=T,S.height=A-T,this._currentBounds=S,S},i.TilingSprite.prototype.onTextureUpdate=function(){},i.TilingSprite.prototype.generateTilingTexture=function(t){if(this.texture.baseTexture.hasLoaded){var e,r,n=this.originalTexture||this.texture,o=n.frame,s=o.width!==n.baseTexture.width||o.height!==n.baseTexture.height,a=!1;if(t?(e=i.getNextPowerOfTwo(o.width),r=i.getNextPowerOfTwo(o.height),(o.width!==e||o.height!==r||n.baseTexture.width!==e||n.baseTexture.height||r)&&(a=!0)):s&&(e=o.width,r=o.height,a=!0),a){var h;this.tilingTexture&&this.tilingTexture.isTiling?(h=this.tilingTexture.canvasBuffer,h.resize(e,r),this.tilingTexture.baseTexture.width=e,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(h=new i.CanvasBuffer(e,r),this.tilingTexture=i.Texture.fromCanvas(h.canvas),this.tilingTexture.canvasBuffer=h,this.tilingTexture.isTiling=!0),h.context.drawImage(n.baseTexture.source,n.crop.x,n.crop.y,n.crop.width,n.crop.height,0,0,e,r),this.tileScaleOffset.x=o.width/e,this.tileScaleOffset.y=o.height/r}else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=n;this.refreshTexture=!1,this.originalTexture=this.texture,this.texture=this.tilingTexture,this.tilingTexture.baseTexture._powerOf2=!0}},i.TilingSprite.prototype.destroy=function(){i.Sprite.prototype.destroy.call(this),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture.destroy(!0),this.tilingTexture=null};var r={radDeg:180/Math.PI,degRad:Math.PI/180,temp:[],Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array};r.BoneData=function(t,e){this.name=t,this.parent=e},r.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0,flipX:!1,flipY:!1},r.SlotData=function(t,e){this.name=t,this.boneData=e},r.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,additiveBlending:!1},r.IkConstraintData=function(t){this.name=t,this.bones=[]},r.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},r.Bone=function(t,e,i){this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()},r.Bone.yDown=!1,r.Bone.prototype={x:0,y:0,rotation:0,rotationIK:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,worldFlipX:!1,worldFlipY:!1,updateWorldTransform:function(){var t=this.parent;if(t)this.worldX=this.x*t.m00+this.y*t.m01+t.worldX,this.worldY=this.x*t.m10+this.y*t.m11+t.worldY,this.data.inheritScale?(this.worldScaleX=t.worldScaleX*this.scaleX,this.worldScaleY=t.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY),this.worldRotation=this.data.inheritRotation?t.worldRotation+this.rotationIK:this.rotationIK,this.worldFlipX=t.worldFlipX!=this.flipX,this.worldFlipY=t.worldFlipY!=this.flipY;else{var e=this.skeleton.flipX,i=this.skeleton.flipY;this.worldX=e?-this.x:this.x,this.worldY=i!=r.Bone.yDown?-this.y:this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotationIK,this.worldFlipX=e!=this.flipX,this.worldFlipY=i!=this.flipY}var n=this.worldRotation*r.degRad,o=Math.cos(n),s=Math.sin(n);this.worldFlipX?(this.m00=-o*this.worldScaleX,this.m01=s*this.worldScaleY):(this.m00=o*this.worldScaleX,this.m01=-s*this.worldScaleY),this.worldFlipY!=r.Bone.yDown?(this.m10=-s*this.worldScaleX,this.m11=-o*this.worldScaleY):(this.m10=s*this.worldScaleX,this.m11=o*this.worldScaleY)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.rotationIK=this.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.flipX=t.flipX,this.flipY=t.flipY},worldToLocal:function(t){var e=t[0]-this.worldX,i=t[1]-this.worldY,n=this.m00,o=this.m10,s=this.m01,a=this.m11;this.worldFlipX!=(this.worldFlipY!=r.Bone.yDown)&&(n=-n,a=-a);var h=1/(n*a-s*o);t[0]=e*n*h-i*s*h,t[1]=i*a*h-e*o*h},localToWorld:function(t){var e=t[0],i=t[1];t[0]=e*this.m00+i*this.m01+this.worldX,t[1]=e*this.m10+i*this.m11+this.worldY}},r.Slot=function(t,e){this.data=t,this.bone=e,this.setToSetupPose()},r.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,attachmentVertices:[],setAttachment:function(t){this.attachment=t,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0},setAttachmentTime:function(t){this._attachmentTime=this.bone.skeleton.time-t},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.bone.skeleton.data.slots,i=0,r=e.length;r>i;i++)if(e[i]==t){this.setAttachment(t.attachmentName?this.bone.skeleton.getAttachmentBySlotIndex(i,t.attachmentName):null);break}}},r.IkConstraint=function(t,e){this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=[];for(var i=0,r=t.bones.length;r>i;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)},r.IkConstraint.prototype={apply:function(){var t=this.target,e=this.bones;switch(e.length){case 1:r.IkConstraint.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:r.IkConstraint.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}}},r.IkConstraint.apply1=function(t,e,i,n){var o=t.data.inheritRotation&&t.parent?t.parent.worldRotation:0,s=t.rotation,a=Math.atan2(i-t.worldY,e-t.worldX)*r.radDeg-o;t.rotationIK=s+(a-s)*n},r.IkConstraint.apply2=function(t,e,i,n,o,s){var a=e.rotation,h=t.rotation;if(!s)return e.rotationIK=a,void(t.rotationIK=h);var u,l,c=r.temp,d=t.parent;d?(c[0]=i,c[1]=n,d.worldToLocal(c),i=(c[0]-t.x)*d.worldScaleX,n=(c[1]-t.y)*d.worldScaleY):(i-=t.x,n-=t.y),e.parent==t?(u=e.x,l=e.y):(c[0]=e.x,c[1]=e.y,e.parent.localToWorld(c),t.worldToLocal(c),u=c[0],l=c[1]);var p=u*t.worldScaleX,f=l*t.worldScaleY,g=Math.atan2(f,p),m=Math.sqrt(p*p+f*f),v=e.data.length*e.worldScaleX,y=2*m*v;if(1e-4>y)return void(e.rotationIK=a+(Math.atan2(n,i)*r.radDeg-h-a)*s);var x=(i*i+n*n-m*m-v*v)/y;-1>x?x=-1:x>1&&(x=1);var b=Math.acos(x)*o,w=m+v*x,A=v*Math.sin(b),_=Math.atan2(n*w-i*A,i*w+n*A),T=(_-g)*r.radDeg-h;T>180?T-=360:-180>T&&(T+=360),t.rotationIK=h+T*s,T=(b+g)*r.radDeg-a,T>180?T-=360:-180>T&&(T+=360),e.rotationIK=a+(T+t.worldRotation-e.parent.worldRotation)*s},r.Skin=function(t){this.name=t,this.attachments={}},r.Skin.prototype={addAttachment:function(t,e,i){this.attachments[t+":"+e]=i},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var i in e.attachments){var r=i.indexOf(":"),n=parseInt(i.substring(0,r)),o=i.substring(r+1),s=t.slots[n];if(s.attachment&&s.attachment.name==o){var a=this.getAttachment(n,o);a&&s.setAttachment(a)}}}},r.Animation=function(t,e,i){this.name=t,this.timelines=e,this.duration=i},r.Animation.prototype={apply:function(t,e,i,r,n){r&&0!=this.duration&&(i%=this.duration,e%=this.duration);for(var o=this.timelines,s=0,a=o.length;a>s;s++)o[s].apply(t,e,i,n,1)},mix:function(t,e,i,r,n,o){r&&0!=this.duration&&(i%=this.duration,e%=this.duration);for(var s=this.timelines,a=0,h=s.length;h>a;a++)s[a].apply(t,e,i,n,o)}},r.Animation.binarySearch=function(t,e,i){var r=0,n=Math.floor(t.length/i)-2;if(!n)return i;for(var o=n>>>1;;){if(t[(o+1)*i]<=e?r=o+1:n=o,r==n)return(r+1)*i;o=r+n>>>1}},r.Animation.binarySearch1=function(t,e){var i=0,r=t.length-2;if(!r)return 1;for(var n=r>>>1;;){if(t[n+1]<=e?i=n+1:r=n,i==r)return i+1;n=i+r>>>1}},r.Animation.linearSearch=function(t,e,i){for(var r=0,n=t.length-i;n>=r;r+=i)if(t[r]>e)return r;return-1},r.Curves=function(){this.curves=[]},r.Curves.prototype={setLinear:function(t){this.curves[19*t]=0},setStepped:function(t){this.curves[19*t]=1},setCurve:function(t,e,i,r,n){var o=.1,s=o*o,a=s*o,h=3*o,u=3*s,l=6*s,c=6*a,d=2*-e+r,p=2*-i+n,f=3*(e-r)+1,g=3*(i-n)+1,m=e*h+d*u+f*a,v=i*h+p*u+g*a,y=d*l+f*c,x=p*l+g*c,b=f*c,w=g*c,A=19*t,_=this.curves;_[A++]=2;for(var T=m,S=v,C=A+19-1;C>A;A+=2)_[A]=T,_[A+1]=S,m+=y,v+=x,y+=b,x+=w,T+=m,S+=v},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var i=this.curves,r=19*t,n=i[r];if(0===n)return e;if(1==n)return 0;r++;for(var o=0,s=r,a=r+19-1;a>r;r+=2)if(o=i[r],o>=e){var h,u;return r==s?(h=0,u=0):(h=i[r-2],u=i[r-1]),u+(i[r+1]-u)*(e-h)/(o-h)}var l=i[r-1];return l+(1-l)*(e-o)/(1-o)}},r.RotateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i},apply:function(t,e,i,n,o){var s=this.frames;if(!(i<s[0])){var a=t.bones[this.boneIndex];if(i>=s[s.length-2]){for(var h=a.data.rotation+s[s.length-1]-a.rotation;h>180;)h-=360;for(;-180>h;)h+=360;return void(a.rotation+=h*o)}var u=r.Animation.binarySearch(s,i,2),l=s[u-1],c=s[u],d=1-(i-c)/(s[u-2]-c);d=this.curves.getCurvePercent(u/2-1,d);for(var h=s[u+1]-l;h>180;)h-=360;for(;-180>h;)h+=360;for(h=a.data.rotation+(l+h*d)-a.rotation;h>180;)h-=360;for(;-180>h;)h+=360;a.rotation+=h*o}}},r.TranslateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,e,i,n,o){var s=this.frames;if(!(i<s[0])){var a=t.bones[this.boneIndex];if(i>=s[s.length-3])return a.x+=(a.data.x+s[s.length-2]-a.x)*o,void(a.y+=(a.data.y+s[s.length-1]-a.y)*o);var h=r.Animation.binarySearch(s,i,3),u=s[h-2],l=s[h-1],c=s[h],d=1-(i-c)/(s[h+-3]-c);d=this.curves.getCurvePercent(h/3-1,d),a.x+=(a.data.x+u+(s[h+1]-u)*d-a.x)*o,a.y+=(a.data.y+l+(s[h+2]-l)*d-a.y)*o}}},r.ScaleTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,e,i,n,o){var s=this.frames;if(!(i<s[0])){var a=t.bones[this.boneIndex];if(i>=s[s.length-3])return a.scaleX+=(a.data.scaleX*s[s.length-2]-a.scaleX)*o,void(a.scaleY+=(a.data.scaleY*s[s.length-1]-a.scaleY)*o);var h=r.Animation.binarySearch(s,i,3),u=s[h-2],l=s[h-1],c=s[h],d=1-(i-c)/(s[h+-3]-c);d=this.curves.getCurvePercent(h/3-1,d),a.scaleX+=(a.data.scaleX*(u+(s[h+1]-u)*d)-a.scaleX)*o,a.scaleY+=(a.data.scaleY*(l+(s[h+2]-l)*d)-a.scaleY)*o}}},r.ColorTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=5*t},r.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,i,r,n,o){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=n,this.frames[t+4]=o},apply:function(t,e,i,n,o){var s=this.frames;if(!(i<s[0])){var a,h,u,l;if(i>=s[s.length-5]){var c=s.length-1;a=s[c-3],h=s[c-2],u=s[c-1],l=s[c]}else{var d=r.Animation.binarySearch(s,i,5),p=s[d-4],f=s[d-3],g=s[d-2],m=s[d-1],v=s[d],y=1-(i-v)/(s[d-5]-v);y=this.curves.getCurvePercent(d/5-1,y),a=p+(s[d+1]-p)*y,h=f+(s[d+2]-f)*y,u=g+(s[d+3]-g)*y,l=m+(s[d+4]-m)*y}var x=t.slots[this.slotIndex];1>o?(x.r+=(a-x.r)*o,x.g+=(h-x.g)*o,x.b+=(u-x.b)*o,x.a+=(l-x.a)*o):(x.r=a,x.g=h,x.b=u,x.a=l)}}},r.AttachmentTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},r.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},apply:function(t,e,i){var n=this.frames;if(i<n[0])return void(e>i&&this.apply(t,e,Number.MAX_VALUE,null,0));e>i&&(e=-1);var o=i>=n[n.length-1]?n.length-1:r.Animation.binarySearch1(n,i)-1;if(!(n[o]<e)){var s=this.attachmentNames[o];t.slots[this.slotIndex].setAttachment(s?t.getAttachmentBySlotIndex(this.slotIndex,s):null)}}},r.EventTimeline=function(t){this.frames=[],this.frames.length=t,this.events=[],this.events.length=t},r.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.events[t]=i},apply:function(t,e,i,n,o){if(n){var s=this.frames,a=s.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,n,o),e=-1;else if(e>=s[a-1])return;if(!(i<s[0])){var h;if(e<s[0])h=0;else{h=r.Animation.binarySearch1(s,e);for(var u=s[h];h>0&&s[h-1]==u;)h--}for(var l=this.events;a>h&&i>=s[h];h++)n.push(l[h])}}}},r.DrawOrderTimeline=function(t){this.frames=[],this.frames.length=t,this.drawOrders=[],this.drawOrders.length=t},r.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},apply:function(t,e,i){var n=this.frames;if(!(i<n[0])){var o;o=i>=n[n.length-1]?n.length-1:r.Animation.binarySearch1(n,i)-1;var s=t.drawOrder,a=t.slots,h=this.drawOrders[o];if(h)for(var u=0,l=h.length;l>u;u++)s[u]=t.slots[h[u]];else for(var u=0,l=a.length;l>u;u++)s[u]=a[u]}}},r.FfdTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=t,this.frameVertices=[],this.frameVertices.length=t},r.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},apply:function(t,e,i,n,o){var s=t.slots[this.slotIndex];if(s.attachment==this.attachment){var a=this.frames;if(!(i<a[0])){var h=this.frameVertices,u=h[0].length,l=s.attachmentVertices;if(l.length!=u&&(o=1),l.length=u,i>=a[a.length-1]){var c=h[a.length-1];if(1>o)for(var d=0;u>d;d++)l[d]+=(c[d]-l[d])*o;else for(var d=0;u>d;d++)l[d]=c[d]}else{var p=r.Animation.binarySearch1(a,i),f=a[p],g=1-(i-f)/(a[p-1]-f);g=this.curves.getCurvePercent(p-1,0>g?0:g>1?1:g);var m=h[p-1],v=h[p];if(1>o)for(var d=0;u>d;d++){var y=m[d];l[d]+=(y+(v[d]-y)*g-l[d])*o}else for(var d=0;u>d;d++){var y=m[d];l[d]=y+(v[d]-y)*g}}}}}},r.IkConstraintTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,e,i,n,o){var s=this.frames;if(!(i<s[0])){var a=t.ikConstraints[this.ikConstraintIndex];if(i>=s[s.length-3])return a.mix+=(s[s.length-2]-a.mix)*o,void(a.bendDirection=s[s.length-1]);var h=r.Animation.binarySearch(s,i,3),u=s[h+-2],l=s[h],c=1-(i-l)/(s[h+-3]-l);c=this.curves.getCurvePercent(h/3-1,c);var d=u+(s[h+1]-u)*c;a.mix+=(d-a.mix)*o,a.bendDirection=s[h+-1]}}},r.FlipXTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.FlipXTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i?1:0},apply:function(t,e,i){var n=this.frames;if(i<n[0])return void(e>i&&this.apply(t,e,Number.MAX_VALUE,null,0));e>i&&(e=-1);var o=(i>=n[n.length-2]?n.length:r.Animation.binarySearch(n,i,2))-2;n[o]<e||(t.bones[boneIndex].flipX=0!=n[o+1])}},r.FlipYTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.FlipYTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i?1:0},apply:function(t,e,i){var n=this.frames;if(i<n[0])return void(e>i&&this.apply(t,e,Number.MAX_VALUE,null,0));e>i&&(e=-1);var o=(i>=n[n.length-2]?n.length:r.Animation.binarySearch(n,i,2))-2;n[o]<e||(t.bones[boneIndex].flipY=0!=n[o+1])}},r.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[]},r.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].name==t)return slot[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].name==t)return i;return-1},findSkin:function(t){for(var e=this.skins,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findEvent:function(t){for(var e=this.events,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findAnimation:function(t){for(var e=this.animations,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findIkConstraint:function(t){for(var e=this.ikConstraints,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null}},r.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,i=t.bones.length;i>e;e++){var n=t.bones[e],o=n.parent?this.bones[t.bones.indexOf(n.parent)]:null;this.bones.push(new r.Bone(n,this,o))}this.slots=[],this.drawOrder=[];for(var e=0,i=t.slots.length;i>e;e++){var s=t.slots[e],a=this.bones[t.bones.indexOf(s.boneData)],h=new r.Slot(s,a);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=[];for(var e=0,i=t.ikConstraints.length;i>e;e++)this.ikConstraints.push(new r.IkConstraint(t.ikConstraints[e],this));this.boneCache=[],this.updateCache()},r.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var t=this.ikConstraints,e=t.length,i=e+1,r=this.boneCache;r.length>i&&(r.length=i);for(var n=0,o=r.length;o>n;n++)r[n].length=0;for(;r.length<i;)r[r.length]=[];var s=r[0],a=this.bones;t:for(var n=0,o=a.length;o>n;n++){var h=a[n],u=h;do{for(var l=0;e>l;l++)for(var c=t[l],d=c.bones[0],p=c.bones[c.bones.length-1];;){if(u==p){r[l].push(h),r[l+1].push(h);continue t}if(p==d)break;p=p.parent}u=u.parent}while(u);s[s.length]=h}},updateWorldTransform:function(){for(var t=this.bones,e=0,i=t.length;i>e;e++){var r=t[e];r.rotationIK=r.rotation}for(var e=0,n=this.boneCache.length-1;;){for(var o=this.boneCache[e],s=0,a=o.length;a>s;s++)o[s].updateWorldTransform();if(e==n)break;this.ikConstraints[e].apply(),e++}},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,i=t.length;i>e;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,i=r.length;i>e;e++){var n=r[e];n.bendDirection=n.data.bendDirection,n.mix=n.data.mix}},setSlotsToSetupPose:function(){for(var t=this.slots,e=this.drawOrder,i=0,r=t.length;r>i;i++)e[i]=t[i],t[i].setToSetupPose(i)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return e[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return i;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){if(t)if(this.skin)t._attachAll(this,this.skin);else for(var e=this.slots,i=0,r=e.length;r>i;i++){var n=e[i],o=n.data.attachmentName;if(o){var s=t.getAttachment(i,o);s&&n.setAttachment(s)}}this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var i=this.slots,r=0,n=i.length;n>r;r++){var o=i[r];if(o.data.name==t){var s=null;if(e&&(s=this.getAttachmentBySlotIndex(r,e),!s))throw"Attachment not found: "+e+", for slot: "+t;return void o.setAttachment(s)}}throw"Slot not found: "+t},findIkConstraint:function(t){for(var e=this.ikConstraints,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return e[i];return null},update:function(t){this.time+=t}},r.EventData=function(t){this.name=t},r.EventData.prototype={intValue:0,floatValue:0,stringValue:null},r.Event=function(t){this.data=t},r.Event.prototype={intValue:0,floatValue:0,stringValue:null},r.AttachmentType={region:0,boundingbox:1,mesh:2,skinnedmesh:3},r.RegionAttachment=function(t){this.name=t,this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},r.RegionAttachment.prototype={type:r.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,i,r,n){var o=this.uvs;n?(o[2]=t,o[3]=r,o[4]=t,o[5]=e,o[6]=i,o[7]=e,o[0]=i,o[1]=r):(o[0]=t,o[1]=r,o[2]=t,o[3]=e,o[4]=i,o[5]=e,o[6]=i,o[7]=r)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.regionOffsetX*t,n=-this.height/2*this.scaleY+this.regionOffsetY*e,o=i+this.regionWidth*t,s=n+this.regionHeight*e,a=this.rotation*r.degRad,h=Math.cos(a),u=Math.sin(a),l=i*h+this.x,c=i*u,d=n*h+this.y,p=n*u,f=o*h+this.x,g=o*u,m=s*h+this.y,v=s*u,y=this.offset;y[0]=l-p,y[1]=d+c,y[2]=l-v,y[3]=m+c,y[4]=f-v,y[5]=m+g,y[6]=f-p,y[7]=d+g},computeVertices:function(t,e,i,r){t+=i.worldX,e+=i.worldY;var n=i.m00,o=i.m01,s=i.m10,a=i.m11,h=this.offset;r[0]=h[0]*n+h[1]*o+t,r[1]=h[0]*s+h[1]*a+e,r[2]=h[2]*n+h[3]*o+t,r[3]=h[2]*s+h[3]*a+e,r[4]=h[4]*n+h[5]*o+t,r[5]=h[4]*s+h[5]*a+e,r[6]=h[6]*n+h[7]*o+t,r[7]=h[6]*s+h[7]*a+e}},r.MeshAttachment=function(t){this.name=t},r.MeshAttachment.prototype={type:r.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,i=this.regionUVs.length;if(this.uvs&&this.uvs.length==i||(this.uvs=new r.Float32Array(i)),this.regionRotate)for(var n=0;i>n;n+=2)this.uvs[n]=this.regionU+this.regionUVs[n+1]*t,this.uvs[n+1]=this.regionV+e-this.regionUVs[n]*e;else for(var n=0;i>n;n+=2)this.uvs[n]=this.regionU+this.regionUVs[n]*t,this.uvs[n+1]=this.regionV+this.regionUVs[n+1]*e},computeWorldVertices:function(t,e,i,r){var n=i.bone;t+=n.worldX,e+=n.worldY;var o=n.m00,s=n.m01,a=n.m10,h=n.m11,u=this.vertices,l=u.length;i.attachmentVertices.length==l&&(u=i.attachmentVertices);for(var c=0;l>c;c+=2){var d=u[c],p=u[c+1];r[c]=d*o+p*s+t,r[c+1]=d*a+p*h+e}}},r.SkinnedMeshAttachment=function(t){this.name=t},r.SkinnedMeshAttachment.prototype={type:r.AttachmentType.skinnedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,i=this.regionUVs.length;if(this.uvs&&this.uvs.length==i||(this.uvs=new r.Float32Array(i)),this.regionRotate)for(var n=0;i>n;n+=2)this.uvs[n]=this.regionU+this.regionUVs[n+1]*t,this.uvs[n+1]=this.regionV+e-this.regionUVs[n]*e;else for(var n=0;i>n;n+=2)this.uvs[n]=this.regionU+this.regionUVs[n]*t,this.uvs[n+1]=this.regionV+this.regionUVs[n+1]*e},computeWorldVertices:function(t,e,i,r){var n,o,s,a,h,u,l,c=i.bone.skeleton.bones,d=this.weights,p=this.bones,f=0,g=0,m=0,v=0,y=p.length;if(i.attachmentVertices.length)for(var x=i.attachmentVertices;y>g;f+=2){for(o=0,s=0,n=p[g++]+g;n>g;g++,m+=3,v+=2)a=c[p[g]],h=d[m]+x[v],u=d[m+1]+x[v+1],l=d[m+2],o+=(h*a.m00+u*a.m01+a.worldX)*l,s+=(h*a.m10+u*a.m11+a.worldY)*l;r[f]=o+t,r[f+1]=s+e}else for(;y>g;f+=2){for(o=0,s=0,n=p[g++]+g;n>g;g++,m+=3)a=c[p[g]],h=d[m],u=d[m+1],l=d[m+2],o+=(h*a.m00+u*a.m01+a.worldX)*l,s+=(h*a.m10+u*a.m11+a.worldY)*l;r[f]=o+t,r[f+1]=s+e}}},r.BoundingBoxAttachment=function(t){this.name=t,this.vertices=[]},r.BoundingBoxAttachment.prototype={type:r.AttachmentType.boundingbox,computeWorldVertices:function(t,e,i,r){t+=i.worldX,e+=i.worldY;for(var n=i.m00,o=i.m01,s=i.m10,a=i.m11,h=this.vertices,u=0,l=h.length;l>u;u+=2){var c=h[u],d=h[u+1];r[u]=c*n+d*o+t,r[u+1]=c*s+d*a+e}}},r.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},r.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,i){var r=this.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;var n=this.skeletonData.findAnimation(e);if(!n)throw"Animation not found: "+e;this.setMix(r,n,i)},setMix:function(t,e,i){this.animationToMixTime[t.name+":"+e.name]=i},getMix:function(t,e){var i=t.name+":"+e.name;return this.animationToMixTime.hasOwnProperty(i)?this.animationToMixTime[i]:this.defaultMix}},r.TrackEntry=function(){},r.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},r.AnimationState=function(t){this.data=t,this.tracks=[],this.events=[]},r.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var i=this.tracks[e];if(i){if(i.time+=t*i.timeScale,i.previous){var r=t*i.previous.timeScale;i.previous.time+=r,i.mixTime+=r}var n=i.next;n?(n.time=i.lastTime-n.delay,n.time>=0&&this.setCurrent(e,n)):!i.loop&&i.lastTime>=i.endTime&&this.clearTrack(e)}}},apply:function(t){for(var e=0;e<this.tracks.length;e++){var i=this.tracks[e];if(i){this.events.length=0;var r=i.time,n=i.lastTime,o=i.endTime,s=i.loop;!s&&r>o&&(r=o);var a=i.previous;if(a){var h=a.time;!a.loop&&h>a.endTime&&(h=a.endTime),a.animation.apply(t,h,h,a.loop,null);var u=i.mixTime/i.mixDuration*i.mix;u>=1&&(u=1,i.previous=null),i.animation.mix(t,i.lastTime,r,s,this.events,u)}else 1==i.mix?i.animation.apply(t,i.lastTime,r,s,this.events):i.animation.mix(t,i.lastTime,r,s,this.events,i.mix);for(var l=0,c=this.events.length;c>l;l++){var d=this.events[l];i.onEvent&&i.onEvent(e,d),this.onEvent&&this.onEvent(e,d)}if(s?n%o>r%o:o>n&&r>=o){var p=Math.floor(r/o);i.onComplete&&i.onComplete(e,p),this.onComplete&&this.onComplete(e,p)}i.lastTime=i.time}}},clearTracks:function(){for(var t=0,e=this.tracks.length;e>t;t++)this.clearTrack(t);this.tracks.length=0},clearTrack:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];e&&(e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),this.tracks[t]=null)}},_expandToIndex:function(t){if(t<this.tracks.length)return this.tracks[t];for(;t>=this.tracks.length;)this.tracks.push(null);return null},setCurrent:function(t,e){var i=this._expandToIndex(t);if(i){var r=i.previous;i.previous=null,i.onEnd&&i.onEnd(t),this.onEnd&&this.onEnd(t),e.mixDuration=this.data.getMix(i.animation,e.animation),e.mixDuration>0&&(e.mixTime=0,e.previous=r&&i.mixTime/i.mixDuration<.5?r:i)}this.tracks[t]=e,e.onStart&&e.onStart(t),this.onStart&&this.onStart(t)},setAnimationByName:function(t,e,i){var r=this.data.skeletonData.findAnimation(e);if(!r)throw"Animation not found: "+e;return this.setAnimation(t,r,i)},setAnimation:function(t,e,i){var n=new r.TrackEntry;return n.animation=e,n.loop=i,n.endTime=e.duration,this.setCurrent(t,n),n},addAnimationByName:function(t,e,i,r){var n=this.data.skeletonData.findAnimation(e);if(!n)throw"Animation not found: "+e;return this.addAnimation(t,n,i,r)},addAnimation:function(t,e,i,n){var o=new r.TrackEntry;o.animation=e,o.loop=i,o.endTime=e.duration;var s=this._expandToIndex(t);if(s){for(;s.next;)s=s.next;s.next=o}else this.tracks[t]=o;return 0>=n&&(s?n+=s.endTime-this.data.getMix(s.animation,e):n=0),o.delay=n,o},getCurrent:function(t){return t>=this.tracks.length?null:this.tracks[t]}},r.SkeletonJson=function(t){this.attachmentLoader=t},r.SkeletonJson.prototype={scale:1,readSkeletonData:function(t,e){var i=new r.SkeletonData;i.name=e;var n=t.skeleton;n&&(i.hash=n.hash,i.version=n.spine,i.width=n.width||0,i.height=n.height||0);for(var o=t.bones,s=0,a=o.length;a>s;s++){var h=o[s],u=null;if(h.parent&&(u=i.findBone(h.parent),!u))throw"Parent bone not found: "+h.parent;var l=new r.BoneData(h.name,u);l.length=(h.length||0)*this.scale,l.x=(h.x||0)*this.scale,l.y=(h.y||0)*this.scale,l.rotation=h.rotation||0,l.scaleX=h.hasOwnProperty("scaleX")?h.scaleX:1,l.scaleY=h.hasOwnProperty("scaleY")?h.scaleY:1,l.inheritScale=h.hasOwnProperty("inheritScale")?h.inheritScale:!0,l.inheritRotation=h.hasOwnProperty("inheritRotation")?h.inheritRotation:!0,i.bones.push(l)}var c=t.ik;if(c)for(var s=0,a=c.length;a>s;s++){for(var d=c[s],p=new r.IkConstraintData(d.name),o=d.bones,f=0,g=o.length;g>f;f++){var m=i.findBone(o[f]);if(!m)throw"IK bone not found: "+o[f];p.bones.push(m)}if(p.target=i.findBone(d.target),!p.target)throw"Target bone not found: "+d.target;p.bendDirection=!d.hasOwnProperty("bendPositive")||d.bendPositive?1:-1,p.mix=d.hasOwnProperty("mix")?d.mix:1,i.ikConstraints.push(p)}for(var v=t.slots,s=0,a=v.length;a>s;s++){var y=v[s],l=i.findBone(y.bone);if(!l)throw"Slot bone not found: "+y.bone;var x=new r.SlotData(y.name,l),b=y.color;b&&(x.r=this.toColor(b,0),x.g=this.toColor(b,1),x.b=this.toColor(b,2),x.a=this.toColor(b,3)),x.attachmentName=y.attachment,x.additiveBlending=y.additive&&"true"==y.additive,i.slots.push(x)}var w=t.skins;for(var A in w)if(w.hasOwnProperty(A)){var _=w[A],T=new r.Skin(A);for(var S in _)if(_.hasOwnProperty(S)){var C=i.findSlotIndex(S),E=_[S];for(var M in E)if(E.hasOwnProperty(M)){var R=this.readAttachment(T,M,E[M]);R&&T.addAttachment(C,M,R)}}i.skins.push(T),"default"==T.name&&(i.defaultSkin=T)}var P=t.events;for(var L in P)if(P.hasOwnProperty(L)){var B=P[L],F=new r.EventData(L);F.intValue=B["int"]||0,F.floatValue=B["float"]||0,F.stringValue=B.string||null,i.events.push(F)}var O=t.animations;for(var I in O)O.hasOwnProperty(I)&&this.readAnimation(I,O[I],i);return i},readAttachment:function(t,e,i){e=i.name||e;var n=r.AttachmentType[i.type||"region"],o=i.path||e,s=this.scale;if(n==r.AttachmentType.region){var a=this.attachmentLoader.newRegionAttachment(t,e,o);if(!a)return null;a.path=o,a.x=(i.x||0)*s,a.y=(i.y||0)*s,a.scaleX=i.hasOwnProperty("scaleX")?i.scaleX:1,a.scaleY=i.hasOwnProperty("scaleY")?i.scaleY:1,a.rotation=i.rotation||0,a.width=(i.width||0)*s,a.height=(i.height||0)*s;var h=i.color;return h&&(a.r=this.toColor(h,0),a.g=this.toColor(h,1),a.b=this.toColor(h,2),a.a=this.toColor(h,3)),a.updateOffset(),a}if(n==r.AttachmentType.mesh){var u=this.attachmentLoader.newMeshAttachment(t,e,o);return u?(u.path=o,u.vertices=this.getFloatArray(i,"vertices",s),u.triangles=this.getIntArray(i,"triangles"),u.regionUVs=this.getFloatArray(i,"uvs",1),u.updateUVs(),h=i.color,h&&(u.r=this.toColor(h,0),u.g=this.toColor(h,1),u.b=this.toColor(h,2),u.a=this.toColor(h,3)),u.hullLength=2*(i.hull||0),i.edges&&(u.edges=this.getIntArray(i,"edges")),u.width=(i.width||0)*s,u.height=(i.height||0)*s,u):null}if(n==r.AttachmentType.skinnedmesh){var u=this.attachmentLoader.newSkinnedMeshAttachment(t,e,o);if(!u)return null;u.path=o;for(var l=this.getFloatArray(i,"uvs",1),c=this.getFloatArray(i,"vertices",1),d=[],p=[],f=0,g=c.length;g>f;){var m=0|c[f++];p[p.length]=m;for(var v=f+4*m;v>f;)p[p.length]=c[f],d[d.length]=c[f+1]*s,d[d.length]=c[f+2]*s,d[d.length]=c[f+3],f+=4
}return u.bones=p,u.weights=d,u.triangles=this.getIntArray(i,"triangles"),u.regionUVs=l,u.updateUVs(),h=i.color,h&&(u.r=this.toColor(h,0),u.g=this.toColor(h,1),u.b=this.toColor(h,2),u.a=this.toColor(h,3)),u.hullLength=2*(i.hull||0),i.edges&&(u.edges=this.getIntArray(i,"edges")),u.width=(i.width||0)*s,u.height=(i.height||0)*s,u}if(n==r.AttachmentType.boundingbox){for(var y=this.attachmentLoader.newBoundingBoxAttachment(t,e),c=i.vertices,f=0,g=c.length;g>f;f++)y.vertices.push(c[f]*s);return y}throw"Unknown attachment type: "+n},readAnimation:function(t,e,i){var n=[],o=0,s=e.slots;for(var a in s)if(s.hasOwnProperty(a)){var h=s[a],u=i.findSlotIndex(a);for(var l in h)if(h.hasOwnProperty(l)){var c=h[l];if("color"==l){var d=new r.ColorTimeline(c.length);d.slotIndex=u;for(var p=0,f=0,g=c.length;g>f;f++){var m=c[f],v=m.color,y=this.toColor(v,0),x=this.toColor(v,1),b=this.toColor(v,2),w=this.toColor(v,3);d.setFrame(p,m.time,y,x,b,w),this.readCurve(d,p,m),p++}n.push(d),o=Math.max(o,d.frames[5*d.getFrameCount()-5])}else{if("attachment"!=l)throw"Invalid timeline type for a slot: "+l+" ("+a+")";var d=new r.AttachmentTimeline(c.length);d.slotIndex=u;for(var p=0,f=0,g=c.length;g>f;f++){var m=c[f];d.setFrame(p++,m.time,m.name)}n.push(d),o=Math.max(o,d.frames[d.getFrameCount()-1])}}}var A=e.bones;for(var _ in A)if(A.hasOwnProperty(_)){var T=i.findBoneIndex(_);if(-1==T)throw"Bone not found: "+_;var S=A[_];for(var l in S)if(S.hasOwnProperty(l)){var c=S[l];if("rotate"==l){var d=new r.RotateTimeline(c.length);d.boneIndex=T;for(var p=0,f=0,g=c.length;g>f;f++){var m=c[f];d.setFrame(p,m.time,m.angle),this.readCurve(d,p,m),p++}n.push(d),o=Math.max(o,d.frames[2*d.getFrameCount()-2])}else if("translate"==l||"scale"==l){var d,C=1;"scale"==l?d=new r.ScaleTimeline(c.length):(d=new r.TranslateTimeline(c.length),C=this.scale),d.boneIndex=T;for(var p=0,f=0,g=c.length;g>f;f++){var m=c[f],E=(m.x||0)*C,M=(m.y||0)*C;d.setFrame(p,m.time,E,M),this.readCurve(d,p,m),p++}n.push(d),o=Math.max(o,d.frames[3*d.getFrameCount()-3])}else{if("flipX"!=l&&"flipY"!=l)throw"Invalid timeline type for a bone: "+l+" ("+_+")";var E="flipX"==l,d=E?new r.FlipXTimeline(c.length):new r.FlipYTimeline(c.length);d.boneIndex=T;for(var R=E?"x":"y",p=0,f=0,g=c.length;g>f;f++){var m=c[f];d.setFrame(p,m.time,m[R]||!1),p++}n.push(d),o=Math.max(o,d.frames[2*d.getFrameCount()-2])}}}var P=e.ik;for(var L in P)if(P.hasOwnProperty(L)){var B=i.findIkConstraint(L),c=P[L],d=new r.IkConstraintTimeline(c.length);d.ikConstraintIndex=i.ikConstraints.indexOf(B);for(var p=0,f=0,g=c.length;g>f;f++){var m=c[f],F=m.hasOwnProperty("mix")?m.mix:1,O=!m.hasOwnProperty("bendPositive")||m.bendPositive?1:-1;d.setFrame(p,m.time,F,O),this.readCurve(d,p,m),p++}n.push(d),o=Math.max(o,d.frames[3*d.frameCount-3])}var I=e.ffd;for(var D in I){var k=i.findSkin(D),h=I[D];for(a in h){var u=i.findSlotIndex(a),N=h[a];for(var G in N){var c=N[G],d=new r.FfdTimeline(c.length),U=k.getAttachment(u,G);if(!U)throw"FFD attachment not found: "+G;d.slotIndex=u,d.attachment=U;var V,W=U.type==r.AttachmentType.mesh;V=W?U.vertices.length:U.weights.length/3*2;for(var p=0,f=0,g=c.length;g>f;f++){var z,m=c[f];if(m.vertices){var q=m.vertices,z=[];z.length=V;var j=m.offset||0,Y=q.length;if(1==this.scale)for(var X=0;Y>X;X++)z[X+j]=q[X];else for(var X=0;Y>X;X++)z[X+j]=q[X]*this.scale;if(W)for(var H=U.vertices,X=0,Y=z.length;Y>X;X++)z[X]+=H[X]}else W?z=U.vertices:(z=[],z.length=V);d.setFrame(p,m.time,z),this.readCurve(d,p,m),p++}n[n.length]=d,o=Math.max(o,d.frames[d.frameCount-1])}}}var K=e.drawOrder;if(K||(K=e.draworder),K){for(var d=new r.DrawOrderTimeline(K.length),Z=i.slots.length,p=0,f=0,g=K.length;g>f;f++){var Q=K[f],J=null;if(Q.offsets){J=[],J.length=Z;for(var X=Z-1;X>=0;X--)J[X]=-1;var $=Q.offsets,te=[];te.length=Z-$.length;for(var ee=0,ie=0,X=0,Y=$.length;Y>X;X++){var re=$[X],u=i.findSlotIndex(re.slot);if(-1==u)throw"Slot not found: "+re.slot;for(;ee!=u;)te[ie++]=ee++;J[ee+re.offset]=ee++}for(;Z>ee;)te[ie++]=ee++;for(var X=Z-1;X>=0;X--)-1==J[X]&&(J[X]=te[--ie])}d.setFrame(p++,Q.time,J)}n.push(d),o=Math.max(o,d.frames[d.getFrameCount()-1])}var ne=e.events;if(ne){for(var d=new r.EventTimeline(ne.length),p=0,f=0,g=ne.length;g>f;f++){var oe=ne[f],se=i.findEvent(oe.name);if(!se)throw"Event not found: "+oe.name;var ae=new r.Event(se);ae.intValue=oe.hasOwnProperty("int")?oe["int"]:se.intValue,ae.floatValue=oe.hasOwnProperty("float")?oe["float"]:se.floatValue,ae.stringValue=oe.hasOwnProperty("string")?oe.string:se.stringValue,d.setFrame(p++,oe.time,ae)}n.push(d),o=Math.max(o,d.frames[d.getFrameCount()-1])}i.animations.push(new r.Animation(t,n,o))},readCurve:function(t,e,i){var r=i.curve;r?"stepped"==r?t.curves.setStepped(e):r instanceof Array&&t.curves.setCurve(e,r[0],r[1],r[2],r[3]):t.curves.setLinear(e)},toColor:function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substring(2*e,2*e+2),16)/255},getFloatArray:function(t,e,i){var n=t[e],o=new r.Float32Array(n.length),s=0,a=n.length;if(1==i)for(;a>s;s++)o[s]=n[s];else for(;a>s;s++)o[s]=n[s]*i;return o},getIntArray:function(t,e){for(var i=t[e],n=new r.Uint16Array(i.length),o=0,s=i.length;s>o;o++)n[o]=0|i[o];return n}},r.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];var i=new r.AtlasReader(t),n=[];n.length=4;for(var o=null;;){var s=i.readLine();if(null===s)break;if(s=i.trim(s),s.length)if(o){var a=new r.AtlasRegion;a.name=s,a.page=o,a.rotate="true"==i.readValue(),i.readTuple(n);var h=parseInt(n[0]),u=parseInt(n[1]);i.readTuple(n);var l=parseInt(n[0]),c=parseInt(n[1]);a.u=h/o.width,a.v=u/o.height,a.rotate?(a.u2=(h+c)/o.width,a.v2=(u+l)/o.height):(a.u2=(h+l)/o.width,a.v2=(u+c)/o.height),a.x=h,a.y=u,a.width=Math.abs(l),a.height=Math.abs(c),4==i.readTuple(n)&&(a.splits=[parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],4==i.readTuple(n)&&(a.pads=[parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i.readTuple(n))),a.originalWidth=parseInt(n[0]),a.originalHeight=parseInt(n[1]),i.readTuple(n),a.offsetX=parseInt(n[0]),a.offsetY=parseInt(n[1]),a.index=parseInt(i.readValue()),this.regions.push(a)}else{o=new r.AtlasPage,o.name=s,2==i.readTuple(n)&&(o.width=parseInt(n[0]),o.height=parseInt(n[1]),i.readTuple(n)),o.format=r.Atlas.Format[n[0]],i.readTuple(n),o.minFilter=r.Atlas.TextureFilter[n[0]],o.magFilter=r.Atlas.TextureFilter[n[1]];var d=i.readValue();o.uWrap=r.Atlas.TextureWrap.clampToEdge,o.vWrap=r.Atlas.TextureWrap.clampToEdge,"x"==d?o.uWrap=r.Atlas.TextureWrap.repeat:"y"==d?o.vWrap=r.Atlas.TextureWrap.repeat:"xy"==d&&(o.uWrap=o.vWrap=r.Atlas.TextureWrap.repeat),e.load(o,s,this),this.pages.push(o)}else o=null}},r.Atlas.prototype={findRegion:function(t){for(var e=this.regions,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},dispose:function(){for(var t=this.pages,e=0,i=t.length;i>e;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,i=0,r=e.length;r>i;i++){var n=e[i];n.page==t&&(n.u=n.x/t.width,n.v=n.y/t.height,n.rotate?(n.u2=(n.x+n.height)/t.width,n.v2=(n.y+n.width)/t.height):(n.u2=(n.x+n.width)/t.width,n.v2=(n.y+n.height)/t.height))}}},r.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},r.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},r.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},r.AtlasPage=function(){},r.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},r.AtlasRegion=function(){},r.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},r.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},r.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw"Invalid line: "+e;for(var r=0,n=i+1;3>r;r++){var o=e.indexOf(",",n);if(-1==o)break;t[r]=this.trim(e.substr(n,o-n)),n=o+1}return t[r]=this.trim(e.substring(n)),r+1}},r.AtlasAttachmentLoader=function(t){this.atlas=t},r.AtlasAttachmentLoader.prototype={newRegionAttachment:function(t,e,i){var n=this.atlas.findRegion(i);if(!n)throw"Region not found in atlas: "+i+" (region attachment: "+e+")";var o=new r.RegionAttachment(e);return o.rendererObject=n,o.setUVs(n.u,n.v,n.u2,n.v2,n.rotate),o.regionOffsetX=n.offsetX,o.regionOffsetY=n.offsetY,o.regionWidth=n.width,o.regionHeight=n.height,o.regionOriginalWidth=n.originalWidth,o.regionOriginalHeight=n.originalHeight,o},newMeshAttachment:function(t,e,i){var n=this.atlas.findRegion(i);if(!n)throw"Region not found in atlas: "+i+" (mesh attachment: "+e+")";var o=new r.MeshAttachment(e);return o.rendererObject=n,o.regionU=n.u,o.regionV=n.v,o.regionU2=n.u2,o.regionV2=n.v2,o.regionRotate=n.rotate,o.regionOffsetX=n.offsetX,o.regionOffsetY=n.offsetY,o.regionWidth=n.width,o.regionHeight=n.height,o.regionOriginalWidth=n.originalWidth,o.regionOriginalHeight=n.originalHeight,o},newSkinnedMeshAttachment:function(t,e,i){var n=this.atlas.findRegion(i);if(!n)throw"Region not found in atlas: "+i+" (skinned mesh attachment: "+e+")";var o=new r.SkinnedMeshAttachment(e);return o.rendererObject=n,o.regionU=n.u,o.regionV=n.v,o.regionU2=n.u2,o.regionV2=n.v2,o.regionRotate=n.rotate,o.regionOffsetX=n.offsetX,o.regionOffsetY=n.offsetY,o.regionWidth=n.width,o.regionHeight=n.height,o.regionOriginalWidth=n.originalWidth,o.regionOriginalHeight=n.originalHeight,o},newBoundingBoxAttachment:function(t,e){return new r.BoundingBoxAttachment(e)}},r.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},r.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(t,e){var i=t.slots,n=i.length,o=t.x,s=t.y,a=this.boundingBoxes,h=this.polygonPool,u=this.polygons;a.length=0;for(var l=0,c=u.length;c>l;l++)h.push(u[l]);u.length=0;for(var l=0;n>l;l++){var d=i[l],p=d.attachment;if(p.type==r.AttachmentType.boundingbox){a.push(p);var f,g=h.length;g>0?(f=h[g-1],h.splice(g-1,1)):f=[],u.push(f),f.length=p.vertices.length,p.computeWorldVertices(o,s,d.bone,f)}}e&&this.aabbCompute()},aabbCompute:function(){for(var t=this.polygons,e=Number.MAX_VALUE,i=Number.MAX_VALUE,r=Number.MIN_VALUE,n=Number.MIN_VALUE,o=0,s=t.length;s>o;o++)for(var a=t[o],h=0,u=a.length;u>h;h+=2){var l=a[h],c=a[h+1];e=Math.min(e,l),i=Math.min(i,c),r=Math.max(r,l),n=Math.max(n,c)}this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},aabbContainsPoint:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},aabbIntersectsSegment:function(t,e,i,r){var n=this.minX,o=this.minY,s=this.maxX,a=this.maxY;if(n>=t&&n>=i||o>=e&&o>=r||t>=s&&i>=s||e>=a&&r>=a)return!1;var h=(r-e)/(i-t),u=h*(n-t)+e;if(u>o&&a>u)return!0;if(u=h*(s-t)+e,u>o&&a>u)return!0;var l=(o-e)/h+t;return l>n&&s>l?!0:(l=(a-e)/h+t,l>n&&s>l?!0:!1)},aabbIntersectsSkeleton:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},containsPoint:function(t,e){for(var i=this.polygons,r=0,n=i.length;n>r;r++)if(this.polygonContainsPoint(i[r],t,e))return this.boundingBoxes[r];return null},intersectsSegment:function(t,e,i,r){for(var n=this.polygons,o=0,s=n.length;s>o;o++)if(n[o].intersectsSegment(t,e,i,r))return this.boundingBoxes[o];return null},polygonContainsPoint:function(t,e,i){for(var r=t.length,n=r-2,o=!1,s=0;r>s;s+=2){var a=t[s+1],h=t[n+1];if(i>a&&h>=i||i>h&&a>=i){var u=t[s];u+(i-a)/(h-a)*(t[n]-u)<e&&(o=!o)}n=s}return o},polygonIntersectsSegment:function(t,e,i,r,n){for(var o=t.length,s=e-r,a=i-n,h=e*n-i*r,u=t[o-2],l=t[o-1],c=0;o>c;c+=2){var d=t[c],p=t[c+1],f=u*p-l*d,g=u-d,m=l-p,v=s*m-a*g,y=(h*g-s*f)/v;if((y>=u&&d>=y||y>=d&&u>=y)&&(y>=e&&r>=y||y>=r&&e>=y)){var x=(h*m-a*f)/v;if((x>=l&&p>=x||x>=p&&l>=x)&&(x>=i&&n>=x||x>=n&&i>=x))return!0}u=d,l=p}return!1},getPolygon:function(t){var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}},r.Bone.yDown=!0,i.AnimCache={},i.SpineTextureLoader=function(t,e){i.EventTarget.call(this),this.basePath=t,this.crossorigin=e,this.loadingCount=0},i.SpineTextureLoader.prototype=i.SpineTextureLoader,i.SpineTextureLoader.prototype.load=function(t,e){if(t.rendererObject=i.BaseTexture.fromImage(this.basePath+"/"+e,this.crossorigin),!t.rendererObject.hasLoaded){var r=this;++r.loadingCount,t.rendererObject.addEventListener("loaded",function(){--r.loadingCount,r.dispatchEvent({type:"loadedBaseTexture",content:r})})}},i.SpineTextureLoader.prototype.unload=function(t){t.destroy(!0)},i.Spine=function(t){if(i.DisplayObjectContainer.call(this),this.spineData=i.AnimCache[t],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+t);this.skeleton=new r.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new r.AnimationStateData(this.spineData),this.state=new r.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,n=this.skeleton.drawOrder.length;n>e;e++){var o=this.skeleton.drawOrder[e],s=o.attachment,a=new i.DisplayObjectContainer;if(this.slotContainers.push(a),this.addChild(a),s instanceof r.RegionAttachment){var h=s.rendererObject.name,u=this.createSprite(o,s);o.currentSprite=u,o.currentSpriteName=h,a.addChild(u)}else{if(!(s instanceof r.MeshAttachment))continue;var l=this.createMesh(o,s);o.currentMesh=l,o.currentMeshName=s.name,a.addChild(l)}}this.autoUpdate=!0},i.Spine.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Spine.prototype.constructor=i.Spine,Object.defineProperty(i.Spine.prototype,"autoUpdate",{get:function(){return this.updateTransform===i.Spine.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?i.Spine.prototype.autoUpdateTransform:i.DisplayObjectContainer.prototype.updateTransform}}),i.Spine.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,n=0,o=e.length;o>n;n++){var s=e[n],a=s.attachment,h=this.slotContainers[n];if(a){var u=a.type;if(u===r.AttachmentType.region){if(a.rendererObject&&(!s.currentSpriteName||s.currentSpriteName!==a.name)){var l=a.rendererObject.name;if(void 0!==s.currentSprite&&(s.currentSprite.visible=!1),s.sprites=s.sprites||{},void 0!==s.sprites[l])s.sprites[l].visible=!0;else{var c=this.createSprite(s,a);h.addChild(c)}s.currentSprite=s.sprites[l],s.currentSpriteName=l}var d=s.bone;h.position.x=d.worldX+a.x*d.m00+a.y*d.m01,h.position.y=d.worldY+a.x*d.m10+a.y*d.m11,h.scale.x=d.worldScaleX,h.scale.y=d.worldScaleY,h.rotation=-(s.bone.worldRotation*r.degRad),s.currentSprite.tint=i.rgb2hex([s.r,s.g,s.b])}else{if(u!==r.AttachmentType.skinnedmesh){h.visible=!1;continue}if(!s.currentMeshName||s.currentMeshName!==a.name){var p=a.name;if(void 0!==s.currentMesh&&(s.currentMesh.visible=!1),s.meshes=s.meshes||{},void 0!==s.meshes[p])s.meshes[p].visible=!0;else{var f=this.createMesh(s,a);h.addChild(f)}s.currentMesh=s.meshes[p],s.currentMeshName=p}a.computeWorldVertices(s.bone.skeleton.x,s.bone.skeleton.y,s,s.currentMesh.vertices)}h.visible=!0,h.alpha=s.a}else h.visible=!1}},i.Spine.prototype.autoUpdateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t),i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.Spine.prototype.createSprite=function(t,e){var n=e.rendererObject,o=n.page.rendererObject,s=new i.Rectangle(n.x,n.y,n.rotate?n.height:n.width,n.rotate?n.width:n.height),a=new i.Texture(o,s),h=new i.Sprite(a),u=n.rotate?.5*Math.PI:0;return h.scale.set(n.width/n.originalWidth,n.height/n.originalHeight),h.rotation=u-e.rotation*r.degRad,h.anchor.x=h.anchor.y=.5,t.sprites=t.sprites||{},t.sprites[n.name]=h,h},i.Spine.prototype.createMesh=function(t,e){var r=e.rendererObject,n=r.page.rendererObject,o=new i.Texture(n),s=new i.Strip(o);return s.drawMode=i.Strip.DrawModes.TRIANGLES,s.canvasPadding=1.5,s.vertices=new i.Float32Array(e.uvs.length),s.uvs=e.uvs,s.indices=e.triangles,t.meshes=t.meshes||{},t.meshes[e.name]=s,s},i.BaseTextureCache={},i.BaseTextureCacheIdGenerator=0,i.BaseTexture=function(t,e){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=e||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=t,this._UID=i._UID++,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this._dirty=[!0,!0,!0,!0],t){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty();else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dirty(),r.dispatchEvent({type:"loaded",content:r})},this.source.onerror=function(){r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null,this._powerOf2=!1}},i.BaseTexture.prototype.constructor=i.BaseTexture,i.EventTarget.mixin(i.BaseTexture.prototype),i.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.unloadFromGPU()},i.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},i.BaseTexture.prototype.dirty=function(){for(var t=0;t<this._glTextures.length;t++)this._dirty[t]=!0},i.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var t=this._glTextures.length-1;t>=0;t--){var e=this._glTextures[t],r=i.glContexts[t];r&&e&&r.deleteTexture(e)}this._glTextures.length=0,this.dirty()},i.BaseTexture.fromImage=function(t,e,r){var n=i.BaseTextureCache[t];if(void 0===e&&-1===t.indexOf("data:")&&(e=!0),!n){var o=new Image;e&&(o.crossOrigin=""),o.src=t,n=new i.BaseTexture(o,r),n.imageUrl=t,i.BaseTextureCache[t]=n,-1!==t.indexOf(i.RETINA_PREFIX+".")&&(n.resolution=2)}return n},i.BaseTexture.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[t._pixiId];return r||(r=new i.BaseTexture(t,e),i.BaseTextureCache[t._pixiId]=r),r},i.TextureCache={},i.FrameCache={},i.TextureCacheIdGenerator=0,i.Texture=function(t,e,r,n){this.noFrame=!1,e||(this.noFrame=!0,e=new i.Rectangle(0,0,1,1)),t instanceof i.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),t.hasLoaded?(this.noFrame&&(e=new i.Rectangle(0,0,t.width,t.height)),this.setFrame(e)):t.addEventListener("loaded",this.onBaseTextureLoaded.bind(this))},i.Texture.prototype.constructor=i.Texture,i.EventTarget.mixin(i.Texture.prototype),i.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new i.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},i.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,!this.trim&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},i.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new i.TextureUvs);var t=this.crop,e=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/r,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/r,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/r,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/r},i.Texture.fromImage=function(t,e,r){var n=i.TextureCache[t];return n||(n=new i.Texture(i.BaseTexture.fromImage(t,e,r)),i.TextureCache[t]=n),n},i.Texture.fromFrame=function(t){var e=i.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache ');return e},i.Texture.fromCanvas=function(t,e){var r=i.BaseTexture.fromCanvas(t,e);return new i.Texture(r)},i.Texture.addTextureToCache=function(t,e){i.TextureCache[e]=t},i.Texture.removeTextureFromCache=function(t){var e=i.TextureCache[t];return delete i.TextureCache[t],delete i.BaseTextureCache[t],e},i.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},i.Texture.emptyTexture=new i.Texture(new i.BaseTexture),i.RenderTexture=function(t,e,r,n,o){if(this.width=t||100,this.height=e||100,this.resolution=o||1,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new i.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=n||i.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,i.Texture.call(this,this.baseTexture,new i.Rectangle(0,0,this.width,this.height)),this.renderer=r||i.defaultRenderer,this.renderer.type===i.WEBGL_RENDERER){var s=this.renderer.gl;this.baseTexture._dirty[s.id]=!1,this.textureBuffer=new i.FilterTexture(s,this.width*this.resolution,this.height*this.resolution,this.baseTexture.scaleMode),this.baseTexture._glTextures[s.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new i.Point(.5*this.width,.5*-this.height)}else this.render=this.renderCanvas,this.textureBuffer=new i.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()},i.RenderTexture.prototype=Object.create(i.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this.frame.width=this.crop.width=t,this.height=this.frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===i.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution))},i.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===i.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.RenderTexture.prototype.renderWebGL=function(t,e,i){if(this.valid){var r=t.worldTransform;r.identity(),r.translate(0,2*this.projection.y),e&&r.append(e),r.scale(1,-1),t.worldAlpha=1;for(var n=t.children,o=0,s=n.length;s>o;o++)n[o].updateTransform();var a=this.renderer.gl;a.viewport(0,0,this.width*this.resolution,this.height*this.resolution),a.bindFramebuffer(a.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer),this.renderer.spriteBatch.dirty=!0}},i.RenderTexture.prototype.renderCanvas=function(t,e,i){if(this.valid){var r=t.worldTransform;r.identity(),e&&r.append(e),t.worldAlpha=1;for(var n=t.children,o=0,s=n.length;s>o;o++)n[o].updateTransform();i&&this.textureBuffer.clear();var a=this.textureBuffer.context,h=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,a),this.renderer.resolution=h}},i.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===i.WEBGL_RENDERER){var t=this.renderer.gl,e=this.textureBuffer.width,r=this.textureBuffer.height,n=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new i.CanvasBuffer(e,r),s=o.context.getImageData(0,0,e,r);return s.data.set(n),o.context.putImageData(s,0,0),o.canvas}return this.textureBuffer.canvas},i.RenderTexture.tempMatrix=new i.Matrix,i.VideoTexture=function(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),i.BaseTexture.call(this,t,e),this.autoUpdate=!1,this.updateBound=this._onUpdate.bind(this),t.complete||(this._onCanPlay=this.onCanPlay.bind(this),t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this.onPlayStart.bind(this)),t.addEventListener("pause",this.onPlayStop.bind(this)))},i.VideoTexture.prototype=Object.create(i.BaseTexture.prototype),i.VideoTexture.constructor=i.VideoTexture,i.VideoTexture.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this.updateBound),this.dirty())},i.VideoTexture.prototype.onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this.updateBound),this.autoUpdate=!0)},i.VideoTexture.prototype.onPlayStop=function(){this.autoUpdate=!1},i.VideoTexture.prototype.onCanPlay=function(){"canplaythrough"===event.type&&(this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.dispatchEvent({type:"loaded",content:this}))))},i.VideoTexture.prototype.destroy=function(){this.source&&this.source._pixiId&&(i.BaseTextureCache[this.source._pixiId]=null,delete i.BaseTextureCache[this.source._pixiId],this.source._pixiId=null,delete this.source._pixiId),i.BaseTexture.prototype.destroy.call(this)},i.VideoTexture.baseTextureFromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[t._pixiId];return r||(r=new i.VideoTexture(t,e),i.BaseTextureCache[t._pixiId]=r),r},i.VideoTexture.textureFromVideo=function(t,e){var r=i.VideoTexture.baseTextureFromVideo(t,e);return new i.Texture(r)},i.VideoTexture.fromUrl=function(t,e){var r=document.createElement("video");return r.src=t,r.autoPlay=!0,r.play(),i.VideoTexture.textureFromVideo(r,e)},i.AssetLoader=function(t,e){this.assetURLs=t,this.crossorigin=e,this.loadersByType={jpg:i.ImageLoader,jpeg:i.ImageLoader,png:i.ImageLoader,gif:i.ImageLoader,webp:i.ImageLoader,json:i.JsonLoader,atlas:i.AtlasLoader,anim:i.SpineLoader,xml:i.BitmapFontLoader,fnt:i.BitmapFontLoader}},i.EventTarget.mixin(i.AssetLoader.prototype),i.AssetLoader.prototype.constructor=i.AssetLoader,i.AssetLoader.prototype._getDataType=function(t){var e="data:",i=t.slice(0,e.length).toLowerCase();if(i===e){var r=t.slice(e.length),n=r.indexOf(",");if(-1===n)return null;var o=r.slice(0,n).split(";")[0];return o&&"text/plain"!==o.toLowerCase()?o.split("/").pop().toLowerCase():"txt"}return null},i.AssetLoader.prototype.load=function(){function t(t){e.onAssetLoaded(t.data.content)}var e=this;this.loadCount=this.assetURLs.length;for(var i=0;i<this.assetURLs.length;i++){var r=this.assetURLs[i],n=this._getDataType(r);n||(n=r.split("?").shift().split(".").pop().toLowerCase());var o=this.loadersByType[n];if(!o)throw new Error(n+" is an unsupported file type");var s=new o(r,this.crossorigin);s.on("loaded",t),s.load()}},i.AssetLoader.prototype.onAssetLoaded=function(t){this.loadCount--,this.emit("onProgress",{content:this,loader:t}),this.onProgress&&this.onProgress(t),this.loadCount||(this.emit("onComplete",{content:this}),this.onComplete&&this.onComplete())},i.JsonLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.loaded=!1},i.JsonLoader.prototype.constructor=i.JsonLoader,i.EventTarget.mixin(i.JsonLoader.prototype),i.JsonLoader.prototype.load=function(){window.XDomainRequest&&this.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=this.onError.bind(this),this.ajaxRequest.ontimeout=this.onError.bind(this),this.ajaxRequest.onprogress=function(){},this.ajaxRequest.onload=this.onJSONLoaded.bind(this)):(this.ajaxRequest=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onreadystatechange=this.onReadyStateChanged.bind(this)),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},i.JsonLoader.prototype.onReadyStateChanged=function(){4!==this.ajaxRequest.readyState||200!==this.ajaxRequest.status&&-1!==window.location.href.indexOf("http")||this.onJSONLoaded()},i.JsonLoader.prototype.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return void this.onError();if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames&&this.json.meta&&this.json.meta.image){var t=this.baseUrl+this.json.meta.image,e=new i.ImageLoader(t,this.crossorigin),n=this.json.frames;this.texture=e.texture.baseTexture,e.addEventListener("loaded",this.onLoaded.bind(this));for(var o in n){var s=n[o].frame;if(s){var a=new i.Rectangle(s.x,s.y,s.w,s.h),h=a.clone(),u=null;if(n[o].trimmed){var l=n[o].sourceSize,c=n[o].spriteSourceSize;u=new i.Rectangle(c.x,c.y,l.w,l.h)}i.TextureCache[o]=new i.Texture(this.texture,a,h,u)}}e.load()}else if(this.json.bones)if(i.AnimCache[this.url])this.onLoaded();else{var d=this.url.substr(0,this.url.lastIndexOf("."))+".atlas",p=new i.JsonLoader(d,this.crossorigin),f=this;p.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return void this.onError();var t=new i.SpineTextureLoader(this.url.substring(0,this.url.lastIndexOf("/"))),e=new r.Atlas(this.ajaxRequest.responseText,t),n=new r.AtlasAttachmentLoader(e),o=new r.SkeletonJson(n),s=o.readSkeletonData(f.json);i.AnimCache[f.url]=s,f.spine=s,f.spineAtlas=e,f.spineAtlasLoader=p,t.loadingCount>0?t.addEventListener("loadedBaseTexture",function(t){t.content.content.loadingCount<=0&&f.onLoaded()}):f.onLoaded()},p.load()}else this.onLoaded()},i.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},i.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},i.AtlasLoader=function(t,e){this.url=t,this.baseUrl=t.replace(/[^\/]*$/,""),this.crossorigin=e,this.loaded=!1},i.AtlasLoader.constructor=i.AtlasLoader,i.EventTarget.mixin(i.AtlasLoader.prototype),i.AtlasLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},i.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var t=this.ajaxRequest.responseText.split(/\r?\n/),e=-3,r=0,n=null,o=!1,s=0,a=0,h=this.onLoaded.bind(this);for(s=0;s<t.length;s++)if(t[s]=t[s].replace(/^\s+|\s+$/g,""),""===t[s]&&(o=s+1),t[s].length>0){if(o===s)this.atlas.meta.image.push(t[s]),r=this.atlas.meta.image.length-1,this.atlas.frames.push({}),e=-3;
else if(e>0)if(e%7===1)null!=n&&(this.atlas.frames[r][n.name]=n),n={name:t[s],frame:{}};else{var u=t[s].split(" ");if(e%7===3)n.frame.x=Number(u[1].replace(",","")),n.frame.y=Number(u[2]);else if(e%7===4)n.frame.w=Number(u[1].replace(",","")),n.frame.h=Number(u[2]);else if(e%7===5){var l={x:0,y:0,w:Number(u[1].replace(",","")),h:Number(u[2])};l.w>n.frame.w||l.h>n.frame.h?(n.trimmed=!0,n.realSize=l):n.trimmed=!1}}e++}if(null!=n&&(this.atlas.frames[r][n.name]=n),this.atlas.meta.image.length>0){for(this.images=[],a=0;a<this.atlas.meta.image.length;a++){var c=this.baseUrl+this.atlas.meta.image[a],d=this.atlas.frames[a];this.images.push(new i.ImageLoader(c,this.crossorigin));for(s in d){var p=d[s].frame;p&&(i.TextureCache[s]=new i.Texture(this.images[a].texture.baseTexture,{x:p.x,y:p.y,width:p.w,height:p.h}),d[s].trimmed&&(i.TextureCache[s].realSize=d[s].realSize,i.TextureCache[s].trim.x=0,i.TextureCache[s].trim.y=0))}}for(this.currentImageId=0,a=0;a<this.images.length;a++)this.images[a].on("loaded",h);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},i.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.emit("loaded",{content:this}))},i.AtlasLoader.prototype.onError=function(){this.emit("error",{content:this})},i.SpriteSheetLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},i.SpriteSheetLoader.prototype.constructor=i.SpriteSheetLoader,i.EventTarget.mixin(i.SpriteSheetLoader.prototype),i.SpriteSheetLoader.prototype.load=function(){var t=this,e=new i.JsonLoader(this.url,this.crossorigin);e.on("loaded",function(e){t.json=e.data.content.json,t.onLoaded()}),e.load()},i.SpriteSheetLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader=function(t,e){this.texture=i.Texture.fromImage(t,e),this.frames=[]},i.ImageLoader.prototype.constructor=i.ImageLoader,i.EventTarget.mixin(i.ImageLoader.prototype),i.ImageLoader.prototype.load=function(){this.texture.baseTexture.hasLoaded?this.onLoaded():this.texture.baseTexture.on("loaded",this.onLoaded.bind(this))},i.ImageLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader.prototype.loadFramedSpriteSheet=function(t,e,r){this.frames=[];for(var n=Math.floor(this.texture.width/t),o=Math.floor(this.texture.height/e),s=0,a=0;o>a;a++)for(var h=0;n>h;h++,s++){var u=new i.Texture(this.texture.baseTexture,{x:h*t,y:a*e,width:t,height:e});this.frames.push(u),r&&(i.TextureCache[r+"-"+s]=u)}this.load()},i.BitmapFontLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null},i.BitmapFontLoader.prototype.constructor=i.BitmapFontLoader,i.EventTarget.mixin(i.BitmapFontLoader.prototype),i.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onXMLLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},i.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var t=this.ajaxRequest.responseXML;if(!t||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){var e=new DOMParser;t=e.parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=this.ajaxRequest.responseText,t=r}var n=this.baseUrl+t.getElementsByTagName("page")[0].getAttribute("file"),o=new i.ImageLoader(n,this.crossorigin);this.texture=o.texture.baseTexture;var s={},a=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0];s.font=a.getAttribute("face"),s.size=parseInt(a.getAttribute("size"),10),s.lineHeight=parseInt(h.getAttribute("lineHeight"),10),s.chars={};for(var u=t.getElementsByTagName("char"),l=0;l<u.length;l++){var c=parseInt(u[l].getAttribute("id"),10),d=new i.Rectangle(parseInt(u[l].getAttribute("x"),10),parseInt(u[l].getAttribute("y"),10),parseInt(u[l].getAttribute("width"),10),parseInt(u[l].getAttribute("height"),10));s.chars[c]={xOffset:parseInt(u[l].getAttribute("xoffset"),10),yOffset:parseInt(u[l].getAttribute("yoffset"),10),xAdvance:parseInt(u[l].getAttribute("xadvance"),10),kerning:{},texture:i.TextureCache[c]=new i.Texture(this.texture,d)}}var p=t.getElementsByTagName("kerning");for(l=0;l<p.length;l++){var f=parseInt(p[l].getAttribute("first"),10),g=parseInt(p[l].getAttribute("second"),10),m=parseInt(p[l].getAttribute("amount"),10);s.chars[g].kerning[f]=m}i.BitmapText.fonts[s.font]=s,o.addEventListener("loaded",this.onLoaded.bind(this)),o.load()}},i.BitmapFontLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.SpineLoader=function(t,e){this.url=t,this.crossorigin=e,this.loaded=!1},i.SpineLoader.prototype.constructor=i.SpineLoader,i.EventTarget.mixin(i.SpineLoader.prototype),i.SpineLoader.prototype.load=function(){var t=this,e=new i.JsonLoader(this.url,this.crossorigin);e.on("loaded",function(e){t.json=e.data.content.json,t.onLoaded()}),e.load()},i.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.emit("loaded",{content:this})},i.AbstractFilter=function(t,e){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},i.AbstractFilter.prototype.constructor=i.AbstractFilter,i.AbstractFilter.prototype.syncUniforms=function(){for(var t=0,e=this.shaders.length;e>t;t++)this.shaders[t].dirty=!0},i.AlphaMaskFilter=function(t){i.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:t},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mask.value.x=t.width,this.uniforms.mask.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},i.AlphaMaskFilter.prototype=Object.create(i.AbstractFilter.prototype),i.AlphaMaskFilter.prototype.constructor=i.AlphaMaskFilter,i.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}}),i.ColorMatrixFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},i.ColorMatrixFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorMatrixFilter.prototype.constructor=i.ColorMatrixFilter,Object.defineProperty(i.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),i.GrayFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},i.GrayFilter.prototype=Object.create(i.AbstractFilter.prototype),i.GrayFilter.prototype.constructor=i.GrayFilter,Object.defineProperty(i.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),i.DisplacementFilter=function(t){i.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=t.width,this.uniforms.mapDimensions.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},i.DisplacementFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DisplacementFilter.prototype.constructor=i.DisplacementFilter,i.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(i.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(i.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),i.PixelateFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new i.Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},i.PixelateFilter.prototype=Object.create(i.AbstractFilter.prototype),i.PixelateFilter.prototype.constructor=i.PixelateFilter,Object.defineProperty(i.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),i.BlurXFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurXFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurXFilter.prototype.constructor=i.BlurXFilter,Object.defineProperty(i.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),i.BlurYFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurYFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurYFilter.prototype.constructor=i.BlurYFilter,Object.defineProperty(i.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),i.BlurFilter=function(){this.blurXFilter=new i.BlurXFilter,this.blurYFilter=new i.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},i.BlurFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurFilter.prototype.constructor=i.BlurFilter,Object.defineProperty(i.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(i.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(i.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),i.InvertFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},i.InvertFilter.prototype=Object.create(i.AbstractFilter.prototype),i.InvertFilter.prototype.constructor=i.InvertFilter,Object.defineProperty(i.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),i.SepiaFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},i.SepiaFilter.prototype=Object.create(i.AbstractFilter.prototype),i.SepiaFilter.prototype.constructor=i.SepiaFilter,Object.defineProperty(i.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),i.TwistFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},i.TwistFilter.prototype=Object.create(i.AbstractFilter.prototype),i.TwistFilter.prototype.constructor=i.TwistFilter,Object.defineProperty(i.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(i.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(i.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),i.ColorStepFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},i.ColorStepFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorStepFilter.prototype.constructor=i.ColorStepFilter,Object.defineProperty(i.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),i.DotScreenFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},i.DotScreenFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DotScreenFilter.prototype.constructor=i.DotScreenFilter,Object.defineProperty(i.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(i.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),i.CrossHatchFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},i.CrossHatchFilter.prototype=Object.create(i.AbstractFilter.prototype),i.CrossHatchFilter.prototype.constructor=i.CrossHatchFilter,Object.defineProperty(i.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),i.RGBSplitFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},i.RGBSplitFilter.prototype=Object.create(i.AbstractFilter.prototype),i.RGBSplitFilter.prototype.constructor=i.RGBSplitFilter,Object.defineProperty(i.RGBSplitFilter.prototype,"red",{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}}),Object.defineProperty(i.RGBSplitFilter.prototype,"green",{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}}),Object.defineProperty(i.RGBSplitFilter.prototype,"blue",{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}),"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.PIXI=i}).call(this)},function(t,e,i){function r(t,e,i,n){this.minForce="undefined"==typeof i?-Number.MAX_VALUE:i,this.maxForce="undefined"==typeof n?Number.MAX_VALUE:n,this.bodyA=t,this.bodyB=e,this.stiffness=r.DEFAULT_STIFFNESS,this.relaxation=r.DEFAULT_RELAXATION,this.G=new o.ARRAY_TYPE(6);for(var s=0;6>s;s++)this.G[s]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}t.exports=r;{var n=i(1),o=i(2);i(12)}r.prototype.constructor=r,r.DEFAULT_STIFFNESS=1e6,r.DEFAULT_RELAXATION=4,r.prototype.update=function(){var t=this.stiffness,e=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(i*i*t*(1+4*e)),this.needsUpdate=!1},r.prototype.gmult=function(t,e,i,r,n){return t[0]*e[0]+t[1]*e[1]+t[2]*i+t[3]*r[0]+t[4]*r[1]+t[5]*n},r.prototype.computeB=function(t,e,i){var r=this.computeGW(),n=this.computeGq(),o=this.computeGiMf();return-n*t-r*e-o*i};var s=n.create(),a=n.create();r.prototype.computeGq=function(){var t=this.G,e=this.bodyA,i=this.bodyB,r=(e.position,i.position,e.angle),n=i.angle;return this.gmult(t,s,r,a,n)+this.offset},r.prototype.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,r=e.velocity,n=i.velocity,o=e.angularVelocity,s=i.angularVelocity;return this.gmult(t,r,o,n,s)+this.relativeVelocity},r.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,i=this.bodyB,r=e.vlambda,n=i.vlambda,o=e.wlambda,s=i.wlambda;return this.gmult(t,r,o,n,s)};var h=n.create(),u=n.create();r.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,i=t.force,r=t.angularForce,o=e.force,s=e.angularForce,a=t.invMassSolve,l=e.invMassSolve,c=t.invInertiaSolve,d=e.invInertiaSolve,p=this.G;return n.scale(h,i,a),n.scale(u,o,l),this.gmult(p,h,r*c,u,s*d)},r.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,i=t.invMassSolve,r=e.invMassSolve,n=t.invInertiaSolve,o=e.invInertiaSolve,s=this.G;return s[0]*s[0]*i+s[1]*s[1]*i+s[2]*s[2]*n+s[3]*s[3]*r+s[4]*s[4]*r+s[5]*s[5]*o};{var l=n.create(),c=n.create(),d=n.create();n.create(),n.create(),n.create()}r.prototype.addToWlambda=function(t){var e=this.bodyA,i=this.bodyB,r=l,o=c,s=d,a=e.invMassSolve,h=i.invMassSolve,u=e.invInertiaSolve,p=i.invInertiaSolve,f=this.G;o[0]=f[0],o[1]=f[1],s[0]=f[3],s[1]=f[4],n.scale(r,o,a*t),n.add(e.vlambda,e.vlambda,r),e.wlambda+=u*f[2]*t,n.scale(r,s,h*t),n.add(i.vlambda,i.vlambda,r),i.wlambda+=p*f[5]*t},r.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},function(t,e,i){t.exports={AABB:i(57),AngleLockEquation:i(66),Body:i(12),Broadphase:i(18),Capsule:i(72),Circle:i(19),Constraint:i(11),ContactEquation:i(31),ContactMaterial:i(69),Convex:i(20),DistanceConstraint:i(61),Equation:i(4),EventEmitter:i(27),FrictionEquation:i(32),GearConstraint:i(62),GridBroadphase:i(135),GSSolver:i(74),Heightfield:i(137),Line:i(73),LockConstraint:i(63),Material:i(33),Narrowphase:i(59),NaiveBroadphase:i(58),Particle:i(28),Plane:i(29),RevoluteConstraint:i(65),PrismaticConstraint:i(64),Rectangle:i(35),RotationalVelocityEquation:i(68),SAPBroadphase:i(60),Shape:i(6),Solver:i(36),Spring:i(34),LinearSpring:i(70),RotationalSpring:i(71),Utils:i(2),World:i(142),vec2:i(1),version:i(52).version}},function(t){function e(t){this.type=t,this.id=e.idCounter++,this.boundingRadius=0,this.collisionGroup=1,this.collisionMask=1,t&&this.updateBoundingRadius(),this.material=null,this.area=0,this.sensor=!1,this.updateArea()}t.exports=e,e.idCounter=0,e.CIRCLE=1,e.PARTICLE=2,e.PLANE=4,e.CONVEX=8,e.LINE=16,e.RECTANGLE=32,e.CAPSULE=64,e.HEIGHTFIELD=128,e.prototype.computeMomentOfInertia=function(){throw new Error("Shape.computeMomentOfInertia is not implemented in this Shape...")},e.prototype.updateBoundingRadius=function(){throw new Error("Shape.updateBoundingRadius is not implemented in this Shape...")},e.prototype.updateArea=function(){},e.prototype.computeAABB=function(){}},function(t,e,i){"use strict";var r=i(8).Promise;t.exports=i(191)(r)},function(t,e,i){var r;(function(t,n,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.0.1
	 */
(function(){"use strict";function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function h(t){return"object"==typeof t&&null!==t}function u(){}function l(){return function(){t.nextTick(f)}}function c(){var t=0,e=new z(f),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function d(){var t=new MessageChannel;return t.port1.onmessage=f,function(){t.port2.postMessage(0)}}function p(){return function(){setTimeout(f,1)}}function f(){for(var t=0;U>t;t+=2){var e=j[t],i=j[t+1];e(i),j[t]=void 0,j[t+1]=void 0}U=0}function g(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function y(t){try{return t.then}catch(e){return K.error=e,K}}function x(t,e,i,r){try{t.call(e,i,r)}catch(n){return n}}function b(t,e,i){V(function(t){var r=!1,n=x(i,e,function(i){r||(r=!0,e!==i?_(t,i):S(t,i))},function(e){r||(r=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&n&&(r=!0,C(t,n))},t)}function w(t,e){e._state===X?S(t,e._result):t._state===H?C(t,e._result):E(e,void 0,function(e){_(t,e)},function(e){C(t,e)})}function A(t,e){if(e.constructor===t.constructor)w(t,e);else{var i=y(e);i===K?C(t,K.error):void 0===i?S(t,e):a(i)?b(t,e,i):S(t,e)}}function _(t,e){t===e?C(t,m()):s(e)?A(t,e):S(t,e)}function T(t){t._onerror&&t._onerror(t._result),M(t)}function S(t,e){t._state===Y&&(t._result=e,t._state=X,0===t._subscribers.length||V(M,t))}function C(t,e){t._state===Y&&(t._state=H,t._result=e,V(T,t))}function E(t,e,i,r){var n=t._subscribers,o=n.length;t._onerror=null,n[o]=e,n[o+X]=i,n[o+H]=r,0===o&&t._state&&V(M,t)}function M(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r,n,o=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?L(i,r,n,o):n(o);t._subscribers.length=0}}function R(){this.error=null}function P(t,e){try{return t(e)}catch(i){return Z.error=i,Z}}function L(t,e,i,r){var n,o,s,h,u=a(i);if(u){if(n=P(i,r),n===Z?(h=!0,o=n.error,n=null):s=!0,e===n)return void C(e,v())}else n=r,s=!0;e._state!==Y||(u&&s?_(e,n):h?C(e,o):t===X?S(e,n):t===H&&C(e,n))}function B(t,e){try{e(function(e){_(t,e)},function(e){C(t,e)})}catch(i){C(t,i)}}function F(t,e,i,r){this._instanceConstructor=t,this.promise=new t(g,r),this._abortOnReject=i,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):C(this.promise,this._validationError())}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this._id=ie++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==t&&(a(t)||O(),this instanceof D||I(),B(this,t))}var k;k=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N,G=k,U=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return u.prototype=t,new u},0),V=function(t,e){j[U]=t,j[U+1]=e,U+=2,2===U&&N()},W="undefined"!=typeof window?window:{},z=W.MutationObserver||W.WebKitMutationObserver,q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,j=new Array(1e3);N="undefined"!=typeof t&&"[object process]"==={}.toString.call(t)?l():z?c():q?d():p();var Y=void 0,X=1,H=2,K=new R,Z=new R;F.prototype._validateInput=function(t){return G(t)},F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._init=function(){this._result=new Array(this.length)};var Q=F;F.prototype._enumerate=function(){for(var t=this.length,e=this.promise,i=this._input,r=0;e._state===Y&&t>r;r++)this._eachEntry(i[r],r)},F.prototype._eachEntry=function(t,e){var i=this._instanceConstructor;h(t)?t.constructor===i&&t._state!==Y?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(i.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(X,e,t))},F.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===Y&&(this._remaining--,this._abortOnReject&&t===H?C(r,i):this._result[e]=this._makeResult(t,e,i)),0===this._remaining&&S(r,this._result)},F.prototype._makeResult=function(t,e,i){return i},F.prototype._willSettleAt=function(t,e){var i=this;E(t,void 0,function(t){i._settledAt(X,e,t)},function(t){i._settledAt(H,e,t)})};var J=function(t,e){return new Q(this,t,!0,e).promise},$=function(t,e){function i(t){_(o,t)}function r(t){C(o,t)}var n=this,o=new n(g,e);if(!G(t))return C(o,new TypeError("You must pass an array to race.")),o;for(var s=t.length,a=0;o._state===Y&&s>a;a++)E(n.resolve(t[a]),void 0,i,r);return o},te=function(t,e){var i=this;if(t&&"object"==typeof t&&t.constructor===i)return t;var r=new i(g,e);return _(r,t),r},ee=function(t,e){var i=this,r=new i(g,e);return C(r,t),r},ie=0,re=D;D.all=J,D.race=$,D.resolve=te,D.reject=ee,D.prototype={constructor:D,then:function(t,e){var i=this,r=i._state;if(r===X&&!t||r===H&&!e)return this;var n=new this.constructor(g),o=i._result;if(r){var s=arguments[r-1];V(function(){L(r,n,s,o)})}else E(i,n,t,e);return n},"catch":function(t){return this.then(null,t)}};var ne=function(){var t;t="undefined"!=typeof n?n:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),a(e)}();e||(t.Promise=re)},oe={Promise:re,polyfill:ne};i(41).amd?(r=function(){return oe}.call(e,i,e,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=oe:"undefined"!=typeof this&&(this.ES6Promise=oe)}).call(this)}).call(e,i(43),function(){return this}(),i(42)(t))},function(t,e,i){"use strict";var r=i(81),n=r.EventEmitter;t.exports=function(){var t;return{addListener:function(){t.addListener.apply(t,arguments)},removeListener:function(){t.removeListener.apply(t,arguments)},emit:function(){t.emit.apply(t,arguments)},init:function(){t=new n,t.setMaxListeners(20)}}}()},function(t,e){var i,r;i=[],r=function(){var t={};return t.SQRT2=Math.sqrt(2),t.SQRT3=Math.sqrt(3),t.LOG2=Math.log(2),t.PI=3.141592653589793,t.INV_PI=1/t.PI,t.HALF_PI=t.PI/2,t.THIRD_PI=t.PI/3,t.QUARTER_PI=t.PI/4,t.TWO_PI=2*t.PI,t.THREE_HALVES_PI=t.TWO_PI-t.HALF_PI,t.PI_SQUARED=t.PI*t.PI,t.EPS=1.1920928955078125e-7,t.DEG2RAD=t.PI/180,t.RAD2DEG=180/t.PI,t.SHIFT23=1<<23,t.INV_SHIFT23=1/t.SHIFT23,t.SIN_A=-4/(t.PI*t.PI),t.SIN_B=4/t.PI,t.SIN_P=.225,t.abs=Math.abs,t.ceilPowerOf2=function(t){for(var e=1;t>e;)e<<=1;return e},t.clip=function(t,e,i){return e>t?e:t>i?i:t},t.clipNormalized=function(t){return 0>t?0:t>1?1:t},t.cos=Math.cos,t.degrees=function(e){return e*t.RAD2DEG},t.fastCos=function(e){return t.fastSin(e+(e>t.HALF_PI?-t.THREE_HALVES_PI:t.HALF_PI))},t.fastSin=function(e){return e=t.SIN_B*e+t.SIN_A*e*Math.abs(e),t.SIN_P*(e*Math.abs(e)-e)+e},t.flipCoin=function(){return Math.random()<.5},t.floor=function(t){var e=~~t;return 0>t&&t!=e&&e--,e},t.floorPowerOf2=function(e){return~~Math.pow(2,parseInt(Math.log(e)/t.LOG2,10))},t.max=function(t,e,i){return void 0===i?Math.max(t,e):t>e?t>i?t:i:e>i?e:i},t.min=function(t,e,i){return void 0===i?Math.min(t,e):e>t?i>t?t:i:i>e?e:i},t.normalizedRandom=function(){return 2*Math.random()-1},t.radians=function(e){return e*t.DEG2RAD},t.random=function(t,e,i){return 1===arguments.length?Math.random()*arguments[0]:(2==arguments.length&&(i=e,e=t,t=Math.random),e||i?i?t()*(i-e)+e:(i=e,t()*i):Math.random())},t.reduceAngle=function(e){return e%=t.TWO_PI,Math.abs(e)>t.PI&&(e-=t.TWO_PI),Math.abs(e)>t.HALF_PI&&(e=t.PI-e),e},t.sign=function(t){return 0>t?-1:t>0?1:0},t.sin=function(e){return e=t.reduceAngle(e),Math.abs(e)<=t.QUARTER_PI?t.fastSin(e):t.fastCos(t.HALF_PI-e)},t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,i){function r(t,e,i,r){this.type=i,r=n.defaults(r,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=r.collideConnected,r.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}t.exports=r;var n=i(2);r.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},r.DISTANCE=1,r.GEAR=2,r.LOCK=3,r.PRISMATIC=4,r.REVOLUTE=5,r.prototype.setStiffness=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var r=e[i];r.stiffness=t,r.needsUpdate=!0}},r.prototype.setRelaxation=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var r=e[i];r.relaxation=t,r.needsUpdate=!0}}},function(t,e,i){function r(t){t=t||{},h.call(this),this.id=++r._idCounter,this.world=null,this.shapes=[],this.shapeOffsets=[],this.shapeAngles=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation||!1,this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.interpolatedPosition=n.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=n.fromValues(0,0),this.previousAngle=0,this.velocity=n.fromValues(0,0),t.velocity&&n.copy(this.velocity,t.velocity),this.vlambda=n.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=n.create(),t.force&&n.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=r.STATIC,this.type="undefined"!=typeof t.type?t.type:t.mass?r.DYNAMIC:r.STATIC,this.boundingRadius=0,this.aabb=new a,this.aabbNeedsUpdate=!0,this.allowSleep=!0,this.wantsToSleep=!1,this.sleepState=r.AWAKE,this.sleepSpeedLimit=.2,this.sleepTimeLimit=1,this.gravityScale=1,this.timeLastSleepy=0,this.concavePath=null,this.lastDampingScale=1,this.lastAngularDampingScale=1,this.lastDampingTimeStep=-1,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var n=i(1),o=i(56),s=i(20),a=i(57),h=i(27);t.exports=r,r.prototype=new h,r._idCounter=0,r.prototype.updateSolveMassProperties=function(){this.sleepState===r.SLEEPING||this.type===r.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},r.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},r.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},r.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var u=new a,l=n.create();r.prototype.updateAABB=function(){for(var t=this.shapes,e=this.shapeOffsets,i=this.shapeAngles,r=t.length,o=l,s=this.angle,a=0;a!==r;a++){var h=t[a],c=i[a]+s;n.rotate(o,e[a],s),n.add(o,o,this.position),h.computeAABB(u,o,c),0===a?this.aabb.copy(u):this.aabb.extend(u)}this.aabbNeedsUpdate=!1},r.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=this.shapeOffsets,i=t.length,r=0,o=0;o!==i;o++){var s=t[o],a=n.length(e[o]),h=s.boundingRadius;a+h>r&&(r=a+h)}this.boundingRadius=r},r.prototype.addShape=function(t,e,i){i=i||0,e=e?n.fromValues(e[0],e[1]):n.fromValues(0,0),this.shapes.push(t),this.shapeOffsets.push(e),this.shapeAngles.push(i),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},r.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e?(this.shapes.splice(e,1),this.shapeOffsets.splice(e,1),this.shapeAngles.splice(e,1),this.aabbNeedsUpdate=!0,!0):!1},r.prototype.updateMassProperties=function(){if(this.type===r.STATIC||this.type===r.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,i=this.mass/e,o=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var s=0;e>s;s++){var a=t[s],h=n.squaredLength(this.shapeOffsets[s]),u=a.computeMomentOfInertia(i);o+=u+i*h}this.inertia=o,this.invInertia=o>0?1/o:0}this.invMass=1/this.mass}};var c=n.create();r.prototype.applyForce=function(t,e){var i=c;n.sub(i,e,this.position),n.add(this.force,this.force,t);var r=n.crossLength(i,t);this.angularForce+=r},r.prototype.toLocalFrame=function(t,e){n.toLocalFrame(t,e,this.position,this.angle)},r.prototype.toWorldFrame=function(t,e){n.toGlobalFrame(t,e,this.position,this.angle)},r.prototype.fromPolygon=function(t,e){e=e||{};for(var i=this.shapes.length;i>=0;--i)this.removeShape(this.shapes[i]);var r=new o.Polygon;if(r.vertices=t,r.makeCCW(),"number"==typeof e.removeCollinearPoints&&r.removeCollinearPoints(e.removeCollinearPoints),"undefined"==typeof e.skipSimpleCheck&&!r.isSimple())return!1;this.concavePath=r.vertices.slice(0);for(var i=0;i<this.concavePath.length;i++){var a=[0,0];n.copy(a,this.concavePath[i]),this.concavePath[i]=a}var h;h=e.optimalDecomp?r.decomp():r.quickDecomp();for(var u=n.create(),i=0;i!==h.length;i++){for(var l=new s(h[i].vertices),c=0;c!==l.vertices.length;c++){var a=l.vertices[c];n.sub(a,a,l.centerOfMass)}n.scale(u,l.centerOfMass,1),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),this.addShape(l,u)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};var d=(n.fromValues(0,0),n.fromValues(0,0)),p=n.fromValues(0,0),f=n.fromValues(0,0);r.prototype.adjustCenterOfMass=function(){var t=d,e=p,i=f,r=0;n.set(e,0,0);for(var o=0;o!==this.shapes.length;o++){var s=this.shapes[o],a=this.shapeOffsets[o];n.scale(t,a,s.area),n.add(e,e,t),r+=s.area}n.scale(i,e,1/r);for(var o=0;o!==this.shapes.length;o++){var s=this.shapes[o],a=this.shapeOffsets[o];a||(a=this.shapeOffsets[o]=n.create()),n.sub(a,a,i)}n.add(this.position,this.position,i);for(var o=0;this.concavePath&&o<this.concavePath.length;o++)n.sub(this.concavePath[o],this.concavePath[o],i);this.updateMassProperties(),this.updateBoundingRadius()},r.prototype.setZeroForce=function(){n.set(this.force,0,0),this.angularForce=0},r.prototype.resetConstraintVelocity=function(){var t=this,e=t.vlambda;n.set(e,0,0),t.wlambda=0},r.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;n.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},r.prototype.applyDamping=function(t){if(this.type===r.DYNAMIC){t!==this.lastDampingTimeStep&&(this.lastDampingScale=Math.pow(1-this.damping,t),this.lastAngularDampingScale=Math.pow(1-this.angularDamping,t),this.lastDampingTimeStep=t);var e=this.velocity;n.scale(e,e,this.lastDampingScale),this.angularVelocity*=this.lastAngularDampingScale}},r.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=r.AWAKE,this.idleTime=0,t!==r.AWAKE&&this.emit(r.wakeUpEvent)},r.prototype.sleep=function(){this.sleepState=r.SLEEPING,this.angularVelocity=0,this.angularForce=0,n.set(this.velocity,0,0),n.set(this.force,0,0),this.emit(r.sleepEvent)},r.prototype.sleepTick=function(t,e,i){if(this.allowSleep&&this.type!==r.SLEEPING){this.wantsToSleep=!1;var o=(this.sleepState,n.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)),s=Math.pow(this.sleepSpeedLimit,2);o>=s?(this.idleTime=0,this.sleepState=r.AWAKE):(this.idleTime+=i,this.sleepState=r.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep())}},r.prototype.getVelocityFromPosition=function(t,e){return t=t||n.create(),n.sub(t,this.position,this.previousPosition),n.scale(t,t,1/e),t},r.prototype.getAngularVelocityFromPosition=function(t){return(this.angle-this.previousAngle)/t},r.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)},r.sleepyEvent={type:"sleepy"},r.sleepEvent={type:"sleep"},r.wakeUpEvent={type:"wakeup"},r.DYNAMIC=1,r.STATIC=2,r.KINEMATIC=4,r.AWAKE=0,r.SLEEPY=1,r.SLEEPING=2},function(t,e,i){var r,n;r=[i(23),e],n=function(t,e){var i=function(e){return function(i){return t.all(i,e)}};e.Array=Array.isArray||function(t){return"[object Array]"==t.toString()},e.Object=function(t){return"object"==typeof t},e.undef=function(t){return void 0===t},e.existy=function(t){return null!=t},e.String=function(t){return"string"==typeof t},e.Number=function(t){return"number"==typeof t},e.Function=function(t){return"function"==typeof t},e.AABB=i(["setExtent","getNormalForPoint"]),e.ColorGradient=i(["gradient","interpolator","maxDither","addColorAt","calcGradient"]),e.ColorList=i(["add","addAll","adjustBrightness","adjustSaturation"]),e.ColorRange=i(["add","addAlphaRange","addBrightnessRange","addHueRange"]),e.Circle=i(["getCircumference","getRadius","intersectsCircle"]),e.FloatRange=i(["min","max","adjustCurrentBy","getMedian"]),e.Hue=i(["getHue","isPrimary"]),e.Line2D=i(["closestPointTo","intersectLine","getLength"]),e.Matrix4x4=i(["identity","invert","setFrustrum"]),e.Rect=i(["x","y","width","height","getArea","getCentroid","getDimensions"]),e.Sphere=i(["x","y","z","radius","toMesh"]),e.ScaleMap=i(["mapFunction","setInputRange","setOutputRange","getMappedValueFor"]),e.TColor=i(["rgb","cmyk","hsv"]),e.ParticleBehavior=i(["applyBehavior","configure"]),e.VerletParticle2D=i(["x","y","weight"])}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";var r=i(17)["default"],n=i(3);t.exports=function(){function t(){function t(t){return t}function n(t){var e;if("function"==typeof t.serializeModel)e=t.serializeModel();else{var i=s(t);e=i(t)}return e}function s(e){if("number"==typeof e||"string"==typeof e)return t;if(Array.isArray(e))return function(t){return t.map(function(t){return n(t)})};for(var i=0;i<o.length;i++)if(e instanceof o[i][0])return o[i][1];throw console.error("Could not find serializer for object",e),"Could not find serializer for object"}function a(t,e){var i;if("function"==typeof e.deserializeModel)i=e.deserializeModel(t);else{var r=h(t,e);i=r(t)}return i}function h(e,i){if(Number===i||String===e)return t;if(Array.isArray(i))return function(t){return t.map(function(t){return a(t,i[0])})};for(var r=0;r<o.length;r++)if(e instanceof o[r][0])return o[r][2];throw console.error("Could not find deserializer for object",e),"Could not find deserializer for object"}function u(t){var e=t,n=r.Object.keys(i).reduce(function(t,e){var r=new RegExp(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g");return t.replace(r,i[e])},e);return n.replace(/[0-9a-f]+/g,function(t){return parseInt(t,16)})}for(var l=arguments.length,c=Array(l),d=0;l>d;d++)c[d]=arguments[d];var p=c[0],f=c.slice(1),g=function(t){var e=this;this.data_=[],this.keys=[],this.types_=[];for(var i=0;i<f.length;i+=2)!function(t){var i=f[t],r=f[t+1],n=t/2;e.keys[n]=f[t],e.types_[n]=r,Object.defineProperty(e,i,{get:function(){return this.data_[n]},set:function(t){Array.isArray(r)?!function(){var e=r[0];t=t.map(function(t){return new e(t)})}():"function"==typeof r.loadFromJSON&&(t instanceof r||(t=r.loadFromJSON(t))),this.data_[n]=t}})}(i);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);this.modelName=p};return g.modelName=p,g.prototype.toCodeString=function(){var t="";return this.keys.forEach(function(e,i){var r=this.types_[i],n=this.data_[i],o=i>=this.keys.length-1,s="tbd";if((Number===r||String===n)&&(s=JSON.stringify(n)),Array.isArray(r)){var a=n.map(function(t){return Number===t||String===t?JSON.stringify(t):"function"==typeof t.toCodeString?""+t.toCodeString():"tbd"});s="["+a.toString()+"]"}"function"==typeof n.toCodeString&&(s=n.toCodeString()),t+="'"+e+"': "+s+(o?"":",\n")}.bind(this)),"new "+this.modelName+"({\n"+t+"\n})"},g.prototype.serializeModel=function(){return this.data_.map(n)},g.prototype.toURL=function(){var t=r.Object.keys(e).reduce(function(t,i){var r=new RegExp(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g");return t.replace(r,e[i])},JSON.stringify(this.serializeModel()));return t.replace(/\d+/g,function(t){return parseInt(t,10).toString(16)})},g.loadFromString=function(t){var e,i=u(t);try{return e=JSON.parse(i),g.deserializeModel(e)}catch(r){return!1}},g.loadFromJSON=function(t){return new g(t)},g.deserializeModel=function(t){for(var e={},i=0;i<f.length;i+=2){var r=f[i];e[r]=a(t[i/2],f[i+1])}return new g(e)},g}var e={"[":"(","]":")",",":"_"},i=r.Object.keys(e).reduce(function(t,i){return t[e[i]]=i,t},{}),o=[[n.Point,function(t){return[t.x,t.y]},function(t){return new n.POINT(t[0],t[1])}]];return{defineSchema:t}}()},function(t,e,i){"use strict";var r=i(17)["default"];e["default"]=function(t,e){if(Array.isArray(t))return t;if(r.$for.isIterable(Object(t))){for(var i,n=[],o=r.$for.getIterator(t);!(i=o.next()).done&&(n.push(i.value),!e||n.length!==e););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},e.__esModule=!0},function(t,e,i){"use strict";var r=i(46);t.exports=function(){var t="function"==typeof window.performance.webkitNow?window.performance.webkitNow.bind(window.performance):window.performance.now.bind(window.performance);return function(e,i){function n(){var s=t(),a=s-o;i-=a;var h=0>=i;return h?e():(o=s,void r(n))}i=i||0;var o=t();r(n)}}()},function(t){!function(e,i,r){"use strict";function n(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function o(t){return"function"==typeof t}function s(t,e,i){t&&!yi(t=i?t:t[xe],Ui)&&Ii(t,Ui,e)}function a(t){return si.call(t).slice(8,-1)}function h(t){var e,i;return t==r?t===r?"Undefined":"Null":"string"==typeof(i=(e=Le(t))[Ui])?i:a(e)}function u(){for(var t=L(this),e=arguments.length,i=Be(e),r=0,n=qi._,o=!1;e>r;)(i[r]=arguments[r++])===n&&(o=!0);return function(){var r,s=this,a=arguments.length,h=0,u=0;if(!o&&!a)return c(t,i,s);if(r=i.slice(),o)for(;e>h;h++)r[h]===n&&(r[h]=arguments[u++]);for(;a>u;)r.push(arguments[u++]);return c(t,r,s)}}function l(t,e,i){if(L(t),~i&&e===r)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,i){var n=i===r;switch(0|e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3]);case 5:return n?t(e[0],e[1],e[2],e[3],e[4]):t.call(i,e[0],e[1],e[2],e[3],e[4])}return t.apply(i,e)}function d(t){return xi(P(t))}function p(t){return t}function f(){return this}function g(t,e){return yi(t,e)?t[e]:void 0}function m(t){return B(t),mi?gi(t).concat(mi(t)):gi(t)}function v(t,e){for(var i,r=d(t),n=fi(r),o=n.length,s=0;o>s;)if(r[i=n[s++]]===e)return i}function y(t){return Fe(t).split(",")}function x(t){var e=1==t,i=2==t,n=3==t,o=4==t,s=6==t,a=5==t||s;return function(h){for(var u,c,d=Le(P(this)),p=arguments[1],f=xi(d),g=l(h,p,3),m=T(f.length),v=0,y=e?Be(m):i?[]:r;m>v;v++)if((a||v in f)&&(u=f[v],c=g(u,v,d),t))if(e)y[v]=c;else if(c)switch(t){case 3:return!0;case 5:return u;case 6:return v;case 2:y.push(u)}else if(o)return!1;return s?-1:n||o?o:y}}function b(t){return function(e){var i=d(this),r=T(i.length),n=S(arguments[1],r);if(t&&e!=e){for(;r>n;n++)if(A(i[n]))return t||n}else for(;r>n;n++)if((t||n in i)&&i[n]===e)return t||n;return!t&&-1}}function w(t,e){return"function"==typeof t?t:e}function A(t){return t!=t}function _(t){return isNaN(t)?0:Li(t)}function T(t){return t>0?Ri(_(t),_i):0}function S(t,e){var t=_(t);return 0>t?Mi(t+e,0):Ri(t,e)}function C(t){return t>9?t:"0"+t}function E(t,e,i){var r=n(e)?function(t){return e[t]}:e;return function(e){return Fe(i?e:this).replace(t,r)}}function M(t){return function(e){var i,n,o=Fe(P(this)),s=_(e),a=o.length;return 0>s||s>=a?t?"":r:(i=o.charCodeAt(s),55296>i||i>56319||s+1===a||(n=o.charCodeAt(s+1))<56320||n>57343?t?o.charAt(s):i:t?o.slice(s,s+2):(i-55296<<10)+(n-56320)+65536)}}function R(t,e,i){if(!t)throw Ve(i?e+i:e)}function P(t){if(t==r)throw Ve("Function called on null or undefined");return t}function L(t){return R(o(t),t," is not a function!"),t}function B(t){return R(n(t),t," is not an object!"),t}function F(t,e,i){R(t instanceof e,i,": use the 'new' operator!")}function O(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function I(t,e,i){return t[e]=i,t}function D(t){return Fi?function(e,i,r){return di(e,i,O(t,r))}:I}function k(t){return ge+"("+t+")_"+(++Oi+Pi())[we](36)}function N(t,e){return Ge&&Ge[t]||(e?Ge:ki)(ge+ni+t)}function G(t,e){for(var i in e)Ii(t,i,e[i]);return t}function U(t){!Fi||!i&&oi(t)||di(t,Vi,{configurable:!0,get:f})}function V(t,r,n){var s,a,h,u,c=t&Xi,d=c?e:t&Hi?e[r]:(e[r]||ei)[xe],p=c?zi:zi[r]||(zi[r]={});c&&(n=r);for(s in n)a=!(t&Yi)&&d&&s in d&&(!o(d[s])||oi(d[s])),h=(a?d:n)[s],i||!c||o(d[s])?t&Zi&&a?u=l(h,e):t&Qi&&!i&&d[s]==h?(u=function(t){return this instanceof h?new h(t):h(t)},u[xe]=h[xe]):u=t&Ki&&o(h)?l(ai,h):h:u=n[s],i&&d&&!a&&(c?d[s]=h:delete d[s]&&Ii(d,s,h)),p[s]!=h&&Ii(p,s,u)}function W(t,e){Ii(t,ie,e),Ee in ti&&Ii(t,Ee,e)}function z(t,e,i,r){t[xe]=ui(r||ir,{next:O(1,i)}),s(t,e+" Iterator")}function q(t,e,r,n){var o=t[xe],a=g(o,ie)||g(o,Ee)||n&&g(o,n)||r;if(i&&(W(o,a),a!==r)){var h=li(a.call(new t));s(h,e+" Iterator",!0),yi(o,Ee)&&W(h,f)}return er[e]=a,er[e+" Iterator"]=f,a}function j(t,e,i,r,n,o){function s(t){return function(){return new i(this,t)}}z(i,e,r);var a=s($i+tr),h=s(tr);n==tr?h=q(t,e,h,"values"):a=q(t,e,a,"entries"),n&&V(Ki+Yi*rr,e,{entries:a,keys:o?h:s($i),values:h})}function Y(t,e){return{value:e,done:!!t}}function X(t){var i=Le(t),r=e[ge],n=(r&&r[Ce]||Ee)in i;return n||ie in i||yi(er,h(i))}function H(t){var i=e[ge],r=t[i&&i[Ce]||Ee],n=r||t[ie]||er[h(t)];return B(n.call(t))}function K(t,e,i){return i?c(t,e):t(e)}function Z(t){var e=!0,i={next:function(){throw 1},"return":function(){e=!1}};i[ie]=f;try{t(i)}catch(r){}return e}function Q(t){var e=t["return"];e!==r&&e.call(t)}function J(t,e){try{t(e)}catch(i){throw Q(e),i}}function $(t,e,i,r){J(function(t){for(var n,o=l(i,r,e?2:1);!(n=t.next()).done;)if(K(o,n.value,e)===!1)return Q(t)},H(t))}var te,ee,ie,re,ne="Object",oe="Function",se="Array",ae="String",he="Number",ue="RegExp",le="Date",ce="Map",de="Set",pe="WeakMap",fe="WeakSet",ge="Symbol",me="Promise",ve="Math",ye="Arguments",xe="prototype",be="constructor",we="toString",Ae=we+"Tag",_e="toLocaleString",Te="hasOwnProperty",Se="forEach",Ce="iterator",Ee="@@"+Ce,Me="process",Re="createElement",Pe=e[oe],Le=e[ne],Be=e[se],Fe=e[ae],Oe=e[he],Ie=(e[ue],e[le],e[ce]),De=e[de],ke=e[pe],Ne=e[fe],Ge=e[ge],Ue=e[ve],Ve=e.TypeError,We=e.RangeError,ze=e.setTimeout,qe=e.setImmediate,je=e.clearImmediate,Ye=e.parseInt,Xe=e.isFinite,He=e[Me],Ke=He&&He.nextTick,Ze=e.document,Qe=Ze&&Ze.documentElement,Je=(e.navigator,e.define),$e=e.console||{},ti=Be[xe],ei=Le[xe],ii=Pe[xe],ri=1/0,ni=".",oi=l(/./.test,/\[native code\]\s*\}\s*$/,1),si=ei[we],ai=ii.call,hi=ii.apply,ui=Le.create,li=Le.getPrototypeOf,ci=Le.setPrototypeOf,di=Le.defineProperty,pi=(Le.defineProperties,Le.getOwnPropertyDescriptor),fi=Le.keys,gi=Le.getOwnPropertyNames,mi=Le.getOwnPropertySymbols,vi=Le.isFrozen,yi=l(ai,ei[Te],2),xi=Le,bi=Le.assign||function(t){for(var e=Le(P(t)),i=arguments.length,r=1;i>r;)for(var n,o=xi(arguments[r++]),s=fi(o),a=s.length,h=0;a>h;)e[n=s[h++]]=o[n];return e},wi=ti.push,Ai=(ti.unshift,ti.slice,ti.splice,ti.indexOf,ti[Se]),_i=9007199254740991,Ti=Ue.pow,Si=Ue.abs,Ci=Ue.ceil,Ei=Ue.floor,Mi=Ue.max,Ri=Ue.min,Pi=Ue.random,Li=Ue.trunc||function(t){return(t>0?Ei:Ci)(t)},Bi="Reduce of empty object with no initial value",Fi=!!function(){try{return 2==di({},"a",{get:function(){return 2}}).a}catch(t){}}(),Oi=0,Ii=D(1),Di=Ge?I:Ii,ki=Ge||k,Ni=N("unscopables"),Gi=ti[Ni]||{},Ui=N(Ae),Vi=N("species"),Wi=a(He)==Me,zi={},qi=i?e:zi,ji=e.core,Yi=1,Xi=2,Hi=4,Ki=8,Zi=16,Qi=32;"undefined"!=typeof t&&t.exports?t.exports=zi:o(Je)&&Je.amd?Je(function(){return zi}):re=!0,(re||i)&&(zi.noConflict=function(){return e.core=ji,zi},e.core=zi),ie=N(Ce);var Ji=ki("iter"),$i=1,tr=2,er={},ir={},rr="keys"in ti&&!("next"in[].keys());W(ir,f),!function(t,i,r,n){oi(Ge)||(Ge=function(e){R(!(this instanceof Ge),ge+" is not a "+be);var i=k(e),o=Di(ui(Ge[xe]),t,i);return r[i]=o,Fi&&n&&di(ei,i,{configurable:!0,set:function(t){Ii(this,i,t)}}),o},Ii(Ge[xe],we,function(){return this[t]})),V(Xi+Qi,{Symbol:Ge});var o={"for":function(t){return yi(i,t+="")?i[t]:i[t]=Ge(t)},iterator:ie||N(Ce),keyFor:u.call(v,i),species:Vi,toStringTag:Ui=N(Ae,!0),unscopables:Ni,pure:ki,set:Di,useSetter:function(){n=!0},useSimple:function(){n=!1}};Ai.call(y("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(t){o[t]=N(t)}),V(Hi,ge,o),s(Ge,ge),V(Hi+Yi*!oi(Ge),ne,{getOwnPropertyNames:function(t){for(var e,i=gi(d(t)),n=[],o=0;i.length>o;)yi(r,e=i[o++])||n.push(e);return n},getOwnPropertySymbols:function(t){for(var e,i=gi(d(t)),n=[],o=0;i.length>o;)yi(r,e=i[o++])&&n.push(r[e]);return n}}),s(Ue,ve,!0),s(e.JSON,"JSON",!0)}(ki("tag"),{},{},!0),!function(){var t={assign:bi,is:function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}};"__proto__"in ei&&function(e,i){try{i=l(ai,pi(ei,"__proto__").set,2),i({},ti)}catch(r){e=!0}t.setPrototypeOf=ci=ci||function(t,r){return B(t),R(null===r||n(r),r,": can't set as prototype!"),e?t.__proto__=r:i(t,r),t}}(),V(Hi,ne,t)}(),!function(){function t(t,e){var i=Le[t],r=zi[ne][t],o=0,s={};if(!r||oi(r)){s[t]=1==e?function(t){return n(t)?i(t):t}:2==e?function(t){return n(t)?i(t):!0}:3==e?function(t){return n(t)?i(t):!1}:4==e?function(t,e){return i(d(t),e)}:function(t){return i(d(t))};try{i(ni)}catch(a){o=1}V(Hi+Yi*o,ne,s)}}t("freeze",1),t("seal",1),t("preventExtensions",1),t("isFrozen",2),t("isSealed",2),t("isExtensible",3),t("getOwnPropertyDescriptor",4),t("getPrototypeOf"),t("keys"),t("getOwnPropertyNames")}(),!function(t){V(Hi,he,{EPSILON:Ti(2,-52),isFinite:function(t){return"number"==typeof t&&Xe(t)},isInteger:t,isNaN:A,isSafeInteger:function(e){return t(e)&&Si(e)<=_i},MAX_SAFE_INTEGER:_i,MIN_SAFE_INTEGER:-_i,parseFloat:parseFloat,parseInt:Ye})}(Oe.isInteger||function(t){return!n(t)&&Xe(t)&&Ei(t)===t}),!function(){function t(e){return Xe(e=+e)&&0!=e?0>e?-t(-e):n(e+o(e*e+1)):e}function e(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:r(t)-1}var i=Ue.E,r=Ue.exp,n=Ue.log,o=Ue.sqrt,s=Ue.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1};V(Hi,ve,{acosh:function(t){return(t=+t)<1?0/0:Xe(t)?n(t/i+o(t+1)*o(t-1)/i)+1:t},asinh:t,atanh:function(t){return 0==(t=+t)?t:n((1+t)/(1-t))/2},cbrt:function(t){return s(t=+t)*Ti(Si(t),1/3)},clz32:function(t){return(t>>>=0)?32-t[we](2).length:32},cosh:function(t){return(r(t=+t)+r(-t))/2},expm1:e,fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,e=0,i=arguments.length,r=i,n=Be(i),s=-ri;i--;){if(t=n[i]=+arguments[i],t==ri||t==-ri)return ri;t>s&&(s=t)}for(s=t||1;r--;)e+=Ti(n[r]/s,2);return s*o(e)},imul:function(t,e){var i=65535,r=+t,n=+e,o=i&r,s=i&n;return 0|o*s+((i&r>>>16)*s+o*(i&n>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:n(1+t)},log10:function(t){return n(t)/Ue.LN10},log2:function(t){return n(t)/Ue.LN2},sign:s,sinh:function(t){return Si(t=+t)<1?(e(t)-e(-t))/2:(r(t-1)-r(-t-1))*(i/2)},tanh:function(t){var i=e(t=+t),n=e(-t);return i==ri?1:n==ri?-1:(i-n)/(r(t)+r(-t))},trunc:Li})}(),!function(t){function e(t){if(a(t)==ue)throw Ve()}V(Hi,ae,{fromCodePoint:function(){for(var e,i=[],r=arguments.length,n=0;r>n;){if(e=+arguments[n++],S(e,1114111)!==e)throw We(e+" is not a valid code point");i.push(65536>e?t(e):t(((e-=65536)>>10)+55296,e%1024+56320))}return i.join("")},raw:function(t){for(var e=d(t.raw),i=T(e.length),r=arguments.length,n=[],o=0;i>o;)n.push(Fe(e[o++])),r>o&&n.push(Fe(arguments[o]));return n.join("")}}),V(Ki,ae,{codePointAt:M(!1),endsWith:function(t){e(t);var i=Fe(P(this)),n=arguments[1],o=T(i.length),s=n===r?o:Ri(T(n),o);return t+="",i.slice(s-t.length,s)===t},includes:function(t){return e(t),!!~Fe(P(this)).indexOf(t,arguments[1])},repeat:function(t){var e=Fe(P(this)),i="",r=_(t);
if(0>r||r==ri)throw We("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i},startsWith:function(t){e(t);var i=Fe(P(this)),r=T(Ri(arguments[1],i.length));return t+="",i.slice(r,r+t.length)===t}})}(Fe.fromCharCode),!function(){V(Hi+Yi*Z(Be.from),se,{from:function(t){var e,i,n,o=Le(P(t)),s=arguments[1],a=s!==r,h=a?l(s,arguments[2],2):r,u=0;if(X(o))i=new(w(this,Be)),J(function(t){for(;!(n=t.next()).done;u++)i[u]=a?h(n.value,u):n.value},H(o));else for(i=new(w(this,Be))(e=T(o.length));e>u;u++)i[u]=a?h(o[u],u):o[u];return i.length=u,i}}),V(Hi,se,{of:function(){for(var t=0,e=arguments.length,i=new(w(this,Be))(e);e>t;)i[t]=arguments[t++];return i.length=e,i}}),U(Be)}(),!function(){V(Ki,se,{copyWithin:function(t,e){var i=Le(P(this)),n=T(i.length),o=S(t,n),s=S(e,n),a=arguments[2],h=a===r?n:S(a,n),u=Ri(h-s,n-o),l=1;for(o>s&&s+u>o&&(l=-1,s=s+u-1,o=o+u-1);u-->0;)s in i?i[o]=i[s]:delete i[o],o+=l,s+=l;return i},fill:function(t){for(var e=Le(P(this)),i=T(e.length),n=S(arguments[1],i),o=arguments[2],s=o===r?i:S(o,i);s>n;)e[n++]=t;return e},find:x(5),findIndex:x(6)}),i&&(Ai.call(y("find,findIndex,fill,copyWithin,entries,keys,values"),function(t){Gi[t]=!0}),Ni in ti||Ii(ti,Ni,Gi))}(),!function(t){j(Be,se,function(t,e){Di(this,Ji,{o:d(t),i:0,k:e})},function(){var t=this[Ji],e=t.o,i=t.k,n=t.i++;return!e||n>=e.length?(t.o=r,Y(1)):i==$i?Y(0,n):i==tr?Y(0,e[n]):Y(0,[n,e[n]])},tr),er[ye]=er[se],j(Fe,ae,function(t){Di(this,Ji,{o:Fe(t),i:0})},function(){var e,i=this[Ji],r=i.o,n=i.i;return n>=r.length?Y(1):(e=t.call(r,n),i.i+=e.length,Y(0,e))})}(M(!0)),o(qe)&&o(je)||function(t){function i(t){if(yi(g,t)){var e=g[t];delete g[t],e()}}function r(t){i(t.data)}var n,s,a,h=e.postMessage,d=e.addEventListener,p=e.MessageChannel,f=0,g={};qe=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return g[++f]=function(){c(o(t)?t:Pe(t),e)},n(f),f},je=function(t){delete g[t]},Wi?n=function(t){Ke(u.call(i,t))}:d&&o(h)&&!e.importScripts?(n=function(t){h(t,"*")},d("message",r,!1)):o(p)?(s=new p,a=s.port2,s.port1.onmessage=r,n=l(a.postMessage,a,1)):n=Ze&&t in Ze[Re]("script")?function(e){Qe.appendChild(Ze[Re]("script"))[t]=function(){Qe.removeChild(this),i(e)}}:function(t){ze(i,0,t)}}("onreadystatechange"),V(Xi+Zi,{setImmediate:qe,clearImmediate:je}),!function(t,e){o(t)&&o(t.resolve)&&t.resolve(e=new t(function(){}))==e||function(e,i){function s(t){var e;return n(t)&&(e=t.then),o(e)?e:!1}function a(t){var e,r=t[i],n=r.c,o=0;if(r.h)return!0;for(;n.length>o;)if(e=n[o++],e.fail||a(e.P))return!0}function h(t,i){var r=t.c;(i||r.length)&&e(function(){var e=t.p,n=t.v,h=1==t.s,u=0;if(i&&!a(e))ze(function(){a(e)||(Wi?!He.emit("unhandledRejection",n,e):o($e.error)&&$e.error("Unhandled promise rejection",n))},1e3);else for(;r.length>u;)!function(e){var i,r,o=h?e.ok:e.fail;try{o?(h||(t.h=!0),i=o===!0?n:o(n),i===e.P?e.rej(Ve(me+"-chain cycle")):(r=s(i))?r.call(i,e.res,e.rej):e.res(i)):e.rej(n)}catch(a){e.rej(a)}}(r[u++]);r.length=0})}function u(t){var e,i,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(e=s(t))?(i={r:r,d:!1},e.call(t,l(u,i,1),l(c,i,1))):(r.v=t,r.s=1,h(r))}catch(n){c.call(i||{r:r,d:!1},n)}}}function c(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,h(e,!0))}function d(t){var e=B(t)[Vi];return e!=r?e:t}t=function(e){L(e),F(this,t,me);var n={p:this,c:[],s:0,d:!1,v:r,h:!1};Ii(this,i,n);try{e(l(u,n,1),l(c,n,1))}catch(o){c.call(n,o)}},G(t[xe],{then:function(e,n){var s=B(B(this)[be])[Vi],a={ok:o(e)?e:!0,fail:o(n)?n:!1},u=a.P=new(s!=r?s:t)(function(t,e){a.res=L(t),a.rej=L(e)}),l=this[i];return l.c.push(a),l.s&&h(l),u},"catch":function(t){return this.then(r,t)}}),G(t,{all:function(t){var e=d(this),i=[];return new e(function(r,n){$(t,!1,wi,i);var o=i.length,s=Be(o);o?Ai.call(i,function(t,i){e.resolve(t).then(function(t){s[i]=t,--o||r(s)},n)}):r(s)})},race:function(t){var e=d(this);return new e(function(i,r){$(t,!1,function(t){e.resolve(t).then(i,r)})})},reject:function(t){return new(d(this))(function(e,i){i(t)})},resolve:function(t){return n(t)&&i in t&&li(t)===this[xe]?t:new(d(this))(function(e){e(t)})}})}(Ke||qe,ki("record")),s(t,me),U(t),V(Xi+Yi*!oi(t),{Promise:t})}(e[me]),!function(){function t(t,e,n,o,a,h){function u(t,e){return e!=r&&$(e,a,t[p],t),t}function l(t,e){var r=f[t];i&&(f[t]=function(t,i){var n=r.call(this,0===t?0:t,i);return e?this:n})}var p=a?"set":"add",f=t&&t[xe],y={};if(oi(t)&&(h||!rr&&yi(f,Se)&&yi(f,"entries"))){var b,w=t,A=new t,_=A[p](h?{}:-0,1);Z(function(e){new t(e)})&&(t=function(i){return F(this,t,e),u(new w,i)},t[xe]=f,i&&(f[be]=t)),h||A[Se](function(t,e){b=1/e===-ri}),b&&(l("delete"),l("has"),a&&l("get")),(b||_!==A)&&l(p,!0)}else t=h?function(i){F(this,t,e),Di(this,c,x++),u(this,i)}:function(i){var n=this;F(n,t,e),Di(n,d,ui(null)),Di(n,v,0),Di(n,g,r),Di(n,m,r),u(n,i)},G(G(t[xe],n),o),h||!Fi||di(t[xe],"size",{get:function(){return P(this[v])}});return s(t,e),U(t),y[e]=t,V(Xi+Qi+Yi*!oi(t),y),h||j(t,e,function(t,e){Di(this,Ji,{o:t,k:e})},function(){for(var t=this[Ji],e=t.k,i=t.l;i&&i.r;)i=i.p;return t.o&&(t.l=i=i?i.n:t.o[m])?e==$i?Y(0,i.k):e==tr?Y(0,i.v):Y(0,[i.k,i.v]):(t.o=r,Y(1))},a?$i+tr:tr,!a),t}function e(t,e){if(!n(t))return("string"==typeof t?"S":"P")+t;if(vi(t))return"F";if(!yi(t,c)){if(!e)return"E";Ii(t,c,++x)}return"O"+t[c]}function o(t,i){var r,n=e(i);if("F"!=n)return t[d][n];for(r=t[m];r;r=r.n)if(r.k==i)return r}function a(t,i,n){var s,a,h=o(t,i);return h?h.v=n:(t[g]=h={i:a=e(i,!0),k:i,v:n,p:s=t[g],n:r,r:!1},t[m]||(t[m]=h),s&&(s.n=h),t[v]++,"F"!=a&&(t[d][a]=h)),t}function h(t,e,i){return vi(B(e))?u(t).set(e,i):(yi(e,p)||Ii(e,p,{}),e[p][t[c]]=i),t}function u(t){return t[f]||Ii(t,f,new Ie)[f]}var c=ki("uid"),d=ki("O1"),p=ki("weak"),f=ki("leak"),g=ki("last"),m=ki("first"),v=Fi?ki("size"):"size",x=0,b={},w={clear:function(){for(var t=this,e=t[d],i=t[m];i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=r),delete e[i.i];t[m]=t[g]=r,t[v]=0},"delete":function(t){var e=this,i=o(e,t);if(i){var r=i.n,n=i.p;delete e[d][i.i],i.r=!0,n&&(n.n=r),r&&(r.p=n),e[m]==i&&(e[m]=r),e[g]==i&&(e[g]=n),e[v]--}return!!i},forEach:function(t){for(var e,i=l(t,arguments[1],3);e=e?e.n:this[m];)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!o(this,t)}};Ie=t(Ie,ce,{get:function(t){var e=o(this,t);return e&&e.v},set:function(t,e){return a(this,0===t?0:t,e)}},w,!0),De=t(De,de,{add:function(t){return a(this,t=0===t?0:t,t)}},w);var A={"delete":function(t){return n(t)?vi(t)?u(this)["delete"](t):yi(t,p)&&yi(t[p],this[c])&&delete t[p][this[c]]:!1},has:function(t){return n(t)?vi(t)?u(this).has(t):yi(t,p)&&yi(t[p],this[c]):!1}};ke=t(ke,pe,{get:function(t){if(n(t)){if(vi(t))return u(this).get(t);if(yi(t,p))return t[p][this[c]]}},set:function(t,e){return h(this,t,e)}},A,!0,!0),i&&7!=(new ke).set(Le.freeze(b),7).get(b)&&Ai.call(y("delete,has,get,set"),function(t){var e=ke[xe][t];ke[xe][t]=function(i,r){if(n(i)&&vi(i)){var o=u(this)[t](i,r);return"set"==t?this:o}return e.call(this,i,r)}}),Ne=t(Ne,fe,{add:function(t){return h(this,t,!0)}},A,!1,!0)}(),!function(){function t(t){var e,i=[];for(e in t)i.push(e);Di(this,Ji,{o:t,a:i,i:0})}function e(t){return function(e){B(e);try{return t.apply(r,arguments),!0}catch(i){return!1}}}function i(t,e){var o,s=arguments.length<3?t:arguments[2],a=pi(B(t),e);return a?yi(a,"value")?a.value:a.get===r?r:a.get.call(s):n(o=li(t))?i(o,e,s):r}function o(t,e,i){var s,a,h=arguments.length<4?t:arguments[3],u=pi(B(t),e);if(!u){if(n(a=li(t)))return o(a,e,i,h);u=O(0)}return yi(u,"value")?u.writable!==!1&&n(h)?(s=pi(h,e)||O(0),s.value=i,di(h,e,s),!0):!1:u.set===r?!1:(u.set.call(h,i),!0)}z(t,ne,function(){var t,e=this[Ji],i=e.a;do if(e.i>=i.length)return Y(1);while(!((t=i[e.i++])in e.o));return Y(0,t)});var s=Le.isExtensible||p,a={apply:l(ai,hi,3),construct:function(t,e){var i=L(arguments.length<3?t:arguments[2])[xe],r=ui(n(i)?i:ei),o=hi.call(t,r,e);return n(o)?o:r},defineProperty:e(di),deleteProperty:function(t,e){var i=pi(B(t),e);return i&&!i.configurable?!1:delete t[e]},enumerate:function(e){return new t(B(e))},get:i,getOwnPropertyDescriptor:function(t,e){return pi(B(t),e)},getPrototypeOf:function(t){return li(B(t))},has:function(t,e){return e in t},isExtensible:function(t){return!!s(B(t))},ownKeys:m,preventExtensions:e(Le.preventExtensions||p),set:o};ci&&(a.setPrototypeOf=function(t,e){return ci(B(t),e),!0}),V(Xi,{Reflect:{}}),V(Hi,"Reflect",a)}(),!function(){function t(t){return function(e){var i,r=d(e),n=fi(e),o=n.length,s=0,a=Be(o);if(t)for(;o>s;)a[s]=[i=n[s++],r[i]];else for(;o>s;)a[s]=r[n[s++]];return a}}V(Ki,se,{includes:b(!0)}),V(Ki,ae,{at:M(!0)}),V(Hi,ne,{getOwnPropertyDescriptors:function(t){var e=d(t),i={};return Ai.call(m(e),function(t){di(i,t,O(0,pi(e,t)))}),i},values:t(!1),entries:t(!0)}),V(Hi,ue,{escape:E(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(t){function e(t){if(t){var e=t[xe];Ii(e,te,e.get),Ii(e,i,e.set),Ii(e,r,e["delete"])}}te=N(t+"Get",!0);var i=N(t+de,!0),r=N(t+"Delete",!0);V(Hi,ge,{referenceGet:te,referenceSet:i,referenceDelete:r}),Ii(ii,te,f),e(Ie),e(ke)}("reference"),!function(t){function e(t,e){Di(this,Ji,{o:d(t),a:fi(t),i:0,k:e})}function i(t){return function(i){return new e(i,t)}}function o(t){var e=1==t,i=4==t;return function(n,o,s){var a,h,u,c=l(o,s,3),p=d(n),f=e||7==t||2==t?new(w(this,ee)):r;for(a in p)if(yi(p,a)&&(h=p[a],u=c(h,a,n),t))if(e)f[a]=u;else if(u)switch(t){case 2:f[a]=h;break;case 3:return!0;case 5:return h;case 6:return a;case 7:f[u[0]]=u[1]}else if(i)return!1;return 3==t||i?i:f}}function s(t){return function(e,i,n){L(i);var o,s,a,h=d(e),u=fi(h),l=u.length,c=0;for(t?o=n==r?new(w(this,ee)):Le(n):arguments.length<3?(R(l,Bi),o=h[u[c++]]):o=Le(n);l>c;)if(yi(h,s=u[c++]))if(a=i(o,h[s],s,e),t){if(a===!1)break}else o=a;return o}}function a(t,e){return(e==e?v(t,e):h(t,A))!==r}ee=function(t){var e=ui(null);return t!=r&&(X(t)?$(t,!0,function(t,i){e[t]=i}):bi(e,t)),e},ee[xe]=null,z(e,t,function(){var t,e=this[Ji],i=e.o,n=e.a,o=e.k;do if(e.i>=n.length)return e.o=r,Y(1);while(!yi(i,t=n[e.i++]));return o==$i?Y(0,t):o==tr?Y(0,i[t]):Y(0,[t,i[t]])});var h=o(6),u={keys:i($i),values:i(tr),entries:i($i+tr),forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findKey:h,mapPairs:o(7),reduce:s(!1),turn:s(!0),keyOf:v,includes:a,has:yi,get:g,set:D(0),isDict:function(t){return n(t)&&li(t)===ee[xe]}};if(te)for(var p in u)!function(t){function e(){for(var e=[this],i=0;i<arguments.length;)e.push(arguments[i++]);return c(t,e)}t[te]=function(){return e}}(u[p]);V(Xi+Yi,{Dict:G(ee,u)})}("Dict"),!function(t,e){function i(e,r){return this instanceof i?(this[Ji]=H(e),void(this[t]=!!r)):new i(e,r)}function n(i){function r(i,r,n){this[Ji]=H(i),this[t]=i[t],this[e]=l(r,n,i[t]?2:1)}return z(r,"Chain",i,o),W(r[xe],f),r}z(i,"Wrapper",function(){return this[Ji].next()});var o=i[xe];W(o,function(){return this[Ji]});var s=n(function(){var i=this[Ji].next();return i.done?i:Y(0,K(this[e],i.value,this[t]))}),a=n(function(){for(;;){var i=this[Ji].next();if(i.done||K(this[e],i.value,this[t]))return i}});G(o,{of:function(e,i){$(this,this[t],e,i)},array:function(t,e){var i=[];return $(t!=r?this.map(t,e):this,!1,wi,i),i},filter:function(t,e){return new a(this,t,e)},map:function(t,e){return new s(this,t,e)}}),i.isIterable=X,i.getIterator=H,V(Xi+Yi,{$for:i})}("entries",ki("fn")),V(Xi+Yi,{delay:function(t){return new Promise(function(e){ze(e,t,!0)})}}),!function(t,e){function i(i){var n=this,o={};return Ii(n,t,function(t){return t!==r&&t in n?yi(o,t)?o[t]:o[t]=l(n[t],n,-1):e.call(n)})[t](i)}zi._=qi._=qi._||{},V(Ki+Yi,oe,{part:u,only:function(t,e){var i=L(this),r=T(t),n=arguments.length>1;return function(){for(var t=Ri(r,arguments.length),o=Be(t),s=0;t>s;)o[s]=arguments[s++];return c(i,o,n?e:this)}}}),Ii(qi._,we,function(){return t}),Ii(ei,t,i),Fi||Ii(ti,t,i)}(Fi?k("tie"):_e,ei[_e]),!function(){function t(t,e){for(var i,r=m(d(e)),n=r.length,o=0;n>o;)di(t,i=r[o++],pi(e,i));return t}V(Hi+Yi,ne,{isObject:n,classof:h,define:t,make:function(e,i){return t(ui(e),i)}})}(),V(Ki+Yi,se,{turn:function(t,e){L(t);for(var i=e==r?[]:Le(e),n=xi(this),o=T(n.length),s=0;o>s&&t(i,n[s],s++,this)!==!1;);return i}}),i&&(Gi.turn=!0),!function(t){function e(t){Di(this,Ji,{l:T(t),i:0})}z(e,he,function(){var t=this[Ji],e=t.i++;return e<t.l?Y(0,e):Y(1)}),q(Oe,he,function(){return new e(this)}),t.random=function(t){var e=+this,i=t==r?0:+t,n=Ri(e,i);return Pi()*(Mi(e,i)-n)+n},Ai.call(y("round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc"),function(e){var i=Ue[e];i&&(t[e]=function(){for(var t=[+this],e=0;arguments.length>e;)t.push(arguments[e++]);return c(i,t)})}),V(Ki+Yi,he,t)}({}),!function(){var t,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},i={};for(t in e)i[e[t]]=t;V(Ki+Yi,ae,{escapeHTML:E(/[&<>"']/g,e),unescapeHTML:E(/&(?:amp|lt|gt|quot|apos);/g,i)})}(),!function(t,e,i,r,n,o,s,a,h){function u(e){return function(u,l){function c(t){return d[e+t]()}var d=this,p=i[yi(i,l)?l:r];return Fe(u).replace(t,function(t){switch(t){case"s":return c(n);case"ss":return C(c(n));case"m":return c(o);case"mm":return C(c(o));case"h":return c(s);case"hh":return C(c(s));case"D":return c(le);case"DD":return C(c(le));case"W":return p[0][c("Day")];case"N":return c(a)+1;case"NN":return C(c(a)+1);case"M":return p[2][c(a)];case"MM":return p[1][c(a)];case"Y":return c(h);case"YY":return C(c(h)%100)}return t})}}function l(t,r){function n(t){var i=[];return Ai.call(y(r.months),function(r){i.push(r.replace(e,"$"+t))}),i}return i[t]=[y(r.weekdays),n(1),n(2)],zi}V(Ki+Yi,le,{format:u("get"),formatUTC:u("getUTC")}),l(r,{weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",months:"January,February,March,April,May,June,July,August,September,October,November,December"}),l("ru",{weekdays:"Воскресенье,Понедельник,Вторник,Среда,Четверг,Пятница,Суббота",months:"Январ:я|ь,Феврал:я|ь,Март:а|,Апрел:я|ь,Ма:я|й,Июн:я|ь,Июл:я|ь,Август:а|,Сентябр:я|ь,Октябр:я|ь,Ноябр:я|ь,Декабр:я|ь"}),zi.locale=function(t){return yi(i,t)?r=t:r},zi.addLocale=l}(/\b\w\w?\b/g,/:(.*)\|(.*)$/,{},"en","Seconds","Minutes","Hours","Month","FullYear"),V(Xi+Yi,{global:e}),!function(t){function e(e,i){Ai.call(y(e),function(e){e in ti&&(t[e]=l(ai,ti[e],i))})}e("pop,reverse,shift,keys,values,entries",1),e("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),e("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),V(Hi,se,t)}({}),!function(t){!i||!t||ie in t[xe]||Ii(t[xe],ie,er[se]),er.NodeList=er[se]}(e.NodeList),!function(t,e){Ai.call(y("assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,markTimeline,profile,profileEnd,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"),function(i){t[i]=function(){return e&&i in $e?hi.call($e[i],$e,arguments):void 0}}),V(Xi+Yi,{log:bi(t.log,t,{enable:function(){e=!0},disable:function(){e=!1}})})}({},!0)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!1),t.exports={"default":t.exports,__esModule:!0}},function(t,e,i){function r(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=r.AABB}var n=i(1),o=i(12);t.exports=r,r.AABB=1,r.BOUNDING_CIRCLE=2,r.prototype.setWorld=function(t){this.world=t},r.prototype.getCollisionPairs=function(){throw new Error("getCollisionPairs must be implemented in a subclass!")};var s=n.create();r.boundingRadiusCheck=function(t,e){n.sub(s,t.position,e.position);var i=n.squaredLength(s),r=t.boundingRadius+e.boundingRadius;return r*r>=i},r.aabbCheck=function(t,e){return t.aabbNeedsUpdate&&t.updateAABB(),e.aabbNeedsUpdate&&e.updateAABB(),t.aabb.overlaps(e.aabb)},r.prototype.boundingVolumeCheck=function(t,e){var i;switch(this.boundingVolumeType){case r.BOUNDING_CIRCLE:i=r.boundingRadiusCheck(t,e);break;case r.AABB:i=r.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},r.canCollide=function(t,e){return t.type===o.STATIC&&e.type===o.STATIC?!1:t.type===o.KINEMATIC&&e.type===o.STATIC||t.type===o.STATIC&&e.type===o.KINEMATIC?!1:t.type===o.KINEMATIC&&e.type===o.KINEMATIC?!1:t.sleepState===o.SLEEPING&&e.sleepState===o.SLEEPING?!1:t.sleepState===o.SLEEPING&&e.type===o.STATIC||e.sleepState===o.SLEEPING&&t.type===o.STATIC?!1:!0},r.NAIVE=1,r.SAP=2},function(t,e,i){function r(t){this.radius=t||1,n.call(this,n.CIRCLE)}var n=i(6),o=i(1);t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},r.prototype.computeAABB=function(t,e){var i=this.radius;o.set(t.upperBound,i,i),o.set(t.lowerBound,-i,-i),e&&(o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e))}},function(t,e,i){function r(t,e){this.vertices=[],this.axes=[];for(var i=0;i<t.length;i++){var r=o.create();o.copy(r,t[i]),this.vertices.push(r)}if(e)for(var i=0;i<e.length;i++){var s=o.create();o.copy(s,e[i]),this.axes.push(s)}else for(var i=0;i<t.length;i++){var a=t[i],h=t[(i+1)%t.length],u=o.create();o.sub(u,h,a),o.rotate90cw(u,u),o.normalize(u,u),this.axes.push(u)}if(this.centerOfMass=o.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,n.call(this,n.CONVEX),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}{var n=i(6),o=i(1),s=i(136);i(56)}t.exports=r,r.prototype=new n;var a=o.create(),h=o.create();r.prototype.projectOntoLocalAxis=function(t,e){for(var i,r,n=null,s=null,t=a,h=0;h<this.vertices.length;h++)i=this.vertices[h],r=o.dot(i,t),(null===n||r>n)&&(n=r),(null===s||s>r)&&(s=r);if(s>n){var u=s;s=n,n=u}o.set(e,s,n)},r.prototype.projectOntoWorldAxis=function(t,e,i,r){var n=h;this.projectOntoLocalAxis(t,r),0!==i?o.rotate(n,t,i):n=t;var s=o.dot(e,n);o.set(r,r[0]+s,r[1]+s)},r.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var i=this.vertices[e];t.push(i[0],i[1])}for(var r=s.Triangulate(t),e=0;e<r.length;e+=3){var n=r[e],o=r[e+1],a=r[e+2];this.triangles.push([n,o,a])}};{var u=o.create(),l=o.create(),c=o.create(),d=o.create(),p=o.create();o.create(),o.create(),o.create(),o.create()}r.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,i=this.centerOfMass,n=u,s=c,a=d,h=p,f=l;o.set(i,0,0);for(var g=0,m=0;m!==t.length;m++){var v=t[m],s=e[v[0]],a=e[v[1]],h=e[v[2]];o.centroid(n,s,a,h);var y=r.triangleArea(s,a,h);g+=y,o.scale(f,n,y),o.add(i,i,f)}o.scale(i,i,1/g)},r.prototype.computeMomentOfInertia=function(t){for(var e=0,i=0,r=this.vertices.length,n=r-1,s=0;r>s;n=s,s++){var a=this.vertices[n],h=this.vertices[s],u=Math.abs(o.crossLength(a,h)),l=o.dot(h,h)+o.dot(h,a)+o.dot(a,a);e+=u*l,i+=u}return t/6*(e/i)},r.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,i=0;i!==t.length;i++){var r=o.squaredLength(t[i]);r>e&&(e=r)}this.boundingRadius=Math.sqrt(e)},r.triangleArea=function(t,e,i){return.5*((e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1]))},r.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,i=0;i!==t.length;i++){var n=t[i],o=e[n[0]],s=e[n[1]],a=e[n[2]],h=r.triangleArea(o,s,a);this.area+=h}},r.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)}},function(t,e,i){var r;r=function(t,e){function r(t,i){var r=t+"Accessor",s=t.toLowerCase();e[r]=function(t){this.component=t,this.compare=o(this.compare,this)},e[r].prototype.compare=function(t,e){var i=t[s][this.component],r=e[s][this.component];return n(i,r)},e[r].prototype.getComponentValueFor=function(t){return t[s][this.component]},e[r].prototype.setComponentValueFor=function(t,e){t["set"+i[this.component]](e)}}var n=i(30).numberComparator,o=i(30).bind;r("RGB",["Red","Green","Blue"]),r("HSV",["Hue","Saturation","Brightness"]),r("CMYK",["Cyan","Magenta","Yellow","Black"]);var s=function(){};s.prototype.compare=function(t,e){return n(t.luminance(),e.luminance())},s.prototype.getComponentValueFor=function(t){return t.luminance()},s.prototype.setComponentValueFor=function(){};var a=function(){};a.prototype.compare=function(t,e){return n(t.alpha(),e.alpha())},a.prototype.getComponentValueFor=function(t){return t.alpha()},a.prototype.setComponentValueFor=function(t,e){t.setAlpha(e)},e.LuminanceAccessor=s,e.AlphaAccessor=a}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){var t={};return function(e,i,r){if(null!=e)if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(i,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&i.call(r,e[n],n,e)===t)return}else for(var s in e)if(hasOwnProperty.call(e,s)&&i.call(r,e[s],s,e)===t)return}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(t,e){var i=function(t,e){if(void 0===t||"object"!=typeof t)return!1;var i,r=0,n=e.length;for(r=0;n>r;r++)if(i=e[r],!(i in t))return!1;return!0};e.property=function(t,e){return hasOwnProperty.call(t,e)},e.all=i,e.typedArrays=function(){return"undefined"!=typeof Int32Array&&"undefined"!=typeof Float32Array&&"undefined"!=typeof Uint8Array},e.XY=function(t){return t&&"number"==typeof t.x&&"number"==typeof t.y},e.XYZ=function(t){return t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.z},e.XYWidthHeight=function(t){return t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.width&&"number"==typeof t.height}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t){"use strict";t.exports=function(t){return t.match(/:\/\//)?t:"/io2015/experiment/"+t.replace(/^\//,"")}},function(t){"use strict";t.exports=function(){return function(){return"undefined"!=typeof IOWA&&"undefined"!=typeof IOWA.Elements&&"undefined"!=typeof IOWA.Elements.ScrollContainer?{scrollElement:IOWA.Elements.ScrollContainer,x:IOWA.Elements.ScrollContainer.scrollLeft,y:IOWA.Elements.ScrollContainer.scrollTop,height:IOWA.Elements.ScrollContainer.scrollHeight}:{scrollElement:window,x:window.scrollX,y:window.scrollY,height:document.body.getBoundingClientRect().height}}}()},function(t){"use strict";t.exports=function(){function t(t,e){return e=e||.4,t.generateTexture(1)}function e(t){i=t}var i=!1;return{generateTexture:t,setHasAntialiasing:e,hasAntialiasing:function(){return i}}}()},function(t){var e=function(){};t.exports=e,e.prototype={constructor:e,on:function(t,e,i){e.context=i||this,void 0===this._listeners&&(this._listeners={});var r=this._listeners;return void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;if(e){if(void 0!==i[t]&&-1!==i[t].indexOf(e))return!0}else if(void 0!==i[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var i=this._listeners,r=i[t].indexOf(e);return-1!==r&&i[t].splice(r,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var r=0,n=i.length;n>r;r++){var o=i[r];o.call(o.context,t)}}return this}}},function(t,e,i){function r(){n.call(this,n.PARTICLE)}var n=i(6),o=i(1);t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(){return 0},r.prototype.updateBoundingRadius=function(){this.boundingRadius=0},r.prototype.computeAABB=function(t,e){o.copy(t.lowerBound,e),o.copy(t.upperBound,e)}},function(t,e,i){function r(){n.call(this,n.PLANE)}{var n=i(6),o=i(1);i(2)}t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(){return 0},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.computeAABB=function(t,e,i){var r=0,n=o.set;"number"==typeof i&&(r=i%(2*Math.PI)),0===r?(n(t.lowerBound,-Number.MAX_VALUE,-Number.MAX_VALUE),n(t.upperBound,Number.MAX_VALUE,0)):r===Math.PI/2?(n(t.lowerBound,0,-Number.MAX_VALUE),n(t.upperBound,Number.MAX_VALUE,Number.MAX_VALUE)):r===Math.PI?(n(t.lowerBound,-Number.MAX_VALUE,0),n(t.upperBound,Number.MAX_VALUE,Number.MAX_VALUE)):r===3*Math.PI/2?(n(t.lowerBound,-Number.MAX_VALUE,-Number.MAX_VALUE),n(t.upperBound,0,Number.MAX_VALUE)):(n(t.lowerBound,-Number.MAX_VALUE,-Number.MAX_VALUE),n(t.upperBound,Number.MAX_VALUE,Number.MAX_VALUE)),o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e)},r.prototype.updateArea=function(){this.area=Number.MAX_VALUE}},function(t,e,i){var r;r=function(t,e){e.is=i(13),e.has=i(23),e.extend=i(156),e.each=i(22),e.bind=i(155),e.keys=i(158),e.values=i(161),e.filter=i(157),e.mixin=i(159),e.Iterator=i(79),e.LinkedMap=i(80),e.numberComparator=i(39),e.removeItemFrom=i(160)}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){function r(t,e){n.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=o.create(),this.penetrationVec=o.create(),this.contactPointB=o.create(),this.normalA=o.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var n=i(4),o=i(1);t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.computeB=function(t,e,i){var r=this.bodyA,n=this.bodyB,s=this.contactPointA,a=this.contactPointB,h=r.position,u=n.position,l=this.penetrationVec,c=this.normalA,d=this.G,p=o.crossLength(s,c),f=o.crossLength(a,c);d[0]=-c[0],d[1]=-c[1],d[2]=-p,d[3]=c[0],d[4]=c[1],d[5]=f,o.add(l,u,a),o.sub(l,l,h),o.sub(l,l,s);var g,m;this.firstImpact&&0!==this.restitution?(m=0,g=1/e*(1+this.restitution)*this.computeGW()):(m=o.dot(c,l)+this.offset,g=this.computeGW());var v=this.computeGiMf(),y=-m*t-g*e-i*v;return y}},function(t,e,i){function r(t,e,i){o.call(this,t,e,-i,i),this.contactPointA=n.create(),this.contactPointB=n.create(),this.t=n.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}{var n=i(1),o=i(4);i(2)}t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},r.prototype.getSlipForce=function(){return this.maxForce},r.prototype.computeB=function(t,e,i){var r=(this.bodyA,this.bodyB,this.contactPointA),o=this.contactPointB,s=this.t,a=this.G;a[0]=-s[0],a[1]=-s[1],a[2]=-n.crossLength(r,s),a[3]=s[0],a[4]=s[1],a[5]=n.crossLength(o,s);var h=this.computeGW(),u=this.computeGiMf(),l=-h*e-i*u;return l}},function(t){function e(t){this.id=t||e.idCounter++}t.exports=e,e.idCounter=0},function(t,e,i){function r(t,e,i){i=n.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=t,this.bodyB=e}var n=(i(1),i(2));t.exports=r,r.prototype.applyForce=function(){}},function(t,e,i){function r(t,e){this.width=t||1,this.height=e||1;var i=[n.fromValues(-t/2,-e/2),n.fromValues(t/2,-e/2),n.fromValues(t/2,e/2),n.fromValues(-t/2,e/2)],r=[n.fromValues(1,0),n.fromValues(0,1)];s.call(this,i,r),this.type=o.RECTANGLE}var n=i(1),o=i(6),s=i(20);t.exports=r,r.prototype=new s([]),r.prototype.computeMomentOfInertia=function(t){var e=this.width,i=this.height;return t*(i*i+e*e)/12},r.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2};n.create(),n.create(),n.create(),n.create();r.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},r.prototype.updateArea=function(){this.area=this.width*this.height}},function(t,e,i){function r(t,e){t=t||{},n.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}var n=(i(2),i(27));t.exports=r,r.prototype=new n,r.prototype.solve=function(){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};r.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),o.bodies.length=0,e.getBodies(o.bodies),o.bodies.length&&this.solve(t,o))},r.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},r.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},r.prototype.addEquations=function(t){for(var e=0,i=t.length;e!==i;e++){var r=t[e];r.enabled&&this.equations.push(r)}},r.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);-1!==e&&this.equations.splice(e,1)},r.prototype.removeAllEquations=function(){this.equations.length=0},r.GS=1,r.ISLAND=2},function(t,e,i){var r;r=function(t,e,r){var n=i(30).filter,o=i(30).numberComparator,s=i(10),a=i(162),h=i(147),u=function(t,e){this.pos=t,this.color=e};u.prototype={compareTo:function(t){return 0===o(t.pos,this.pos)?0:this.pos<t.pos?-1:1},getColor:function(){return this.color},getPosition:function(){return this.pos}};var l=function(){this.gradient=[],this.interpolator=new a,this.maxDither=0};l.prototype={addColorAt:function(t,e){this.gradient.push(new u(t,e))},calcGradient:function(t,e){if(0===arguments.length){t=this.gradient[0].getPosition();var i=this.gradient[this.gradient.length-1].getPosition();e=Math.floor(i-t)}var r=new h;if(0===this.gradient.length)return r;var o,a,u=0,l=t+e,c=0,d=this.gradient.length;for(c=0;d>c;c++)this.gradient[c].pos<t&&(o=this.gradient[c]);var p,f=void 0===o;f?(p=this.gradient,o=this.gradient[0]):p=n(this.gradient,function(t){return t.pos>=o.pos});var g=0;if(c=0,d=p.length,o!==p[d-1])if(a=p[c],f){var m=o.pos-t;g=s.abs(m)>0?1/m:1}else a.pos-o.pos>0&&(g=1/(a.pos-o.pos));for(;l>t;){if(u=f?1-(o.pos-t)*g:(t-o.pos)*g,u>1&&(o=a,f=!1,c++,c<p.length&&(a=p[c],g=o!==p[d-1]?1/(a.pos-o.pos):0,u=(t-o.pos)*g)),o!==p[d-1]){var v=s.clip(u+s.normalizedRandom()*this.maxDither,0,1);v=this.interpolator.interpolate(0,1,v),r.add(o.color.getBlended(a.color,v))}else r.add(o.color.copy());t++}return r},getGradientPoints:function(){return this.gradient},getInterpolator:function(){return this.interpolator},getMaxDither:function(){return this.maxDither},setInterpolator:function(t){this.interpolator=t},setMaxDither:function(t){this.maxDither=s.clip(t,0,1)}},r.exports=l}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r,n;r=[i,e,t,i(10),i(78),i(39),i(13),i(76)],n=function(t,e,r){function n(t){return t[0]=Math.floor(360*t[0]),t[1]=Math.floor(100*t[1]),t[2]=Math.floor(100*t[2]),t}function o(t,e){return(e=e||!1)?(t[0]=Math.floor(100*t[0]),t[1]=Math.floor(100*t[1]),t[2]=Math.floor(100*t[2]),"rgba("+t[0]+"%,"+t[1]+"%,"+t[2]+"%,"+t[3]+")"):(t[0]=Math.floor(255*t[0]),t[1]=Math.floor(255*t[1]),t[2]=Math.floor(255*t[2]),t)}var s=i(39),a=i(13),h=i(10),u=i(78),l=u.Vec2D,c=u.Vec3D,d=i(76),p=function(t){return 0>t&&(t=4294967295+t+1),t.toString(16)},f=function(t){if(this.rgb=[],this.hsv=[],this.cmyk=[],this._alpha=1,void 0!==t){var e=t.toCMYKAArray();this.cmyk=e.splice(0,4),this.hsv=t.toHSVAArray().splice(0,3),this.rgb=t.toRGBAArray().splice(0,3),this._alpha=t._alpha}};f.prototype={add:function(t){return this.copy().addSelf(t)},addSelf:function(t){return this.rgb[0]=h.min(this.rgb[0]+t.rgb[0],1),this.rgb[1]=h.min(this.rgb[1]+t.rgb[1],1),this.rgb[2]=h.min(this.rgb[2]+t.rgb[2],1),this.setRGB(this.rgb)},adjustConstrast:function(t){return this.hsv[2]<.5?this.darken(t):this.lighten(t)},adjustHSV:function(t,e,i){return this.setHSV([this.hsv[0]+t,this.hsv[1]+e,this.hsv[2]+i])},adjustRGB:function(t,e,i){return this.setRGB([this.rgb[0]+t,this.rgb[1]+e,this.rgb[2]+i])},alpha:function(){return this._alpha},analog:function(t,e){var i=h.degrees(t);return this.rotateRYB(i*h.normalizedRandom()),this.hsv[1]+=e*h.normalizedRandom(),this.hsv[2]+=e*h.normalizedRandom(),this.setHSV(this.hsv)},black:function(){return this.cmyk[3]},blend:function(t,e){void 0===e&&(e=.5);var i=t.toRGBAArray();return this.rgb[0]+=(i[0]-this.rgb[0])*e,this.rgb[1]+=(i[1]-this.rgb[1])*e,this.rgb[2]+=(i[2]-this.rgb[2])*e,this._alpha+=(t._alpha-this._alpha)*e,this.setRGB(this.rgb)},blue:function(){return this.rgb[2]},brightness:function(){return this.hsv[2]},complement:function(){return this.rotateRYB(180)},copy:function(){return new f(this)},cyan:function(){return this.cmyk[0]},darken:function(t){return this.hsv[2]=h.clip(this.hsv[2]-t,0,1),this.setHSV(this.hsv)
},desaturate:function(t){return this.hsv[1]=h.clip(this.hsv[1]-t,0,1),this.setHSV(this.hsv)},differenceTo:function(t){return f.newRGB(Math.abs(this.rgb[0]-t.rgb[0]),Math.abs(this.rgb[1]-t.rgb[1]),Math.abs(this.rgb[2]-t.rgb[2]))},distanceToCMYK:function(t){var e=t.toCMYKAArray(),i=this.cmyk[0]-e[0],r=this.cmyk[1]-e[1],n=this.cmyk[2]-e[2],o=this.cmyk[3]-e[3];return Math.sqrt(i*i+r*r+n*n+o*o)},distanceToHSV:function(t){var e=this.hsv[0]*h.TWO_PI,i=t.hue()*h.TWO_PI,r=new c(h.cos(e)*this.hsv[1],h.sin(e)*this.hsv[1],this.hsv[2]),n=new c(h.cos(i)*t.saturation(),h.sin(i)*t.saturation(),t.brightness());return r.distanceTo(n)},distanceToRGB:function(t){var e=t.toRGBAArray(),i=this.rgb[0]-e[0],r=this.rgb[1]-e[1],n=this.rgb[2]-e[2];return Math.sqrt(i*i+r*r+n*n)},equals:function(t){if(a.TColor(t)){var e=t,i=e.rgb[0]-this.rgb[0],r=e.rgb[1]-this.rgb[1],n=e.rgb[2]-this.rgb[2],o=e.alpha()-this._alpha,s=Math.sqrt(i*i+r*r+n*n+o*o);return s<f.EPS}return!1},getAnalog:function(t,e){return new f(this).analog(t,e)},getBlended:function(t,e){return new f(this).blend(t,e)},getClosestHue:function(t){return d.getClosest(this.hsv[0],t===!0)},getComplement:function(){return new f(this).complement()},getComponentValue:function(t){return t.getComponentValueFor(this)},getDarkened:function(t){return new f(this).darken(t)},getDesaturated:function(t){return new f(this).desaturate(t)},getDifferenceTo:function(t){return this.copy().differenceTo(t)},getInverted:function(){return new f(this).invert()},getLightened:function(t){return new f(this).lighten(t)},getRotatedRYB:function(t){return new f(this).rotateRYB(t)},getSaturated:function(t){return new f(this).saturate(t)},green:function(){return this.rgb[1]},hue:function(){return this.hsv[0]},invert:function(){return this.rgb[0]=1-this.rgb[0],this.rgb[1]=1-this.rgb[1],this.rgb[2]=1-this.rgb[2],this.setRGB(this.rgb)},isBlack:function(){return this.rgb[0]<=f.BLACK_POINT&&this.rgb[0]===this.rgb[1]&&this.rgb[0]===this.rgb[2]},isGrey:function(){return this.hsv[1]<f.GREY_THRESHOLD},isWhite:function(){return this.rgb[0]>=f.WHITE_POINT&&this.rgb[0]===this.rgb[1]&&this.rgb[0]===this.rgb[2]},lighten:function(t){return this.hsv[2]=h.clip(this.hsv[2]+t,0,1),this.setHSV(this.hsv)},luminance:function(){return.299*this.rgb[0]+.587*this.rgb[1]+.114*this.rgb[2]},magenta:function(){return this.cmyk[1]},red:function(){return this.rgb[0]},rotateRYB:function(t){var e,i,r=(parseInt(h.degrees(t),10),360*this.hsv[0]),n=0;t%=360;var o=0;for(n=0;n<f.RYB_WHEEL.length-1;n++)if(e=f.RYB_WHEEL[n],i=f.RYB_WHEEL[n+1],i.y<e.y&&(i.y+=360),e.y<=r&&r<=i.y){o=e.x+(i.x-e.x)*(r-e.y)/(i.y-e.y);break}for(o=(o+t)%360,n=0;n<f.RYB_WHEEL.length-1;n++)if(e=f.RYB_WHEEL[n],i=f.RYB_WHEEL[n+1],i.y<e.y&&(i.y+=360),e.x<=o&&o<=i.x){r=e.y+(i.y-e.y)*(o-e.x)/(i.x-e.x);break}return this.hsv[0]=r%360/360,this.setHSV(this.hsv)},saturate:function(t){return this.hsv[1]=h.clip(this.hsv[1]+t,0,1),this.setHSV(this.hsv)},saturation:function(){return this.hsv[1]},setAlpha:function(t){return this._alpha=t,this},setARGB:function(t){return this.setRGB((t>>16&255)*f.INV8BIT,(t>>8&255)*f.INV8BIT,(255&t)*f.INV8BIT),this._alpha=(t>>>24)*f.INV8BIT,this},setBlack:function(t){return this.cmyk[3]=t,this.setCMYK(this.cmyk)},setBlue:function(t){return this.rgb[2]=t,this.setRGB(this.rgb)},setBrightness:function(t){return this.hsv[2]=h.clip(t,0,1),this.setHSV(this.hsv)},setCMYK:function(t,e,i,r){return a.Array(t)&&(e=t[1],i=t[2],r=t[3],t=t[0]),this.cmyk[0]=t,this.cmyk[1]=e,this.cmyk[2]=i,this.cmyk[3]=r,this.rgb=f.cmykToRGB(this.cmyk[0],this.cmyk[1],this.cmyk[2],this.cmyk[3]),this.hsv=f.rgbToHSV(this.rgb[0],this.rgb[1],this.rgb[2]),this},setComponent:function(t,e){return t.setComponentValueFor(this,e),this},setCyan:function(t){return this.cmyk[0]=t,this.setCMYK(this.cmyk)},setGreen:function(t){return this.rgb[1]=t,this.setRGB(this.rgb)},setHSV:function(t,e,i){a.Array(t)&&(e=t[1],i=t[2],t=t[0]);var r=[t,e,i];return this.hsv[0]=r[0]%1,this.hsv[0]<0&&this.hsv[0]++,this.hsv[1]=h.clip(r[1],0,1),this.hsv[2]=h.clip(r[2],0,1),this.rgb=f.hsvToRGB(this.hsv[0],this.hsv[1],this.hsv[2]),this.cmyk=f.rgbToCMYK(this.rgb[0],this.rgb[1],this.rgb[2]),this},setHue:function(t){return t%=1,0>t&&t++,this.hsv[0]=t,this.setHSV(this.hsv)},setMagenta:function(t){return this.cmyk[1]=t,this.setCMYK(this.cmyk)},setRed:function(t){return this.rgb[0]=t,this.setRGB(this.rgb)},setRGB:function(t,e,i){return a.Array(t)&&(e=t[1],i=t[2],t=t[0]),this.rgb[0]=h.clip(t,0,1),this.rgb[1]=h.clip(e,0,1),this.rgb[2]=h.clip(i,0,1),this.cmyk=f.rgbToCMYK(this.rgb[0],this.rgb[1],this.rgb[2]),this.hsv=f.rgbToHSV(this.rgb[0],this.rgb[1],this.rgb[2]),this},setSaturation:function(t){return this.hsv[1]=h.clip(t,0,1),this.setHSV(this.hsv)},setYellow:function(t){return this.cmyk[2]=t,this.setCMYK(this.cmyk)},sub:function(t){return this.copy().subSelf(t)},subSelf:function(t){return this.rgb[0]=h.max(this.rgb[0]-t.rgb[0],0),this.rgb[1]=h.max(this.rgb[1]-t.rgb[1],0),this.rgb[2]=h.max(this.rgb[2]-t.rgb[2],0),this.setRGB(this.rgb)},toARGB:function(){var t=parseInt(255*this.rgb[0],10),e=parseInt(255*this.rgb[1],10),i=parseInt(255*this.rgb[2],10),r=parseInt(255*this._alpha,10);return t<<16|e<<8|i|r<<24},toCMYKAArray:function(t){return void 0===t&&(t=[]),t[0]=this.cmyk[0],t[1]=this.cmyk[1],t[2]=this.cmyk[2],t[3]=this.cmyk[3],t[4]=this._alpha,t},toHex:function(){var t=p(this.toARGB());return t.length>6&&(t=t.substring(2)),t},toHexCSS:function(){return"#"+this.toHex()},toHSVAArray:function(t){return void 0===t&&(t=[]),t[0]=this.hsv[0],t[1]=this.hsv[1],t[2]=this.hsv[2],t[3]=this._alpha,t},toHSLCSS:function(){var t=n(this.toHSVAArray());return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHSLACSS:function(){var t=n(this.toHSVAArray());return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]+")"},toInt:function(){return Number("0x"+this.toHex())},toRGBAArray:function(t,e){return t=t||[],e=e||0,t[e++]=this.rgb[0],t[e++]=this.rgb[1],t[e++]=this.rgb[2],t[e]=this._alpha,t},toRGBADecimalArray:function(t,e){return t=t||[],e=e||0,t[e++]=255*this.rgb[0],t[e++]=255*this.rgb[1],t[e++]=255*this.rgb[2],t[e]=255*this._alpha,t},toRGBCSS:function(t){var e=o(this.toRGBAArray(),t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRGBACSS:function(t){var e=o(this.toRGBAArray(),t);return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toString:function(){return"TColor: rgb: "+this.rgb[0]+", "+this.rgb[1]+", "+this.rgb[2]+" hsv: "+this.hsv[0]+","+this.hsv[1]+","+this.hsv[2]+" cmyk: "+this.cmyk[0]+", "+this.cmyk[1]+","+this.cmyk[2]+","+this.cmyk[3]+" alpha: "+this._alpha},yellow:function(){return this.cmyk[2]}},f.INV60DEGREES=60/360,f.INV8BIT=1/255,f.EPS=.001,f.BLACK_POINT=.08,f.WHITE_POINT=1,f.GREY_THRESHOLD=.01,f.cmykToRGB=function(t,e,i,r,n){return void 0===n&&(n=[0,0,0]),n[0]=1-Math.min(1,t+r),n[1]=1-Math.min(1,e+r),n[2]=1-Math.min(1,i+r),n},f.hexToRGB=function(t,e){return void 0===e&&(e=[]),t="#"==t.charAt(0)?t.substring(1,7):t,e[0]=parseInt(t.substring(0,2),16)*f.INV8BIT,e[1]=parseInt(t.substring(2,4),16)*f.INV8BIT,e[2]=parseInt(t.substring(4,6),16)*f.INV8BIT,e},f.hsvToRGB=function(t,e,i,r){if(void 0===r&&(r=[]),0===e)r[0]=r[1]=r[2]=i;else{t/=f.INV60DEGREES;var n=parseInt(t,10),o=t-n,s=i*(1-e),a=i*(1-e*o),h=i*(1-e*(1-o));0===n?(r[0]=i,r[1]=h,r[2]=s):1==n?(r[0]=a,r[1]=i,r[2]=s):2==n?(r[0]=s,r[1]=i,r[2]=h):3==n?(r[0]=s,r[1]=a,r[2]=i):4==n?(r[0]=h,r[1]=s,r[2]=i):(r[0]=i,r[1]=s,r[2]=a)}return r},f.labToRGB=function(t,e,i,r){void 0===r&&(r=[]);var n=(t+16)/116,o=e/500+n,s=n-i/200,a=0;for(r[0]=o,r[1]=n,r[2]=s,a=0;3>a;a++){var h=Math.pow(r[a],3);r[a]=h>.008856?h:(r[a]-16/116)/7.787}o=.95047*r[0],n=r[1],s=1.08883*r[2],r[0]=3.2406*o+-1.5372*n+s*-.4986,r[1]=o*-.9689+1.8758*n+.0415*s,r[2]=.0557*o+n*-.204+1.057*s;var u=1/2.4;for(a=0;3>a;a++)r[a]=r[a]>.0031308?1.055*Math.pow(r[a],u)-.055:12.92*r[a];return r},f.newARGB=function(t){return f.newRGBA((t>>16&255)*f.INV8BIT,(t>>8&255)*f.INV8BIT,(255&t)*f.INV8BIT,(t>>>24)*f.INV8BIT)},f.newCMYK=function(t,e,i,r){return f.newCMYKA(t,e,i,r,1)},f.newCMYKA=function(t,e,i,r,n){var o=new f;return o.setCMYK([t,e,i,r]),o.setAlpha(h.clip(n,0,1)),o},f.newCSS=function(t){function e(e){var i=t.substr(0,t.length-1);return i.substr(e.length+1,i.length).split(",")}function i(t){var e=0,i=t.length;for(e=0;i>e;e++)t[e]=Number(t[e]);return t}for(;t.indexOf(" ")>-1;)t=t.replace(" ","");t=t.toLowerCase();var r={"#":function(){return f.newHex(t.substr(1,t.length))},rgba:function(){var t=i(e("rgba"));return f.newRGBA(t[0]/255,t[1]/255,t[2]/255,t[3])},rgb:function(){var t=i(e("rgb"));return f.newRGBA(t[0]/255,t[1]/255,t[2]/255,1)},hsla:function(t){return t=t||e("hsla"),t[0]=Number(t[0])/360,t[1]=Number(t[1].substr(0,t[1].length-1))/100,t[2]=Number(t[2].substr(0,t[2].length-1))/100,t[3]=Number(t[3]),f.newHSVA(t[0],t[1],t[2],t[3])},hsl:function(){var t=e("hsl");return t.push(1),r.hsla(t)}};if(void 0!==f.X11[t])return f.X11[t].copy();for(var n in r)if(t.indexOf(n)>-1)return r[n]()},f.newGray=function(t){return f.newGrayAlpha(t,1)},f.newGrayAlpha=function(t,e){var i=new f;return i.setRGB([t,t,t]),i.setAlpha(e),i},f.newHex=function(t){var e=new f;return e.setRGB(f.hexToRGB(t)),e.setAlpha(1),e},f.newHSV=function(t,e,i){return f.newHSVA(t,e,i,1)},f.newHSVA=function(t,e,i,r){var n=new f;return n.setHSV(t,e,i),n.setAlpha(h.clip(r,0,1)),n},f.newRandom=function(){return f.newRGBA(Math.random(),Math.random(),Math.random(),1)},f.newRGB=function(t,e,i){return f.newRGBA(t,e,i,1)},f.newRGBA=function(t,e,i,r){var n=new f;return n.setRGB(t,e,i),n.setAlpha(h.clip(r,0,1)),n},f.rgbToCMYK=function(t,e,i,r){return void 0===r&&(r=[]),r[0]=1-t,r[1]=1-e,r[2]=1-i,r[3]=h.min(r[0],r[1],r[2]),r[0]=h.clip(r[0]-r[3],0,1),r[1]=h.clip(r[1]-r[3],0,1),r[2]=h.clip(r[2]-r[3],0,1),r[3]=h.clip(r[3],0,1),r},f.rgbToHex=function(t,e,i){var r=p(255*h.clip(t,0,1))+p(255*h.clip(e,0,1))+p(255*h.clip(i,0,1));return r},f.rgbToHSV=function(t,e,i,r){void 0===r&&(r=[]);var n=0,o=0,a=h.max(t,e,i),u=a-h.min(t,e,i);return 0!==a&&(o=u/a),0!==o&&(n=0===s(t,a)?(e-i)/u:0===s(e,a)?2+(i-t)/u:4+(t-e)/u),n*=f.INV60DEGREES,0>n&&(n+=1),r[0]=n,r[1]=o,r[2]=a,r},f.RED=f.newRGB(1,0,0),f.RYB_WHEEL=[new l(0,0),new l(15,8),new l(30,17),new l(45,26),new l(60,34),new l(75,41),new l(90,48),new l(105,54),new l(120,60),new l(135,81),new l(150,103),new l(165,123),new l(180,138),new l(195,155),new l(210,171),new l(225,187),new l(240,204),new l(255,219),new l(270,234),new l(285,251),new l(300,267),new l(315,282),new l(330,298),new l(345,329),new l(360,0)],f.GREEN=f.newRGB(0,1,0),f.BLUE=f.newRGB(0,0,1),f.CYAN=f.newRGB(0,1,1),f.MAGENTA=f.newRGB(1,0,1),f.YELLOW=f.newRGB(1,1,0),f.BLACK=f.newRGB(0,0,0),f.WHITE=f.newRGB(1,1,1),f.X11={},function(){var t,e,i={indianred:[205,92,92],lightcoral:[240,128,128],salmon:[250,128,114],darksalmon:[233,150,122],lightsalmon:[255,160,122],red:[255,0,0],crimson:[220,20,60],fireBrick:[178,34,34],darkred:[139,0,0],pink:[255,192,203],lightpink:[255,182,193],hotpink:[255,105,180],deeppink:[255,20,147],mediumvioletred:[199,21,133],palevioletred:[219,112,147],coral:[255,127,80],tomato:[255,99,71],orangered:[255,69,0],darkorange:[255,140,0],orange:[255,165,0],gold:[255,215,0],yellow:[255,255,0],lightyellow:[255,255,224],lemonchiffon:[255,250,205],lightgoldenrodyellow:[250,250,210],papayawhip:[255,239,213],moccasin:[255,228,181],peachpuff:[255,218,185],palegoldenrod:[238,232,170],khaki:[240,230,140],darkkhaki:[189,183,107],lavender:[230,230,250],thistle:[216,191,216],plum:[221,160,221],violet:[238,130,238],orchid:[218,112,214],fuchsia:[255,0,255],Magenta:[255,0,255],mediumorchid:[186,85,211],mediumpurple:[147,112,219],blueviolet:[138,43,226],darkviolet:[148,0,211],darkorchid:[153,50,204],darkmagenta:[139,0,139],purple:[128,0,128],indigo:[75,0,130],darkslateblue:[72,61,139],slateblue:[106,90,205],mediumslateblue:[123,104,238],greenyellow:[173,255,47],chartreuse:[127,255,0],lawngreen:[124,252,0],lime:[0,255,0],limegreen:[50,205,50],palegreen:[152,251,152],lightgreen:[144,238,144],mediumspringgreen:[0,250,154],springgreen:[0,255,127],mediumseagreen:[60,179,113],seagreen:[46,139,87],forestgreen:[34,139,34],green:[0,128,0],darkgreen:[0,100,0],yellowgreen:[154,205,50],olivedrab:[107,142,35],olive:[128,128,0],darkolivegreen:[85,107,47],mediumaquamarine:[102,205,170],darkseagreen:[143,188,143],lightseagreen:[32,178,170],darkcyan:[0,139,139],teal:[0,128,128],aqua:[0,255,255],cyan:[0,255,255],lightcyan:[224,255,255],paleturquoise:[175,238,238],aquamarine:[127,255,212],turquoise:[64,224,208],mediumturquoise:[72,209,204],darkturquoise:[0,206,209],cadetblue:[95,158,160],steelblue:[70,130,180],lightsteelblue:[176,196,222],powderblue:[176,224,230],lightblue:[173,216,230],skyblue:[135,206,235],lightskyblue:[135,206,250],deepskyblue:[0,191,255],dodgerblue:[30,144,255],cornflowerblue:[100,149,237],royalblue:[65,105,225],blue:[0,0,255],mediumblue:[0,0,205],darkblue:[0,0,139],navy:[0,0,128],midnightblue:[25,25,112],cornsilk:[255,248,220],blanchedalmond:[255,235,205],bisque:[255,228,196],navajowhite:[255,222,173],wheat:[245,222,179],burlywood:[222,184,135],tan:[210,180,140],rosybrown:[188,143,143],sandybrown:[244,164,96],goldenrod:[218,165,32],darkgoldenrod:[184,134,11],Peru:[205,133,63],chocolate:[210,105,30],saddlebrown:[139,69,19],sienna:[160,82,45],brown:[165,42,42],maroon:[128,0,0],white:[255,255,255],snow:[255,250,250],honeydew:[240,255,240],mintcream:[245,255,250],azure:[240,255,255],aliceblue:[240,248,255],ghostwhite:[248,248,255],whitesmoke:[245,245,245],seashell:[255,245,238],beige:[245,245,220],oldlace:[253,245,230],floralwhite:[255,250,240],ivory:[255,255,240],antiquewhite:[250,235,215],linen:[250,240,230],lavenderblush:[255,240,245],mistyrose:[255,228,225],gainsboro:[220,220,220],lightgray:[211,211,211],silver:[192,192,192],darkgray:[169,169,169],gray:[128,128,128],dimgray:[105,105,105],lightslategray:[119,136,153],slategray:[112,128,144],darkslategray:[47,79,79],black:[0,0,0],bark:[64,48,33]};for(t in i)i.hasOwnProperty(t)&&(e=i[t],f.X11[t]=f.newRGB(e[0]/255,e[1]/255,e[2]/255),t.indexOf("gray")>=0&&(f.X11[t.replace("gray","grey")]=f.X11[t]));f.X11.transparent=f.newRGBA(0,0,0,0)}(),r.exports=f}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){var r;r=function(){return function(t,e){return t==e?0:e>t?-1:t>e?1:void 0}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r,n;r=[i,e,t,i(10)],n=function(t,e,r){var n=i(10),o=function(t,e){if(t=t||0,e="number"==typeof e?e:1,t>e){var i=e;e=t,t=i}this.min=t,this.max=e,this.currValue=t};o.prototype={adjustCurrentBy:function(t){return this.setCurrent(this.currValue+t)},copy:function(){var t=new o(this.min,this.max);return t.currValue=this.currValue,t},getAt:function(t){return this.min+(this.max-this.min-n.EPS)*t},getCurrent:function(){return this.currValue},getMedian:function(){return.5*(this.min+this.max)},getRange:function(){return this.max-this.min},isValueInRange:function(t){return t>=this.min&&t<=this.max},pickRandom:function(){return this.currValue=n.random(this.min,this.max),this.currValue},setCurrent:function(t){return this.currValue=n.clip(t,this.min,this.max),this.currValue},toArray:function(t){for(var e=[],i=this.min;i<this.max;)e.push(i),i+=t;return e},toString:function(){return"FloatRange: "+this.min+" -> "+this.max}},r.exports=o}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t){function e(){}var i=t.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,i="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var n=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(n,{attributes:!0}),function(t){r.length||n.setAttribute("yes","no"),r.push(t)}}return i?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var i=r.shift();i()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=e,i.addListener=e,i.once=e,i.off=e,i.removeListener=e,i.removeAllListeners=e,i.emit=e,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},function(t){"use strict";t.exports=function(){var t=1;return function(e,i,r,n){function o(t,e,r){var n=i[t];if(n)for(var o=0;o<n.length;o++){var a=n[o];s(a.sound,e,a.duration,r,t,a)}}function s(t,i,r,o,s,a){var u=e.getSound(t)||e.getSoundLoop(t);u&&(o=o||e.getSequencer().noteDuration,e.willPlayback(u.play(h,i,r,o,s,n),i,a,n))}var a=t++,h=r.target;return{id:a,playNote:o,playSound:s}}}()},function(t){"use strict";t.exports=function(){var t=[],e=0;return function(){function i(){return t.length?t.pop():(e++,{next:null,prev:null,obj:null})}function r(e){e.next=null,e.prev=null,e.obj=null,t.push(e)}function n(t){var e=i();return e.obj=t,e}function o(t){var e=n(t);e.prev=p,null!==p&&(p.next=e),p=e,e.next=null,null===d&&(d=e),f++}function s(t){var e=n(t);e.next=d,null!==d&&(d.prev=e),d=e,e.prev=null,null===p&&(p=e),f++}function a(){return!f}function h(){if(!a()){var t=p;return c(t.obj)}}function u(){if(!a()){var t=d;return c(t.obj)}}function l(t,e){for(var i=d,r=0;i;)t.call(e,i.obj,r++),i=i.next}function c(t){for(var e,i=d;!e&&i;)i.obj===t&&(e=i),i=i.next;return e&&(null===e.prev?d=e.next:e.prev.next=e.next,null===e.next?p=e.prev:e.next.prev=e.prev,f--,r(e)),t}var d=null,p=null,f=0;return{push:o,unshift:s,isEmpty:a,pop:h,shift:u,forEach:l,remove:c,count:function(){return f}}}}()},function(t){"use strict";t.exports=function(){return window.requestAnimationFrame}()},function(t){"use strict";t.exports=function(){return function(t,e){"undefined"!=typeof IOWA&&"undefined"!=typeof IOWA.Analytics&&"function"==typeof IOWA.Analytics.trackEvent&&IOWA.Analytics.trackEvent("experiment",t,e)}}()},function(t){"use strict";t.exports={BOTTOM:1,ACTIVE:10,VISUALIZER:100,FAB:1e3}},function(t,e,i){"use strict";var r=i(3),n=i(7),o=i(9),s=i(101),a=i(177),h=i(174),u=i(163),l=i(165),c=i(166),d=i(167),p=i(168),f=i(169),g=i(170),m=i(171),v=i(172),y=i(164),x=i(175),b=i(180),w=i(179),A=i(178),_=i(16);t.exports=function(){function t(){for(var t=600,e=1080,i=18,n=10,o=i*n-5,s=r.Texture.fromImage(A).baseTexture,a=[],h=0,u=0;i>u;u++)for(var l=~~(e/i),c=u*l,d=0;n>d;d++){var p=~~(t/n),f=d*p,g={x:f,y:c,width:p,height:l};if(h++,h>o)break;var m=new r.Texture(s,g);a.push(m)}return a}function e(e,A){function M(){var t=K.loopLength()-we;return t*K.beatLength()}function R(t){Te=t}function P(t){be=t}function L(t){Se=t}function B(){ie.interactive=!0,ie.hitArea=new r.Rectangle(0,0,i.width/2,i.height/2),ie.click=ie.tap=function(){Q||(Y=M(),X=M(),H=M(),ie.interactive=!1,N())}}function F(){ie.interactive=!1,ie.click=ie.tap=null}function O(t){n.to(t,.3,{alpha:1,y:-10})}function I(t,e){n.to(t,.3,{delay:e,alpha:0,y:-30})}function D(t){n.to(t,.1,{alpha:1}),n.fromTo(t.scale,.15,{x:.7,y:.7},{x:1.1,y:1.1}).then(k.bind(null,t))}function k(t){n.to(t.scale,.15,{delay:.6,x:.5,y:.5}),n.to(t,.2,{delay:.6,alpha:0})}function N(){Te(Ae),Q=!0,$=0,n.fromTo(ce.scale,.4,{x:1.01,y:1.01},{x:0,y:0}),n.to(me[0],.3,{alpha:1,y:-10})}function G(){be(Ae),Q=!1,Z=!0,J=0,n.to(me[0],.3,{alpha:0,y:-30}),n.to(le,.5,{alpha:1}),n.fromTo(me[1],.3,{alpha:0,y:30},{delay:.3,alpha:1,y:-10})}function U(t){if(Q)if($>=Y)$=0,H=0;else if(Y>=$){q(16730624,$,Y),$+=t;var e=Math.ceil(X-=t);H>e&&(H=e,e>=1&&D(ee[e-1]))}Z&&(J>=_e?(j(),Z=!1,J=_e,Se(Ae)):_e>=J&&(q(51789,J,_e),J+=t))}function V(){W(0)}function W(t){he=Math.floor((ae.length-1)*t),ue.setTexture(ae[he])}function z(){V(),de.alpha=0,I(me[2],0),n.fromTo(ce.scale,.3,{x:0,y:0},{x:1,y:1});for(var t=0;t<me.length;t++){var e=me[t];e.position.x=-205,e.position.y=30}ie.interactive=!0}function q(t,e,i){var r=e/i;ue.tint=t,W(r)}function j(){I(me[1],0),de.alpha=1,le.alpha=0,O(me[2]),n.to(de.scale,.25,{x:1,y:1}).then(n.to(de.scale,.25,{delay:2,x:0,y:0})),_(function(){z()},2100)}var Y,X,H,K=e.getSequencer(),Z=!1,Q=!1,J=0,$=0,te=[u,l,c,d,p,f,g,m,v,y],ee=[],ie=new r.DisplayObjectContainer;if(ie.interactive=!1,ie.buttonMode=!0,!i){var re=new r.Graphics;re.boundsPadding=2,re.beginFill(T,1),re.drawCircle(0,0,E),re.endFill(),i=re.generateTexture(2),A.updateTexture(i.baseTexture)}var ne=new r.Sprite(i),oe=new r.Graphics,se=new r.BlurFilter;se.blur=4,oe.boundsPadding=C,oe.beginFill(S,.6),oe.drawCircle(0,0,E),oe.filters=[se],oe.endFill(),oe.scale.x=.96,oe.scale.y=.96,oe.position.x=E+2,oe.position.y=E+5;var ae=t(),he=0,ue=new r.Sprite(ae[he]);ue.position.x=.15*ue.width/2,ue.position.y=.15*ue.height/2,ue.pivot.x=ue.pivot.y=.5,ue.scale.x=ue.scale.y=.85;var le=new r.Graphics;le.lineStyle(10,12056521,1),le.beginFill(16777215,1),le.drawCircle(E+2,E+2,E-8),le.endFill(),le.alpha=0;var ce=s(a);ce.position.x=E+2,ce.position.y=E+2,ce.anchor.set(.5,.5);var de=s(h);de.position.x=E+2,de.position.y=E+2,de.anchor.set(.5,.5),de.alpha=0,de.scale.x=0,de.scale.y=0;var pe=s(x),fe=s(b),ge=s(w),me=[pe,fe,ge];A.updateTexture(ae[0].baseTexture);for(var ve=0;ve<me.length;ve++){var ye=me[ve];ye.position.x=-205,ye.position.y=30,ye.alpha=0,ie.addChild(ye)}ie.addChild(oe),ie.addChild(ne),ie.addChild(le),ie.addChild(ue),ie.addChild(ce),ie.addChild(de);for(var ve=0;ve<te.length;ve++){var xe=s(te[ve]);xe.position.x=E+1,xe.position.y=E+2,xe.anchor.set(.5,.5),xe.alpha=0,ie.addChild(xe),ee.push(xe)}var be,we,Ae={clearCircle:V,resetRecord:z,container:ie,onCountdownActivate:R,onRecordActivate:P,onRecordDeactivate:L,recordIcon:ce,circle:ne,arcCircle:ue,checkmarkCircle:de,textImages:me,render:U,addEventListeners:B,removeEventListeners:F,numberImagePixiObjects:ee},_e=K.loopLengthSecs();o.addListener("BEAT",function(t){we=t,0===we&&Q&&!Z&&G()});var Te,Se;return Ae}var i,T=16777215,S=0,C=5,E=28;return e.clearTextureCache=function(){i=null},e}()},function(t,e,i){"use strict";var r=i(15)["default"];t.exports=function(){function t(t,i,r){return a[t]=a[t]||[],a[t][i]=a[t][i]||[],"undefined"==typeof a[t][i][r]&&(a[t][i][r]=new e(t,i,r)),a[t][i][r]}function e(e,i,r){function n(){return l||(l=s.map(function(n){return t(e+n[0],i+n[1],r+n[2])})),l}function o(){var t=e,i=r+(e+(1&e))/2;return[i,t]}function a(n){if(0>=n)return[t(e,i,r)];for(var o=t(e+s[4][0]*n,i+s[4][1]*n,r+s[4][2]*n),a=[],h=0;6>h;h++)for(var u=0;n>u;u++)a.push(o),o=o.getNeighbors()[h];return a}function h(){return[e,i,r]}function u(){return"Cube.getCube("+e+", "+i+", "+r+")"}var l;return{x:e,y:i,z:r,getNeighbors:n,getRowColumn:o,getRing:a,serializeModel:h,toCodeString:u}}function i(e,i){var r=i,n=e-(i+(1&i))/2,o=-r-n;return t(r,o,n)}function n(e){var i=r(e,3),n=i[0],o=i[1],s=i[2];return t(n,o,s)}function o(e){return Array.isArray(e)?n(e):t(e.x,e.y,e.z)}var s=[[1,-1,0],[1,0,-1],[0,1,-1],[-1,1,0],[-1,0,1],[0,-1,1]],a=[];return e.evenQToCube=i,e.getCube=t,e.deserializeModel=n,e.loadFromJSON=o,e.clearCache=function(){return a.length=0},e.getCache=function(){return a},e}()},function(t){t.exports={selectedTheme:"theme1",centerRadius:180,safeZone:.2,theme1:{center:["FF8A65","FF7043","F3511E","E64A18"],quadrants:[["FFEE58","FDD834","FBC02D","F9A825"],["FFB74D","FFA726","FB8C00","F57C00"],["E57373","EF5350","E53935","D32F2F"],["F06292","EC407A","D81B60","C2185B"]]}}},function(t){t.exports={name:"p2",version:"0.6.0",description:"A JavaScript 2D physics engine.",author:{name:"Stefan Hedman",email:"schteppe@gmail.com",url:"http://steffe.se"},keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"~0.4.0","grunt-contrib-jshint":"~0.9.2","grunt-contrib-nodeunit":"~0.1.2","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.0"},homepage:"https://github.com/schteppe/p2.js",_id:"p2@0.6.0",dist:{shasum:"e0a98ca90fe0f95667ee0d6f0b4b164cab306382",tarball:"http://registry.npmjs.org/p2/-/p2-0.6.0.tgz"},_from:"p2@>=0.6.0 <0.7.0",_npmVersion:"1.4.3",_npmUser:{name:"schteppe",email:"schteppe@gmail.com"},maintainers:[{name:"schteppe",email:"schteppe@gmail.com"}],directories:{},_shasum:"e0a98ca90fe0f95667ee0d6f0b4b164cab306382",_resolved:"https://registry.npmjs.org/p2/-/p2-0.6.0.tgz",readme:"ERROR: No README data found!"}},function(t,e,i){function r(t,e,i){function r(){m&&clearTimeout(m),d&&clearTimeout(d),d=m=v=void 0}function o(){var i=e-(u()-f);if(0>=i||i>e){d&&clearTimeout(d);var r=v;d=m=v=void 0,r&&(y=u(),p=t.apply(g,c),m||d||(c=g=null))}else m=setTimeout(o,i)}function h(){m&&clearTimeout(m),d=m=v=void 0,(b||x!==e)&&(y=u(),p=t.apply(g,c),m||d||(c=g=null))}function l(){if(c=arguments,f=u(),g=this,v=b&&(m||!w),x===!1)var i=w&&!m;else{d||w||(y=f);var r=x-(f-y),n=0>=r||r>x;n?(d&&(d=clearTimeout(d)),y=f,p=t.apply(g,c)):d||(d=setTimeout(h,r))}return n&&m?m=clearTimeout(m):m||e===x||(m=setTimeout(o,e)),i&&(n=!0,p=t.apply(g,c)),!n||m||d||(c=g=null),p}var c,d,p,f,g,m,v,y=0,x=!1,b=!0;if("function"!=typeof t)throw new TypeError(s);if(e=0>e?0:+e||0,i===!0){var w=!0;b=!1}else n(i)&&(w=i.leading,x="maxWait"in i&&a(+i.maxWait||0,e),b="trailing"in i?i.trailing:b);return l.cancel=r,l}function n(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}var o=i(131),s="Expected a function",a=Math.max,h=o(h=Date.now)&&h,u=h||function(){return(new Date).getTime()};t.exports=r},function(t){function e(){}t.exports=e,e.area=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])},e.left=function(t,i,r){return e.area(t,i,r)>0},e.leftOn=function(t,i,r){return e.area(t,i,r)>=0},e.right=function(t,i,r){return e.area(t,i,r)<0},e.rightOn=function(t,i,r){return e.area(t,i,r)<=0};var i=[],r=[];e.collinear=function(t,n,o,s){if(s){var a=i,h=r;a[0]=n[0]-t[0],a[1]=n[1]-t[1],h[0]=o[0]-n[0],h[1]=o[1]-n[1];var u=a[0]*h[0]+a[1]*h[1],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(h[0]*h[0]+h[1]*h[1]),d=Math.acos(u/(l*c));return s>d}return 0==e.area(t,n,o)},e.sqdist=function(t,e){var i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}},function(t){function e(){}t.exports=e,e.eq=function(t,e,i){return i=i||0,Math.abs(t-e)<i}},function(t,e,i){t.exports={Polygon:i(134),Point:i(54)}},function(t,e,i){function r(t){this.lowerBound=n.create(),t&&t.lowerBound&&n.copy(this.lowerBound,t.lowerBound),this.upperBound=n.create(),t&&t.upperBound&&n.copy(this.upperBound,t.upperBound)}{var n=i(1);i(2)}t.exports=r;var o=n.create();r.prototype.setFromPoints=function(t,e,i,r){var s=this.lowerBound,a=this.upperBound;"number"!=typeof i&&(i=0),0!==i?n.rotate(s,t[0],i):n.copy(s,t[0]),n.copy(a,s);for(var h=Math.cos(i),u=Math.sin(i),l=1;l<t.length;l++){var c=t[l];if(0!==i){var d=c[0],p=c[1];o[0]=h*d-u*p,o[1]=u*d+h*p,c=o}for(var f=0;2>f;f++)c[f]>a[f]&&(a[f]=c[f]),c[f]<s[f]&&(s[f]=c[f])}e&&(n.add(this.lowerBound,this.lowerBound,e),n.add(this.upperBound,this.upperBound,e)),r&&(this.lowerBound[0]-=r,this.lowerBound[1]-=r,this.upperBound[0]+=r,this.upperBound[1]+=r)},r.prototype.copy=function(t){n.copy(this.lowerBound,t.lowerBound),n.copy(this.upperBound,t.upperBound)},r.prototype.extend=function(t){for(var e=2;e--;){var i=t.lowerBound[e];this.lowerBound[e]>i&&(this.lowerBound[e]=i);var r=t.upperBound[e];this.upperBound[e]<r&&(this.upperBound[e]=r)}},r.prototype.overlaps=function(t){var e=this.lowerBound,i=this.upperBound,r=t.lowerBound,n=t.upperBound;return(r[0]<=i[0]&&i[0]<=n[0]||e[0]<=n[0]&&n[0]<=i[0])&&(r[1]<=i[1]&&i[1]<=n[1]||e[1]<=n[1]&&n[1]<=i[1])}},function(t,e,i){function r(){n.call(this,n.NAIVE)}{var n=(i(19),i(29),i(6),i(28),i(18));i(1)}t.exports=r,r.prototype=new n,r.prototype.getCollisionPairs=function(t){var e=t.bodies,i=this.result;i.length=0;for(var r=0,o=e.length;r!==o;r++)for(var s=e[r],a=0;r>a;a++){var h=e[a];n.canCollide(s,h)&&this.boundingVolumeCheck(s,h)&&i.push(s,h)}return i}},function(t,e,i){function r(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.reuseObjects=!0,this.reusableContactEquations=[],this.reusableFrictionEquations=[],this.restitution=0,this.stiffness=d.DEFAULT_STIFFNESS,this.relaxation=d.DEFAULT_RELAXATION,this.frictionStiffness=d.DEFAULT_STIFFNESS,this.frictionRelaxation=d.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new c,this.contactSkinSize=.01}function n(t,e){s.set(t.vertices[0],.5*-e.length,-e.radius),s.set(t.vertices[1],.5*e.length,-e.radius),s.set(t.vertices[2],.5*e.length,e.radius),s.set(t.vertices[3],.5*-e.length,e.radius)}function o(t,e,i,r){for(var n=q,o=j,u=Y,l=X,c=t,d=e.vertices,p=null,f=0;f!==d.length+1;f++){var g=d[f%d.length],m=d[(f+1)%d.length];s.rotate(n,g,r),s.rotate(o,m,r),h(n,n,i),h(o,o,i),a(u,n,c),a(l,o,c);var v=s.crossLength(u,l);if(null===p&&(p=v),0>=v*p)return!1;p=v}return!0}var s=i(1),a=s.sub,h=s.add,u=s.dot,l=i(2),c=i(75),d=i(4),p=i(31),f=i(32),g=i(19),m=i(20),v=i(6),y=(i(12),i(35));t.exports=r;var x=s.fromValues(0,1),b=s.fromValues(0,0),w=s.fromValues(0,0),A=s.fromValues(0,0),_=s.fromValues(0,0),T=s.fromValues(0,0),S=s.fromValues(0,0),C=s.fromValues(0,0),E=s.fromValues(0,0),M=s.fromValues(0,0),R=s.fromValues(0,0),P=s.fromValues(0,0),L=s.fromValues(0,0),B=s.fromValues(0,0),F=s.fromValues(0,0),O=s.fromValues(0,0),I=s.fromValues(0,0),D=s.fromValues(0,0),k=s.fromValues(0,0),N=[];r.prototype.collidedLastStep=function(t,e){var i=0|t.id,r=0|e.id;return!!this.collidingBodiesLastStep.get(i,r)},r.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var i=t[e],r=i.bodyA.id,n=i.bodyB.id;this.collidingBodiesLastStep.set(r,n,!0)}if(this.reuseObjects){var o=this.contactEquations,s=this.frictionEquations,a=this.reusableFrictionEquations,h=this.reusableContactEquations;l.appendArray(h,o),l.appendArray(a,s)}this.contactEquations.length=this.frictionEquations.length=0},r.prototype.createContactEquation=function(t,e,i,r){var n=this.reusableContactEquations.length?this.reusableContactEquations.pop():new p(t,e);return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=r,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=!0,n.offset=this.contactSkinSize,n},r.prototype.createFrictionEquation=function(t,e,i,r){var n=this.reusableFrictionEquations.length?this.reusableFrictionEquations.pop():new f(t,e);return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=r,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=!0,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},r.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return s.copy(e.contactPointA,t.contactPointA),s.copy(e.contactPointB,t.contactPointB),s.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},r.prototype.createFrictionFromAverage=function(t){if(!t)throw new Error("numContacts == 0!");{var e=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),r=e.bodyA;e.bodyB}s.set(i.contactPointA,0,0),s.set(i.contactPointB,0,0),s.set(i.t,0,0);for(var n=0;n!==t;n++)e=this.contactEquations[this.contactEquations.length-1-n],e.bodyA===r?(s.add(i.t,i.t,e.normalA),s.add(i.contactPointA,i.contactPointA,e.contactPointA),s.add(i.contactPointB,i.contactPointB,e.contactPointB)):(s.sub(i.t,i.t,e.normalA),s.add(i.contactPointA,i.contactPointA,e.contactPointB),s.add(i.contactPointB,i.contactPointB,e.contactPointA)),i.contactEquations.push(e);var o=1/t;return s.scale(i.contactPointA,i.contactPointA,o),s.scale(i.contactPointB,i.contactPointB,o),s.normalize(i.t,i.t),s.rotate90cw(i.t,i.t),i
},r.prototype[v.LINE|v.CONVEX]=r.prototype.convexLine=function(t,e,i,r,n,o,s,a,h){return h?!1:0},r.prototype[v.LINE|v.RECTANGLE]=r.prototype.lineRectangle=function(t,e,i,r,n,o,s,a,h){return h?!1:0};var G=new y(1,1),U=s.create();r.prototype[v.CAPSULE|v.CONVEX]=r.prototype[v.CAPSULE|v.RECTANGLE]=r.prototype.convexCapsule=function(t,e,i,r,o,a,h,u,l){var c=U;s.set(c,a.length/2,0),s.rotate(c,c,u),s.add(c,c,h);var d=this.circleConvex(o,a,c,u,t,e,i,r,l,a.radius);s.set(c,-a.length/2,0),s.rotate(c,c,u),s.add(c,c,h);var p=this.circleConvex(o,a,c,u,t,e,i,r,l,a.radius);if(l&&(d||p))return!0;var f=G;n(f,a);var g=this.convexConvex(t,e,i,r,o,f,h,u,l);return g+d+p},r.prototype[v.CAPSULE|v.LINE]=r.prototype.lineCapsule=function(t,e,i,r,n,o,s,a,h){return h?!1:0};var V=s.create(),W=s.create(),z=new y(1,1);r.prototype[v.CAPSULE|v.CAPSULE]=r.prototype.capsuleCapsule=function(t,e,i,r,o,a,h,u,l){for(var c,d=V,p=W,f=0,g=0;2>g;g++){s.set(d,(0===g?-1:1)*e.length/2,0),s.rotate(d,d,r),s.add(d,d,i);for(var m=0;2>m;m++){s.set(p,(0===m?-1:1)*a.length/2,0),s.rotate(p,p,u),s.add(p,p,h),this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var v=this.circleCircle(t,e,d,r,o,a,p,u,l,e.radius,a.radius);if(this.enableFrictionReduction&&(this.enableFriction=c),l&&v)return!0;f+=v}}this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var y=z;n(y,e);var x=this.convexCapsule(t,y,i,r,o,a,h,u,l);if(this.enableFrictionReduction&&(this.enableFriction=c),l&&x)return!0;if(f+=x,this.enableFrictionReduction){var c=this.enableFriction;this.enableFriction=!1}n(y,a);var b=this.convexCapsule(o,y,h,u,t,e,i,r,l);return this.enableFrictionReduction&&(this.enableFriction=c),l&&b?!0:(f+=b,this.enableFrictionReduction&&f&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f)},r.prototype[v.LINE|v.LINE]=r.prototype.lineLine=function(t,e,i,r,n,o,s,a,h){return h?!1:0},r.prototype[v.PLANE|v.LINE]=r.prototype.planeLine=function(t,e,i,r,n,o,l,c,d){var p=b,f=w,g=A,m=_,v=T,y=S,R=C,P=E,L=M,B=N,F=0;s.set(p,-o.length/2,0),s.set(f,o.length/2,0),s.rotate(g,p,c),s.rotate(m,f,c),h(g,g,l),h(m,m,l),s.copy(p,g),s.copy(f,m),a(v,f,p),s.normalize(y,v),s.rotate90cw(L,y),s.rotate(P,x,r),B[0]=p,B[1]=f;for(var O=0;O<B.length;O++){var I=B[O];a(R,I,i);var D=u(R,P);if(0>D){if(d)return!0;var k=this.createContactEquation(t,n,e,o);F++,s.copy(k.normalA,P),s.normalize(k.normalA,k.normalA),s.scale(R,P,D),a(k.contactPointA,I,R),a(k.contactPointA,k.contactPointA,t.position),a(k.contactPointB,I,l),h(k.contactPointB,k.contactPointB,l),a(k.contactPointB,k.contactPointB,n.position),this.contactEquations.push(k),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(k))}}return d?!1:(this.enableFrictionReduction||F&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(F)),F)},r.prototype[v.PARTICLE|v.CAPSULE]=r.prototype.particleCapsule=function(t,e,i,r,n,o,s,a,h){return this.circleLine(t,e,i,r,n,o,s,a,h,o.radius,0)},r.prototype[v.CIRCLE|v.LINE]=r.prototype.circleLine=function(t,e,i,r,n,o,l,c,d,p,f){var p=p||0,f="undefined"!=typeof f?f:e.radius,g=b,m=w,v=A,y=_,x=T,O=S,I=C,D=E,k=M,G=R,U=P,V=L,W=B,z=F,q=N;s.set(D,-o.length/2,0),s.set(k,o.length/2,0),s.rotate(G,D,c),s.rotate(U,k,c),h(G,G,l),h(U,U,l),s.copy(D,G),s.copy(k,U),a(O,k,D),s.normalize(I,O),s.rotate90cw(x,I),a(V,i,D);var j=u(V,x);a(y,D,l),a(W,i,l);var Y=f+p;if(Math.abs(j)<Y){s.scale(g,x,j),a(v,i,g),s.scale(m,x,u(x,W)),s.normalize(m,m),s.scale(m,m,p),h(v,v,m);var X=u(I,v),H=u(I,D),K=u(I,k);if(X>H&&K>X){if(d)return!0;var Z=this.createContactEquation(t,n,e,o);return s.scale(Z.normalA,g,-1),s.normalize(Z.normalA,Z.normalA),s.scale(Z.contactPointA,Z.normalA,f),h(Z.contactPointA,Z.contactPointA,i),a(Z.contactPointA,Z.contactPointA,t.position),a(Z.contactPointB,v,l),h(Z.contactPointB,Z.contactPointB,l),a(Z.contactPointB,Z.contactPointB,n.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1}}q[0]=D,q[1]=k;for(var Q=0;Q<q.length;Q++){var J=q[Q];if(a(V,J,i),s.squaredLength(V)<Math.pow(Y,2)){if(d)return!0;var Z=this.createContactEquation(t,n,e,o);return s.copy(Z.normalA,V),s.normalize(Z.normalA,Z.normalA),s.scale(Z.contactPointA,Z.normalA,f),h(Z.contactPointA,Z.contactPointA,i),a(Z.contactPointA,Z.contactPointA,t.position),a(Z.contactPointB,J,l),s.scale(z,Z.normalA,-p),h(Z.contactPointB,Z.contactPointB,z),h(Z.contactPointB,Z.contactPointB,l),a(Z.contactPointB,Z.contactPointB,n.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1}}return 0},r.prototype[v.CIRCLE|v.CAPSULE]=r.prototype.circleCapsule=function(t,e,i,r,n,o,s,a,h){return this.circleLine(t,e,i,r,n,o,s,a,h,o.radius)},r.prototype[v.CIRCLE|v.CONVEX]=r.prototype[v.CIRCLE|v.RECTANGLE]=r.prototype.circleConvex=function(t,e,i,r,n,u,l,c,d,p){for(var p="number"==typeof p?p:e.radius,f=b,g=w,m=A,v=_,y=T,x=R,S=P,C=B,E=F,M=O,L=I,D=!1,k=Number.MAX_VALUE,N=u.vertices,G=0;G!==N.length+1;G++){var U=N[G%N.length],V=N[(G+1)%N.length];if(s.rotate(f,U,c),s.rotate(g,V,c),h(f,f,l),h(g,g,l),a(m,g,f),s.normalize(v,m),s.rotate90cw(y,v),s.scale(E,y,-e.radius),h(E,E,i),o(E,u,l,c)){s.sub(M,f,E);var W=Math.abs(s.dot(M,y));k>W&&(s.copy(L,E),k=W,s.scale(C,y,W),s.add(C,C,E),D=!0)}}if(D){if(d)return!0;var z=this.createContactEquation(t,n,e,u);return s.sub(z.normalA,L,i),s.normalize(z.normalA,z.normalA),s.scale(z.contactPointA,z.normalA,p),h(z.contactPointA,z.contactPointA,i),a(z.contactPointA,z.contactPointA,t.position),a(z.contactPointB,C,l),h(z.contactPointB,z.contactPointB,l),a(z.contactPointB,z.contactPointB,n.position),this.contactEquations.push(z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(z)),1}if(p>0)for(var G=0;G<N.length;G++){var q=N[G];if(s.rotate(S,q,c),h(S,S,l),a(x,S,i),s.squaredLength(x)<Math.pow(p,2)){if(d)return!0;var z=this.createContactEquation(t,n,e,u);return s.copy(z.normalA,x),s.normalize(z.normalA,z.normalA),s.scale(z.contactPointA,z.normalA,p),h(z.contactPointA,z.contactPointA,i),a(z.contactPointA,z.contactPointA,t.position),a(z.contactPointB,S,l),h(z.contactPointB,z.contactPointB,l),a(z.contactPointB,z.contactPointB,n.position),this.contactEquations.push(z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(z)),1}}return 0};var q=s.create(),j=s.create(),Y=s.create(),X=s.create();r.prototype[v.PARTICLE|v.CONVEX]=r.prototype[v.PARTICLE|v.RECTANGLE]=r.prototype.particleConvex=function(t,e,i,r,n,l,c,d,p){var f=b,g=w,m=A,v=_,y=T,x=S,E=C,M=R,P=B,L=D,F=k,O=Number.MAX_VALUE,I=!1,N=l.vertices;if(!o(i,l,c,d))return 0;if(p)return!0;for(var G=0;G!==N.length+1;G++){var U=N[G%N.length],V=N[(G+1)%N.length];s.rotate(f,U,d),s.rotate(g,V,d),h(f,f,c),h(g,g,c),a(m,g,f),s.normalize(v,m),s.rotate90cw(y,v),a(M,i,f);{u(M,y)}a(x,f,c),a(E,i,c),s.sub(L,f,i);var W=Math.abs(s.dot(L,y));O>W&&(O=W,s.scale(P,y,W),s.add(P,P,i),s.copy(F,y),I=!0)}if(I){var z=this.createContactEquation(t,n,e,l);return s.scale(z.normalA,F,-1),s.normalize(z.normalA,z.normalA),s.set(z.contactPointA,0,0),h(z.contactPointA,z.contactPointA,i),a(z.contactPointA,z.contactPointA,t.position),a(z.contactPointB,P,c),h(z.contactPointB,z.contactPointB,c),a(z.contactPointB,z.contactPointB,n.position),this.contactEquations.push(z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(z)),1}return 0},r.prototype[v.CIRCLE]=r.prototype.circleCircle=function(t,e,i,r,n,o,u,l,c,d,p){var f=b,d=d||e.radius,p=p||o.radius;a(f,i,u);var g=d+p;if(s.squaredLength(f)>Math.pow(g,2))return 0;if(c)return!0;var m=this.createContactEquation(t,n,e,o);return a(m.normalA,u,i),s.normalize(m.normalA,m.normalA),s.scale(m.contactPointA,m.normalA,d),s.scale(m.contactPointB,m.normalA,-p),h(m.contactPointA,m.contactPointA,i),a(m.contactPointA,m.contactPointA,t.position),h(m.contactPointB,m.contactPointB,u),a(m.contactPointB,m.contactPointB,n.position),this.contactEquations.push(m),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(m)),1},r.prototype[v.PLANE|v.CONVEX]=r.prototype[v.PLANE|v.RECTANGLE]=r.prototype.planeConvex=function(t,e,i,r,n,o,l,c,d){var p=b,f=w,g=A,m=0;s.rotate(f,x,r);for(var v=0;v!==o.vertices.length;v++){var y=o.vertices[v];if(s.rotate(p,y,c),h(p,p,l),a(g,p,i),u(g,f)<=0){if(d)return!0;m++;var _=this.createContactEquation(t,n,e,o);a(g,p,i),s.copy(_.normalA,f);var T=u(g,_.normalA);s.scale(g,_.normalA,T),a(_.contactPointB,p,n.position),a(_.contactPointA,p,g),a(_.contactPointA,_.contactPointA,t.position),this.contactEquations.push(_),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(_))}}return this.enableFrictionReduction&&this.enableFriction&&m&&this.frictionEquations.push(this.createFrictionFromAverage(m)),m},r.prototype[v.PARTICLE|v.PLANE]=r.prototype.particlePlane=function(t,e,i,r,n,o,h,l,c){var d=b,p=w;l=l||0,a(d,i,h),s.rotate(p,x,l);var f=u(d,p);if(f>0)return 0;if(c)return!0;var g=this.createContactEquation(n,t,o,e);return s.copy(g.normalA,p),s.scale(d,g.normalA,f),a(g.contactPointA,i,d),a(g.contactPointA,g.contactPointA,n.position),a(g.contactPointB,i,t.position),this.contactEquations.push(g),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(g)),1},r.prototype[v.CIRCLE|v.PARTICLE]=r.prototype.circleParticle=function(t,e,i,r,n,o,u,l,c){var d=b;if(a(d,u,i),s.squaredLength(d)>Math.pow(e.radius,2))return 0;if(c)return!0;var p=this.createContactEquation(t,n,e,o);return s.copy(p.normalA,d),s.normalize(p.normalA,p.normalA),s.scale(p.contactPointA,p.normalA,e.radius),h(p.contactPointA,p.contactPointA,i),a(p.contactPointA,p.contactPointA,t.position),a(p.contactPointB,u,n.position),this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1};{var H=new g(1),K=s.create(),Z=s.create();s.create()}r.prototype[v.PLANE|v.CAPSULE]=r.prototype.planeCapsule=function(t,e,i,r,n,o,a,u,l){var c=K,d=Z,p=H;s.set(c,-o.length/2,0),s.rotate(c,c,u),h(c,c,a),s.set(d,o.length/2,0),s.rotate(d,d,u),h(d,d,a),p.radius=o.radius;var f;this.enableFrictionReduction&&(f=this.enableFriction,this.enableFriction=!1);var g=this.circlePlane(n,p,c,0,t,e,i,r,l),m=this.circlePlane(n,p,d,0,t,e,i,r,l);if(this.enableFrictionReduction&&(this.enableFriction=f),l)return g||m;var v=g+m;return this.enableFrictionReduction&&v&&this.frictionEquations.push(this.createFrictionFromAverage(v)),v},r.prototype[v.CIRCLE|v.PLANE]=r.prototype.circlePlane=function(t,e,i,r,n,o,l,c,d){var p=t,f=e,g=i,m=n,v=l,y=c;y=y||0;var _=b,T=w,S=A;a(_,g,v),s.rotate(T,x,y);var C=u(T,_);if(C>f.radius)return 0;if(d)return!0;var E=this.createContactEquation(m,p,o,e);return s.copy(E.normalA,T),s.scale(E.contactPointB,E.normalA,-f.radius),h(E.contactPointB,E.contactPointB,g),a(E.contactPointB,E.contactPointB,p.position),s.scale(S,E.normalA,C),a(E.contactPointA,_,S),h(E.contactPointA,E.contactPointA,v),a(E.contactPointA,E.contactPointA,m.position),this.contactEquations.push(E),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(E)),1},r.prototype[v.CONVEX]=r.prototype[v.CONVEX|v.RECTANGLE]=r.prototype[v.RECTANGLE]=r.prototype.convexConvex=function(t,e,i,n,o,l,c,d,p,f){var g=b,m=w,v=A,y=_,x=T,S=C,R=E,P=M,L=0,f="number"==typeof f?f:0,B=r.findSeparatingAxis(e,i,n,l,c,d,g);if(!B)return 0;a(R,c,i),u(g,R)>0&&s.scale(g,g,-1);var F=r.getClosestEdge(e,n,g,!0),O=r.getClosestEdge(l,d,g);if(-1===F||-1===O)return 0;for(var I=0;2>I;I++){var D=F,k=O,N=e,G=l,U=i,V=c,W=n,z=d,q=t,j=o;if(0===I){var Y;Y=D,D=k,k=Y,Y=N,N=G,G=Y,Y=U,U=V,V=Y,Y=W,W=z,z=Y,Y=q,q=j,j=Y}for(var X=k;k+2>X;X++){var H=G.vertices[(X+G.vertices.length)%G.vertices.length];s.rotate(m,H,z),h(m,m,V);for(var K=0,Z=D-1;D+2>Z;Z++){var Q=N.vertices[(Z+N.vertices.length)%N.vertices.length],J=N.vertices[(Z+1+N.vertices.length)%N.vertices.length];s.rotate(v,Q,W),s.rotate(y,J,W),h(v,v,U),h(y,y,U),a(x,y,v),s.rotate90cw(P,x),s.normalize(P,P),a(R,m,v);var $=u(P,R);(Z===D&&f>=$||Z!==D&&0>=$)&&K++}if(K>=3){if(p)return!0;var te=this.createContactEquation(q,j,N,G);L++;var Q=N.vertices[D%N.vertices.length],J=N.vertices[(D+1)%N.vertices.length];s.rotate(v,Q,W),s.rotate(y,J,W),h(v,v,U),h(y,y,U),a(x,y,v),s.rotate90cw(te.normalA,x),s.normalize(te.normalA,te.normalA),a(R,m,v);var $=u(te.normalA,R);s.scale(S,te.normalA,$),a(te.contactPointA,m,U),a(te.contactPointA,te.contactPointA,S),h(te.contactPointA,te.contactPointA,U),a(te.contactPointA,te.contactPointA,q.position),a(te.contactPointB,m,V),h(te.contactPointB,te.contactPointB,V),a(te.contactPointB,te.contactPointB,j.position),this.contactEquations.push(te),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(te))}}}return this.enableFrictionReduction&&this.enableFriction&&L&&this.frictionEquations.push(this.createFrictionFromAverage(L)),L};var Q=s.fromValues(0,0);r.projectConvexOntoAxis=function(t,e,i,r,n){var o,a,h=null,l=null,c=Q;s.rotate(c,r,-i);for(var d=0;d<t.vertices.length;d++)o=t.vertices[d],a=u(o,c),(null===h||a>h)&&(h=a),(null===l||l>a)&&(l=a);if(l>h){var p=l;l=h,h=p}var f=u(e,r);s.set(n,l+f,h+f)};var J=s.fromValues(0,0),$=s.fromValues(0,0),te=s.fromValues(0,0),ee=s.fromValues(0,0),ie=s.fromValues(0,0),re=s.fromValues(0,0);r.findSeparatingAxis=function(t,e,i,n,o,h,u){var l=null,c=!1,d=!1,p=J,f=$,g=te,m=ee,v=ie,x=re;if(t instanceof y&&n instanceof y)for(var b=0;2!==b;b++){var w=t,A=i;1===b&&(w=n,A=h);for(var _=0;2!==_;_++){0===_?s.set(m,0,1):1===_&&s.set(m,1,0),0!==A&&s.rotate(m,m,A),r.projectConvexOntoAxis(t,e,i,m,v),r.projectConvexOntoAxis(n,o,h,m,x);var T=v,S=x,C=!1;v[0]>x[0]&&(S=v,T=x,C=!0);var E=S[0]-T[1];c=0>=E,(null===l||E>l)&&(s.copy(u,m),l=E,d=c)}}else for(var b=0;2!==b;b++){var w=t,A=i;1===b&&(w=n,A=h);for(var _=0;_!==w.vertices.length;_++){s.rotate(f,w.vertices[_],A),s.rotate(g,w.vertices[(_+1)%w.vertices.length],A),a(p,g,f),s.rotate90cw(m,p),s.normalize(m,m),r.projectConvexOntoAxis(t,e,i,m,v),r.projectConvexOntoAxis(n,o,h,m,x);var T=v,S=x,C=!1;v[0]>x[0]&&(S=v,T=x,C=!0);var E=S[0]-T[1];c=0>=E,(null===l||E>l)&&(s.copy(u,m),l=E,d=c)}}return d};var ne=s.fromValues(0,0),oe=s.fromValues(0,0),se=s.fromValues(0,0);r.getClosestEdge=function(t,e,i,r){var n=ne,o=oe,h=se;s.rotate(n,i,-e),r&&s.scale(n,n,-1);for(var l=-1,c=t.vertices.length,d=-1,p=0;p!==c;p++){a(o,t.vertices[(p+1)%c],t.vertices[p%c]),s.rotate90cw(h,o),s.normalize(h,h);var f=u(h,n);(-1===l||f>d)&&(l=p%c,d=f)}return l};var ae=s.create(),he=s.create(),ue=s.create(),le=s.create(),ce=s.create(),de=s.create(),pe=s.create();r.prototype[v.CIRCLE|v.HEIGHTFIELD]=r.prototype.circleHeightfield=function(t,e,i,r,n,o,u,l,c,d){var p=o.data,d=d||e.radius,f=o.elementWidth,g=he,m=ae,v=ce,y=pe,x=de,b=ue,w=le,A=Math.floor((i[0]-d-u[0])/f),_=Math.ceil((i[0]+d-u[0])/f);0>A&&(A=0),_>=p.length&&(_=p.length-1);for(var T=p[A],S=p[_],C=A;_>C;C++)p[C]<S&&(S=p[C]),p[C]>T&&(T=p[C]);if(i[1]-d>T)return c?!1:0;i[1]+d<S;for(var E=!1,C=A;_>C;C++){s.set(b,C*f,p[C]),s.set(w,(C+1)*f,p[C+1]),s.add(b,b,u),s.add(w,w,u),s.sub(x,w,b),s.rotate(x,x,Math.PI/2),s.normalize(x,x),s.scale(m,x,-d),s.add(m,m,i),s.sub(g,m,b);var M=s.dot(g,x);if(m[0]>=b[0]&&m[0]<w[0]&&0>=M){if(c)return!0;E=!0,s.scale(g,x,-M),s.add(v,m,g),s.copy(y,x);var R=this.createContactEquation(n,t,o,e);s.copy(R.normalA,y),s.scale(R.contactPointB,R.normalA,-d),h(R.contactPointB,R.contactPointB,i),a(R.contactPointB,R.contactPointB,t.position),s.copy(R.contactPointA,v),s.sub(R.contactPointA,R.contactPointA,n.position),this.contactEquations.push(R),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(R))}}if(E=!1,d>0)for(var C=A;_>=C;C++)if(s.set(b,C*f,p[C]),s.add(b,b,u),s.sub(g,i,b),s.squaredLength(g)<Math.pow(d,2)){if(c)return!0;E=!0;var R=this.createContactEquation(n,t,o,e);s.copy(R.normalA,g),s.normalize(R.normalA,R.normalA),s.scale(R.contactPointB,R.normalA,-d),h(R.contactPointB,R.contactPointB,i),a(R.contactPointB,R.contactPointB,t.position),a(R.contactPointA,b,u),h(R.contactPointA,R.contactPointA,u),a(R.contactPointA,R.contactPointA,n.position),this.contactEquations.push(R),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(R))}return E?1:0};var fe=s.create(),ge=s.create(),me=s.create(),ve=new m([s.create(),s.create(),s.create(),s.create()]);r.prototype[v.RECTANGLE|v.HEIGHTFIELD]=r.prototype[v.CONVEX|v.HEIGHTFIELD]=r.prototype.convexHeightfield=function(t,e,i,r,n,o,a,h,u){var l=o.data,c=o.elementWidth,d=fe,p=ge,f=me,g=ve,m=Math.floor((t.aabb.lowerBound[0]-a[0])/c),v=Math.ceil((t.aabb.upperBound[0]-a[0])/c);0>m&&(m=0),v>=l.length&&(v=l.length-1);for(var y=l[m],x=l[v],b=m;v>b;b++)l[b]<x&&(x=l[b]),l[b]>y&&(y=l[b]);if(t.aabb.lowerBound[1]>y)return u?!1:0;for(var w=0,b=m;v>b;b++){s.set(d,b*c,l[b]),s.set(p,(b+1)*c,l[b+1]),s.add(d,d,a),s.add(p,p,a);var A=100;s.set(f,.5*(p[0]+d[0]),.5*(p[1]+d[1]-A)),s.sub(g.vertices[0],p,f),s.sub(g.vertices[1],d,f),s.copy(g.vertices[2],g.vertices[1]),s.copy(g.vertices[3],g.vertices[0]),g.vertices[2][1]-=A,g.vertices[3][1]-=A,w+=this.convexConvex(t,e,i,r,n,g,f,0,u)}return w}},function(t,e,i){function r(){o.call(this,o.SAP),this.axisList=[],this.world=null,this.axisIndex=0;var t=this.axisList;this._addBodyHandler=function(e){t.push(e.body)},this._removeBodyHandler=function(e){var i=t.indexOf(e.body);-1!==i&&t.splice(i,1)}}var n=i(2),o=i(18);t.exports=r,r.prototype=new o,r.prototype.setWorld=function(t){this.axisList.length=0,n.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},r.sortAxisList=function(t,e){e=0|e;for(var i=1,r=t.length;r>i;i++){for(var n=t[i],o=i-1;o>=0&&!(t[o].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);o--)t[o+1]=t[o];t[o+1]=n}return t},r.prototype.getCollisionPairs=function(){var t=this.axisList,e=this.result,i=this.axisIndex;e.length=0;for(var n=t.length;n--;){var s=t[n];s.aabbNeedsUpdate&&s.updateAABB()}r.sortAxisList(t,i);for(var a=0,h=0|t.length;a!==h;a++)for(var u=t[a],l=a+1;h>l;l++){var c=t[l],d=c.aabb.lowerBound[i]<=u.aabb.upperBound[i];if(!d)break;o.canCollide(u,c)&&this.boundingVolumeCheck(u,c)&&e.push(u,c)}return e}},function(t,e,i){function r(t,e,i){i=a.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),n.call(this,t,e,n.DISTANCE,i),this.localAnchorA=s.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=s.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var r=this.localAnchorA,h=this.localAnchorB;if(this.distance=0,"number"==typeof i.distance)this.distance=i.distance;else{var u=s.create(),l=s.create(),c=s.create();s.rotate(u,r,t.angle),s.rotate(l,h,e.angle),s.add(c,e.position,l),s.sub(c,c,u),s.sub(c,c,t.position),this.distance=s.length(c)}var d;d="undefined"==typeof i.maxForce?Number.MAX_VALUE:i.maxForce;var p=new o(t,e,-d,d);this.equations=[p],this.maxForce=d;var c=s.create(),f=s.create(),g=s.create(),m=this;p.computeGq=function(){var t=this.bodyA,e=this.bodyB,i=t.position,n=e.position;return s.rotate(f,r,t.angle),s.rotate(g,h,e.angle),s.add(c,n,g),s.sub(c,c,f),s.sub(c,c,i),s.length(c)-m.distance},this.setMaxForce(d),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var n=i(11),o=i(4),s=i(1),a=i(2);t.exports=r,r.prototype=new n;var h=s.create(),u=s.create(),l=s.create();r.prototype.update=function(){var t=this.equations[0],e=this.bodyA,i=this.bodyB,r=(this.distance,e.position),n=i.position,o=this.equations[0],a=t.G;s.rotate(u,this.localAnchorA,e.angle),s.rotate(l,this.localAnchorB,i.angle),s.add(h,n,l),s.sub(h,h,u),s.sub(h,h,r),this.position=s.length(h);var c=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(o.maxForce=0,o.minForce=-this.maxForce,this.distance=this.upperLimit,c=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(o.maxForce=this.maxForce,o.minForce=0,this.distance=this.lowerLimit,c=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!c)return void(o.enabled=!1);o.enabled=!0,s.normalize(h,h);var d=s.crossLength(u,h),p=s.crossLength(l,h);a[0]=-h[0],a[1]=-h[1],a[2]=-d,a[3]=h[0],a[4]=h[1],a[5]=p},r.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},r.prototype.getMaxForce=function(){var t=this.equations[0];return t.maxForce}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,n.GEAR,i),this.ratio="number"==typeof i.ratio?i.ratio:1,this.angle="number"==typeof i.angle?i.angle:e.angle-this.ratio*t.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new o(t,e,i)],"number"==typeof i.maxTorque&&this.setMaxTorque(i.maxTorque)}{var n=i(11),o=(i(4),i(66));i(1)}t.exports=r,r.prototype=new n,r.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},r.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},r.prototype.getMaxTorque=function(){return this.equations[0].maxForce}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,n.LOCK,i);var r="undefined"==typeof i.maxForce?Number.MAX_VALUE:i.maxForce,a=(i.localAngleB||0,new s(t,e,-r,r)),h=new s(t,e,-r,r),u=new s(t,e,-r,r),l=o.create(),c=o.create(),d=this;a.computeGq=function(){return o.rotate(l,d.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,l),c[0]},h.computeGq=function(){return o.rotate(l,d.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,l),c[1]};var p=o.create(),f=o.create();u.computeGq=function(){return o.rotate(p,d.localOffsetB,e.angle-d.localAngleB),o.scale(p,p,-1),o.sub(c,t.position,e.position),o.add(c,c,p),o.rotate(f,p,-Math.PI/2),o.normalize(f,f),o.dot(c,f)},this.localOffsetB=o.create(),i.localOffsetB?o.copy(this.localOffsetB,i.localOffsetB):(o.sub(this.localOffsetB,e.position,t.position),o.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,this.localAngleB="number"==typeof i.localAngleB?i.localAngleB:e.angle-t.angle,this.equations.push(a,h,u),this.setMaxForce(r)}var n=i(11),o=i(1),s=i(4);t.exports=r,r.prototype=new n,r.prototype.setMaxForce=function(t){for(var e=this.equations,i=0;i<this.equations.length;i++)e[i].maxForce=t,e[i].minForce=-t},r.prototype.getMaxForce=function(){return this.equations[0].maxForce};var a=o.create(),h=o.create(),u=o.create(),l=o.fromValues(1,0),c=o.fromValues(0,1);r.prototype.update=function(){var t=this.equations[0],e=this.equations[1],i=this.equations[2],r=this.bodyA,n=this.bodyB;o.rotate(a,this.localOffsetB,r.angle),o.rotate(h,this.localOffsetB,n.angle-this.localAngleB),o.scale(h,h,-1),o.rotate(u,h,Math.PI/2),o.normalize(u,u),t.G[0]=-1,t.G[1]=0,t.G[2]=-o.crossLength(a,l),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-o.crossLength(a,c),e.G[4]=1,i.G[0]=-u[0],i.G[1]=-u[1],i.G[3]=u[0],i.G[4]=u[1],i.G[5]=o.crossLength(h,u)}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,n.PRISMATIC,i);var r=a.fromValues(0,0),u=a.fromValues(1,0),l=a.fromValues(0,0);i.localAnchorA&&a.copy(r,i.localAnchorA),i.localAxisA&&a.copy(u,i.localAxisA),i.localAnchorB&&a.copy(l,i.localAnchorB),this.localAnchorA=r,this.localAnchorB=l,this.localAxisA=u;var c=this.maxForce="undefined"!=typeof i.maxForce?i.maxForce:Number.MAX_VALUE,d=new s(t,e,-c,c),p=new a.create,f=new a.create,g=new a.create,m=new a.create;if(d.computeGq=function(){return a.dot(g,m)},d.updateJacobian=function(){var i=this.G,n=t.position,o=e.position;a.rotate(p,r,t.angle),a.rotate(f,l,e.angle),a.add(g,o,f),a.sub(g,g,n),a.sub(g,g,p),a.rotate(m,u,t.angle+Math.PI/2),i[0]=-m[0],i[1]=-m[1],i[2]=-a.crossLength(p,m)+a.crossLength(m,g),i[3]=m[0],i[4]=m[1],i[5]=a.crossLength(f,m)},this.equations.push(d),!i.disableRotationalLock){var v=new h(t,e,-c,c);this.equations.push(v)}this.position=0,this.velocity=0,this.lowerLimitEnabled="undefined"!=typeof i.lowerLimit?!0:!1,this.upperLimitEnabled="undefined"!=typeof i.upperLimit?!0:!1,this.lowerLimit="undefined"!=typeof i.lowerLimit?i.lowerLimit:0,this.upperLimit="undefined"!=typeof i.upperLimit?i.upperLimit:1,this.upperLimitEquation=new o(t,e),this.lowerLimitEquation=new o(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=c,this.motorEquation=new s(t,e),this.motorEnabled=!1,this.motorSpeed=0;{var y=this,x=this.motorEquation;x.computeGW}x.computeGq=function(){return 0},x.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,r=e.velocity,n=i.velocity,o=e.angularVelocity,s=i.angularVelocity;return this.gmult(t,r,o,n,s)+y.motorSpeed}}var n=i(11),o=i(31),s=i(4),a=i(1),h=i(67);t.exports=r,r.prototype=new n;var u=a.create(),l=a.create(),c=a.create(),d=a.create(),p=a.create(),f=a.create();r.prototype.update=function(){var t=this.equations,e=t[0],i=this.upperLimit,r=this.lowerLimit,n=this.upperLimitEquation,o=this.lowerLimitEquation,s=this.bodyA,h=this.bodyB,g=this.localAxisA,m=this.localAnchorA,v=this.localAnchorB;e.updateJacobian(),a.rotate(u,g,s.angle),a.rotate(d,m,s.angle),a.add(l,d,s.position),a.rotate(p,v,h.angle),a.add(c,p,h.position);var y=this.position=a.dot(c,u)-a.dot(l,u);if(this.motorEnabled){var x=this.motorEquation.G;x[0]=u[0],x[1]=u[1],x[2]=a.crossLength(u,p),x[3]=-u[0],x[4]=-u[1],x[5]=-a.crossLength(u,d)}if(this.upperLimitEnabled&&y>i)a.scale(n.normalA,u,-1),a.sub(n.contactPointA,l,s.position),a.sub(n.contactPointB,c,h.position),a.scale(f,u,i),a.add(n.contactPointA,n.contactPointA,f),-1===t.indexOf(n)&&t.push(n);else{var b=t.indexOf(n);-1!==b&&t.splice(b,1)}if(this.lowerLimitEnabled&&r>y)a.scale(o.normalA,u,1),a.sub(o.contactPointA,l,s.position),a.sub(o.contactPointB,c,h.position),a.scale(f,u,r),a.sub(o.contactPointB,o.contactPointB,f),-1===t.indexOf(o)&&t.push(o);else{var b=t.indexOf(o);-1!==b&&t.splice(b,1)}},r.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},r.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},r.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,n.REVOLUTE,i);var r=this.maxForce="undefined"!=typeof i.maxForce?i.maxForce:Number.MAX_VALUE;this.pivotA=h.create(),this.pivotB=h.create(),i.worldPivot?(h.sub(this.pivotA,i.worldPivot,t.position),h.sub(this.pivotB,i.worldPivot,e.position),h.rotate(this.pivotA,this.pivotA,-t.angle),h.rotate(this.pivotB,this.pivotB,-e.angle)):(h.copy(this.pivotA,i.localPivotA),h.copy(this.pivotB,i.localPivotB));var f=this.equations=[new o(t,e,-r,r),new o(t,e,-r,r)],g=f[0],m=f[1],v=this;g.computeGq=function(){return h.rotate(u,v.pivotA,t.angle),h.rotate(l,v.pivotB,e.angle),h.add(p,e.position,l),h.sub(p,p,t.position),h.sub(p,p,u),h.dot(p,c)},m.computeGq=function(){return h.rotate(u,v.pivotA,t.angle),h.rotate(l,v.pivotB,e.angle),h.add(p,e.position,l),h.sub(p,p,t.position),h.sub(p,p,u),h.dot(p,d)},m.minForce=g.minForce=-r,m.maxForce=g.maxForce=r,this.motorEquation=new s(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new a(t,e),this.lowerLimitEquation=new a(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var n=i(11),o=i(4),s=i(68),a=i(67),h=i(1);t.exports=r;var u=h.create(),l=h.create(),c=h.fromValues(1,0),d=h.fromValues(0,1),p=h.create();r.prototype=new n,r.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},r.prototype.update=function(){var t=this.bodyA,e=this.bodyB,i=this.pivotA,r=this.pivotB,n=this.equations,o=(n[0],n[1],n[0]),s=n[1],a=this.upperLimit,p=this.lowerLimit,f=this.upperLimitEquation,g=this.lowerLimitEquation,m=this.angle=e.angle-t.angle;if(this.upperLimitEnabled&&m>a)f.angle=a,-1===n.indexOf(f)&&n.push(f);else{var v=n.indexOf(f);-1!==v&&n.splice(v,1)}if(this.lowerLimitEnabled&&p>m)g.angle=p,-1===n.indexOf(g)&&n.push(g);else{var v=n.indexOf(g);-1!==v&&n.splice(v,1)}h.rotate(u,i,t.angle),h.rotate(l,r,e.angle),o.G[0]=-1,o.G[1]=0,o.G[2]=-h.crossLength(u,c),o.G[3]=1,o.G[4]=0,o.G[5]=h.crossLength(l,c),s.G[0]=0,s.G[1]=-1,s.G[2]=-h.crossLength(u,d),s.G[3]=0,s.G[4]=1,s.G[5]=h.crossLength(l,d)},r.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},r.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},r.prototype.motorIsEnabled=function(){return!!this.motorEnabled},r.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},r.prototype.getMotorSpeed=function(){return this.motorEnabled?this.motorEquation.relativeVelocity:!1}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}{var n=i(4);i(1)}t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},r.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},r.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;var r=this.G;r[2]=1,r[5]=-1}var n=i(4),o=i(1);t.exports=r,r.prototype=new n,r.prototype.constructor=r;var s=o.create(),a=o.create(),h=o.fromValues(1,0),u=o.fromValues(0,1);r.prototype.computeGq=function(){return o.rotate(s,h,this.bodyA.angle+this.angle),o.rotate(a,u,this.bodyB.angle),o.dot(s,a)}},function(t,e,i){function r(t,e){n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}{var n=i(4);i(1)}t.exports=r,r.prototype=new n,r.prototype.constructor=r,r.prototype.computeB=function(t,e,i){var r=this.G;r[2]=-1,r[5]=this.ratio;var n=this.computeGiMf(),o=this.computeGW(),s=-o*e-i*n;return s}},function(t,e,i){function r(t,e,i){if(i=i||{},!(t instanceof n&&e instanceof n))throw new Error("First two arguments must be Material instances.");this.id=r.idCounter++,this.materialA=t,this.materialB=e,this.friction="undefined"!=typeof i.friction?Number(i.friction):.3,this.restitution="undefined"!=typeof i.restitution?Number(i.restitution):0,this.stiffness="undefined"!=typeof i.stiffness?Number(i.stiffness):o.DEFAULT_STIFFNESS,this.relaxation="undefined"!=typeof i.relaxation?Number(i.relaxation):o.DEFAULT_RELAXATION,this.frictionStiffness="undefined"!=typeof i.frictionStiffness?Number(i.frictionStiffness):o.DEFAULT_STIFFNESS,this.frictionRelaxation="undefined"!=typeof i.frictionRelaxation?Number(i.frictionRelaxation):o.DEFAULT_RELAXATION,this.surfaceVelocity="undefined"!=typeof i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}var n=i(33),o=i(4);t.exports=r,r.idCounter=0},function(t,e,i){function r(t,e,i){i=i||{},o.call(this,t,e,i),this.localAnchorA=n.fromValues(0,0),this.localAnchorB=n.fromValues(0,0),i.localAnchorA&&n.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&n.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);var r=n.create(),s=n.create();this.getWorldAnchorA(r),this.getWorldAnchorB(s);var a=n.distance(r,s);this.restLength="number"==typeof i.restLength?i.restLength:a}{var n=i(1),o=i(34);i(2)}t.exports=r,r.prototype=new o,r.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},r.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)
},r.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},r.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var s=n.create(),a=n.create(),h=n.create(),u=n.create(),l=n.create(),c=n.create(),d=n.create(),p=n.create(),f=n.create();r.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restLength,r=this.bodyA,o=this.bodyB,g=s,m=a,v=h,y=u,x=f,b=l,w=c,A=d,_=p;this.getWorldAnchorA(b),this.getWorldAnchorB(w),n.sub(A,b,r.position),n.sub(_,w,o.position),n.sub(g,w,b);var T=n.len(g);n.normalize(m,g),n.sub(v,o.velocity,r.velocity),n.crossZV(x,o.angularVelocity,_),n.add(v,v,x),n.crossZV(x,r.angularVelocity,A),n.sub(v,v,x),n.scale(y,m,-t*(T-i)-e*n.dot(v,m)),n.sub(r.force,r.force,y),n.add(o.force,o.force,y);var S=n.crossLength(A,y),C=n.crossLength(_,y);r.angularForce-=S,o.angularForce+=C}},function(t,e,i){function r(t,e,i){i=i||{},n.call(this,t,e,i),this.restAngle="number"==typeof i.restAngle?i.restAngle:e.angle-t.angle}var n=(i(1),i(34));t.exports=r,r.prototype=new n,r.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restAngle,r=this.bodyA,n=this.bodyB,o=n.angle-r.angle,s=n.angularVelocity-r.angularVelocity,a=-t*(o-i)-e*s*0;r.angularForce-=a,n.angularForce+=a}},function(t,e,i){function r(t,e){this.length=t||1,this.radius=e||1,n.call(this,n.CAPSULE)}var n=i(6),o=i(1);t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(t){var e=this.radius,i=this.length+e,r=2*e;return t*(r*r+i*i)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var s=o.create();r.prototype.computeAABB=function(t,e,i){var r=this.radius;o.set(s,this.length/2,0),0!==i&&o.rotate(s,s,i),o.set(t.upperBound,Math.max(s[0]+r,-s[0]+r),Math.max(s[1]+r,-s[1]+r)),o.set(t.lowerBound,Math.min(s[0]-r,-s[0]-r),Math.min(s[1]-r,-s[1]-r)),o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e)}},function(t,e,i){function r(t){this.length=t||1,n.call(this,n.LINE)}var n=i(6),o=i(1);t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var s=[o.create(),o.create()];r.prototype.computeAABB=function(t,e,i){var r=this.length/2;o.set(s[0],-r,0),o.set(s[1],r,0),t.setFromPoints(s,e,i,0)}},function(t,e,i){function r(t){s.call(this,t,s.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-10,this.arrayStep=30,this.lambda=new a.ARRAY_TYPE(this.arrayStep),this.Bs=new a.ARRAY_TYPE(this.arrayStep),this.invCs=new a.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=0,this.usedIterations=0}function n(t){for(var e=t.length;e--;)t[e]=0}var o=i(1),s=i(36),a=i(2),h=i(32);t.exports=r,r.prototype=new s,r.prototype.solve=function(t,e){this.sortEquations();var i=0,s=this.iterations,u=this.frictionIterations,l=this.equations,c=l.length,d=Math.pow(this.tolerance*c,2),p=e.bodies,f=e.bodies.length,g=(o.add,o.set,this.useZeroRHS),m=this.lambda;if(this.usedIterations=0,c)for(var v=0;v!==f;v++){var y=p[v];y.updateSolveMassProperties()}m.length<c&&(m=this.lambda=new a.ARRAY_TYPE(c+this.arrayStep),this.Bs=new a.ARRAY_TYPE(c+this.arrayStep),this.invCs=new a.ARRAY_TYPE(c+this.arrayStep)),n(m);for(var x=this.invCs,b=this.Bs,m=this.lambda,v=0;v!==l.length;v++){var w=l[v];(w.timeStep!==t||w.needsUpdate)&&(w.timeStep=t,w.update()),b[v]=w.computeB(w.a,w.b,t),x[v]=w.computeInvC(w.epsilon)}var w,A,v,_;if(0!==c){for(v=0;v!==f;v++){var y=p[v];y.resetConstraintVelocity()}if(u){for(i=0;i!==u;i++){for(A=0,_=0;_!==c;_++){w=l[_];var T=r.iterateEquation(_,w,w.epsilon,b,x,m,g,t,i);A+=Math.abs(T)}if(this.usedIterations++,d>=A*A)break}for(r.updateMultipliers(l,m,1/t),_=0;_!==c;_++){var S=l[_];if(S instanceof h){for(var C=0,E=0;E!==S.contactEquations.length;E++)C+=S.contactEquations[E].multiplier;C*=S.frictionCoefficient/S.contactEquations.length,S.maxForce=C,S.minForce=-C}}}for(i=0;i!==s;i++){for(A=0,_=0;_!==c;_++){w=l[_];var T=r.iterateEquation(_,w,w.epsilon,b,x,m,g,t,i);A+=Math.abs(T)}if(this.usedIterations++,d>=A*A)break}for(v=0;v!==f;v++)p[v].addConstraintVelocity();r.updateMultipliers(l,m,1/t)}},r.updateMultipliers=function(t,e,i){for(var r=t.length;r--;)t[r].multiplier=e[r]*i},r.iterateEquation=function(t,e,i,r,n,o,s,a){var h=r[t],u=n[t],l=o[t],c=e.computeGWlambda(),d=e.maxForce,p=e.minForce;s&&(h=0);var f=u*(h-c-i*l),g=l+f;return p*a>g?f=p*a-l:g>d*a&&(f=d*a-l),o[t]+=f,e.addToWlambda(f),f}},function(t,e,i){function r(){this.data={},this.keys=[]}var n=i(2);t.exports=r,r.prototype.getKey=function(t,e){return t=0|t,e=0|e,(0|t)===(0|e)?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},r.prototype.getByKey=function(t){return t=0|t,this.data[t]},r.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},r.prototype.set=function(t,e,i){if(!i)throw new Error("No data!");var r=this.getKey(t,e);return this.data[r]||this.keys.push(r),this.data[r]=i,r},r.prototype.reset=function(){for(var t=this.data,e=this.keys,i=e.length;i--;)delete t[e[i]];e.length=0},r.prototype.copy=function(t){this.reset(),n.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var i=t.keys[e];this.data[i]=t.data[i]}}},function(t,e,i){var r,n;r=[i(80),i(22)],n=function(t,e){var i,r=new t,n=[];return i=function(t,e,i){this._isPrimary=i===!0,this.name=t,this.hue=e,r.put(t,this),this._isPrimary&&n.push(this)},i.prototype={constructor:i,getHue:function(){return this.hue},getName:function(){return this.name},isPrimary:function(){return this._isPrimary},toString:function(){return"Hue: ID:"+this.name+" @ "+parseInt(360*this.hue,10)+" degrees"}},i.PRESETS={},e([["red",!0],["orange",!0],["yellow",!0],["lime"],["green",!0],["teal"],["cyan"],["azure"],["blue",!0],["indigo"],["purple",!0],["pink",!0]],function(t,e){var r=t[0],n=r.toUpperCase(),o=t[1];i[n]=new i(r,30*e/360,o),i.PRESETS[n]=i[n]}),i.PRIMARY_VARIANCE=.01,i.getClosest=function(t,i){t%=1,i=i===!0;var o,s=Number.MAX_VALUE,a=i?n:r.getArray();return e(a,function(e){var i=Math.min(Math.abs(e.getHue()-t),Math.abs(1+e.getHue()-t));s>i&&(s=i,o=e)}),o},i.getForName=function(t){return r.get(t)},i.isPrimary=function(t,e){e="number"==typeof e?e:i.PRIMARY_VARIANCE;for(var r=!1,o=0,s=n.length;s>o;o++){var a=n[o];if(Math.abs(t-a.getHue())<e){r=!0;break}}return r},i}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){var r;r=function(t,e){function i(t){var i=t+"DistanceProxy";e[i]=function(){},e[i].prototype.distanceBetween=function(e,i){return e["distanceTo"+t](i)}}i("HSV"),i("RGB"),i("CMYK")}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r,n;r=[i,e,t,i(10),i(23),i(13)],n=function(t,e){var r,n,o=i(10),s=i(23),a=i(13),h=s.XY,u=a.Rect;r=function(t,e){h(t)?(e=t.y,t=t.x):(t=t||0,e=e||0),this.x=t,this.y=e},r.Axis={X:{getVector:function(){return r.X_AXIS},toString:function(){return"Vec2D.Axis.X"}},Y:{getVector:function(){return r.Y_AXIS},toString:function(){return"Vec2D.Axis.Y"}}};var l=function(){var t={x:0,y:0};return function(e,i){return e&&"number"==typeof e.x&&"number"==typeof e.y?e:(void 0!==e&&void 0===i?i=e:void 0===e?e=0:void 0===i&&(i=0),t.x=e,t.y=i,t)}}();r.prototype={abs:function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},add:function(t,e){var i=new r(t,e);return i.x+=this.x,i.y+=this.y,i},addSelf:function(t,e){var i=l(t,e);return this.x+=i.x,this.y+=i.y,this},angleBetween:function(t,e){if(void 0===e){{this.dot(t)}return Math.acos(this.dot(t))}var i=e?this.getNormalized().dot(t.getNormalized()):this.dot(t);return Math.acos(i)},clear:function(){return this.x=this.y=0,this},compareTo:function(t){return this.x==t.x&&this.y==t.y?0:this.magSquared()-t.magSquared()},constrain:function(t,e){return h(t)&&h(e)?(this.x=o.clip(this.x,t.x,e.x),this.y=o.clip(this.y,t.y,e.y)):u(t)&&(this.x=o.clip(this.x,t.x,t.x+t.width),this.y=o.clip(this.y,t.y,t.y+t.height)),this},copy:function(){return new r(this)},cross:function(t){return this.x*t.y-this.y*t.x},distanceTo:function(t){if(void 0!==t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}return 0/0},distanceToSquared:function(t){if(void 0!==t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i}return 0/0},dot:function(t){return this.x*t.x+this.y*t.y},equals:function(t){return h(t)?this.x==t.x&&this.y==t.y:!1},equalsWithTolerance:function(t,e){return h(t)&&o.abs(this.x-t.x)<e&&o.abs(this.y-t.y)<e?!0:!1},floor:function(){return this.x=o.floor(this.x),this.y=o.floor(this.y),this},frac:function(){return this.x-=o.floor(this.x),this.y-=o.floor(this.y),this},getAbs:function(){return new r(this).abs()},getComponent:function(t){return"number"==typeof t&&(t=0===t?r.Axis.X:r.Axis.Y),t==r.Axis.X?this.x:t==r.Axis.Y?this.y:0},getConstrained:function(t){return new r(this).constrain(t)},getFloored:function(){return new r(this).floor()},getFrac:function(){return new r(this).frac()},getInverted:function(){return new r(-this.x,-this.y)},getLimited:function(t){return this.magSquared()>t*t?this.getNormalizedTo(t):new r(this)},getNormalized:function(){return new r(this).normalize()},getNormalizedTo:function(t){return new r(this).normalizeTo(t)},getPerpendicular:function(){return new r(this).perpendicular()},getReciprocal:function(){return new r(this).reciprocal()},getReflected:function(t){return new r(this).reflect(t)},getRotated:function(t){return new r(this).rotate(t)},getSignum:function(){return new r(this).signum()},heading:function(){return Math.atan2(this.y,this.x)},interpolateTo:function(t,e,i){return void 0===i?new r(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e):new r(i.interpolate(this.x,t.x,e),i.interpolate(this.y,t.y,e))},interpolateToSelf:function(t,e,i){return void 0===i?(this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e):(this.x=i.interpolate(this.x,t.x,e),this.y=i.interpolate(this.y,t.y,e)),this},invert:function(){return this.x*=-1,this.y*=-1,this},isInCircle:function(t,e){var i=this.sub(t).magSquared();return e*e>=i},isInRectangle:function(t){return this.x<t.x||this.x>t.x+t.width?!1:this.y<t.y||this.y>t.y+t.height?!1:!0},isInTriangle:function(t,e,i){var r=this.sub(t).normalize(),n=this.sub(e).normalize(),s=this.sub(i).normalize(),a=Math.acos(r.dot(n));return a+=Math.acos(n.dot(s)),a+=Math.acos(s.dot(r)),Math.abs(a-o.TWO_PI)<=.005},isMajorAxis:function(t){var e=Math.abs(this.x),i=Math.abs(this.y),r=1-t;return e>r?t>i:i>r?t>e:!1},isZeroVector:function(){return Math.abs(this.x)<o.EPS&&Math.abs(this.y)<o.EPS},jitter:function(t,e){var i=l(t,e);return this.x+=o.normalizedRandom()*i.x,this.y+=o.normalizedRandom()*i.y,this},limit:function(t){return this.magSquared()>t*t?this.normalize().scaleSelf(t):this},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magSquared:function(){return this.x*this.x+this.y*this.y},max:function(t){return new r(o.max(this.x,t.x),o.max(this.y,t.y))},maxSelf:function(t){return this.x=o.max(this.x,t.x),this.y=o.max(this.y,t.y),this},min:function(t){return new r(o.min(this.x,t.x),o.min(this.y,t.y))},minSelf:function(t){return this.x=o.min(this.x,t.x),this.y=o.min(this.y,t.y),this},normalize:function(){var t=this.x*this.x+this.y*this.y;return t>0&&(t=1/Math.sqrt(t),this.x*=t,this.y*=t),this},normalizeTo:function(t){var e=Math.sqrt(this.x*this.x+this.y*this.y);return e>0&&(e=t/e,this.x*=e,this.y*=e),this},perpendicular:function(){var t=this.x;return this.x=-this.y,this.y=t,this},positiveHeading:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);return this.y>=0?Math.acos(this.x/t):Math.acos(-this.x/t)+o.PI},reciprocal:function(){return this.x=1/this.x,this.y=1/this.y,this},reflect:function(t){return this.set(t.scale(2*this.dot(t)).subSelf(this))},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.x-i*this.y;return this.y=i*this.x+e*this.y,this.x=r,this},roundToAxis:function(){return Math.abs(this.x)<.5?this.x=0:(this.x=this.x<0?-1:1,this.y=0),Math.abs(this.y)<.5?this.y=0:(this.y=this.y<0?-1:1,this.x=0),this},scale:function(t,e){var i=l(t,e);return new r(this.x*i.x,this.y*i.y)},scaleSelf:function(t,e){var i=l(t,e);return this.x*=i.x,this.y*=i.y,this},set:function(t,e){var i=l(t,e);return this.x=i.x,this.y=i.y,this},setComponent:function(t,e){return"number"==typeof t&&(t=0===t?r.Axis.X:r.Axis.Y),t===r.Axis.X?this.x=e:t===r.Axis.Y&&(this.y=e),this},signum:function(){return this.x=this.x<0?-1:0===this.x?0:1,this.y=this.y<0?-1:0===this.y?0:1,this},sub:function(t,e){var i=l(t,e);return new r(this.x-i.x,this.y-i.y)},subSelf:function(t,e){var i=l(t,e);return this.x-=i.x,this.y-=i.y,this},tangentNormalOfEllipse:function(t,e){var i=this.sub(t),n=e.x*e.x,o=e.y*e.y;return new r(i.x/n,i.y/o).normalize()},toArray:function(){return[this.x,this.y]},toCartesian:function(){var t=this.x*Math.cos(this.y);return this.y=this.x*Math.sin(this.y),this.x=t,this},toPolar:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);return this.y=Math.atan2(this.y,this.x),this.x=t,this},toString:function(){var t="{x:"+this.x+", y:"+this.y+"}";return t}},r.prototype.bisect=function(t){var e=this.sub(t),i=this.add(t),r=e.dot(i);return new n(e.x,e.y,-r/2)},r.prototype.to3DXY=function(){return new n(this.x,this.y,0)},r.prototype.to3DXZ=function(){return new n(this.x,0,this.y)},r.prototype.to3DYZ=function(){return new n(0,this.x,this.y)},r.X_AXIS=new r(1,0),r.Y_AXIS=new r(0,1),r.ZERO=new r,r.MIN_VALUE=new r(Number.MIN_VALUE,Number.MIN_VALUE),r.MAX_VALUE=new r(Number.MAX_VALUE,Number.MAX_VALUE),r.fromTheta=function(t){return new r(Math.cos(t),Math.sin(t))},r.max=function(t,e){return new r(o.max(t.x,e.x),o.max(t.y,e.y))},r.min=function(t,e){return new r(o.min(t.x,e.x),o.min(t.y,e.y))},r.randomVector=function(){var t=new r(2*Math.random()-1,2*Math.random()-1);return t.normalize()},n=function(t,e,i){s.XYZ(t)?(this.x=t.x,this.y=t.y,this.z=t.z):void 0===t?(this.x=0,this.y=0,this.z=0):(this.x=t,this.y=e,this.z=i)},n.prototype={abs:function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this},add:function(t,e,i){return s.XYZ(t)?new n(this.x+t.x,this.y+t.y,this.z+t.z):new n(this.x+t,this.y+e,this.z+i)},addSelf:function(t,e,i){return void 0!==t&&void 0!==e&&void 0!==i?(this.x+=t,this.y+=e,this.z+=i):(this.x+=t.x,this.y+=t.y,this.z+=t.z),this},angleBetween:function(t,e){var i;return i=e?this.getNormalized().dot(t.getNormalized()):this.dot(t),Math.acos(i)},clear:function(){return this.x=this.y=this.z=0,this},compareTo:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z?0:this.magSquared()-t.magSqaured()},constrain:function(t,e){var i;return a.AABB(t)?(e=t.getMax(),i=t.getMin()):i=t,this.x=o.clip(this.x,i.x,e.x),this.y=o.clip(this.y,i.y,e.y),this.z=o.clip(this.z,i.z,e.z),this},copy:function(){return new n(this)},cross:function(t){return new n(this.y*t.z-t.y*this.z,this.z*t.x-t.z*this.x,this.x*t.y-t.x*this.y)},crossInto:function(t){var e=t.x,i=t.y,r=t.z;return result.x=this.y*r-i*this.z,result.y=this.z*e-r*this.x,result.z=this.x*i-e*this.y,result},crossSelf:function(t){var e=this.y*t.z-t.y*this.z,i=this.z*t.x-t.z*this.x;return this.z=this.x*t.y-t.x*this.y,this.y=i,this.x=e,this},distanceTo:function(t){if(void 0!==t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+i*i+r*r)}return 0/0},distanceToSquared:function(t){if(void 0!==t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}return 0/0},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t){return s.XYZ(t)?this.x==t.x&&this.y==t.y&&this.z==t.z:!1},equalsWithTolerance:function(t,e){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e?!0:!1},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},frac:function(){return this.x-=Math.floor(this.x),this.y-=Math.floor(this.y),this.z-=Math.floor(this.z),this},getAbs:function(){return new n(this).abs()},getComponent:function(t){switch("number"==typeof t&&(t=t===n.Axis.X?0:t===n.Axis.Y?1:2),t){case 0:return this.x;case 1:return this.y;case 2:return this.z}},getConstrained:function(t){return new n(this).constrain(t)},getFloored:function(){return new n(this).floor()},getFrac:function(){return new n(this).frac()},getInverted:function(){return new n(-this.x,-this.y,-this.z)},getLimited:function(t){return this.magSquared()>t*t?this.getNormalizedTo(t):new n(this)},getNormalized:function(){return new n(this).normalize()},getNormalizedTo:function(t){return new n(this).normalizeTo(t)},getReciprocal:function(){return this.copy().reciprocal()},getReflected:function(t){return this.copy().reflect(t)},getRotatedAroundAxis:function(t,e){return new n(this).rotateAroundAxis(t,e)},getRotatedX:function(t){return new n(this).rotateX(t)},getRotatedY:function(t){return new n(this).rotateY(t)},getRotatedZ:function(t){return new n(this).rotateZ(t)},getSignum:function(){return new n(this).signum()},headingXY:function(){return Math.atan2(this.y,this.x)},headingXZ:function(){return Math.atan2(this.z,this.x)},headingYZ:function(){return Math.atan2(this.y,this.z)},immutable:function(){return this},interpolateTo:function(t,e,i){return void 0===i?new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e,this.z+(t.z-this.z)*e):new n(i.interpolate(this.y,t.y,e),i.interpolate(this.y,t.y,e),i.interpolate(this.z,t.z,e))},interpolateToSelf:function(t,e,i){return void 0===i?(this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e):(this.x=i.interpolate(this.x,t.x,e),this.y=i.interpolate(this.y,t.y,e),this.z=i.interpolate(this.z,t.z,e)),this},invert:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},isInAABB:function(t,e){if(e){var i=e.x;if(this.x<t.x-i||this.x>t.x+i)return!1;if(i=e.y,this.y<t.y-i||this.y>t.y+i)return!1;if(i=e.y,this.z<t.z-i||this.y>t.z+i)return!1}return!0},isMajorAxis:function(t){var e=o.abs(this.x),i=o.abs(this.y),r=o.abs(this.z),n=1-t;if(e>n){if(t>i)return t>r}else if(i>n){if(t>e)return t>r}else if(r>n&&t>e)return t>i;return!1},isZeroVector:function(){return Math.abs(this.x)<o.EPS&&Math.abs(this.y)<o.EPS&&o.abs(this.z)<o.EPS},jitter:function(t,e,i){return(void 0===e||void 0===i)&&(e=i=t),this.x+=o.normalizedRandom()*t,this.y+=o.normalizedRandom()*e,this.z+=o.normalizedRandom()*i,this},limit:function(t){return this.magSquared()>t*t?this.normalize().scaleSelf(t):this},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},magSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},maxSelf:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},minSelf:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},modSelf:function(t,e,i){return(void 0===e||void 0===i)&&(e=i=t),this.x%=t,this.y%=e,this.z%=i,this},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return t>0&&(t=1/t,this.x*=t,this.y*=t,this.z*=t),this},normalizeTo:function(t){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e>0&&(e=t/e,this.x*=e,this.y*=e,this.z*=e),this},reciprocal:function(){return this.x=1/this.x,this.y=1/this.y,this.z=1/this.z,this},reflect:function(t){return this.set(t.scale(2*this.dot(t)).subSelf(this))},rotateAroundAxis:function(t,e){var i=t.x,r=t.y,n=t.z,o=i*this.x,s=i*this.y,a=i*this.z,h=r*this.x,u=r*this.y,l=r*this.z,c=n*this.x,d=n*this.y,p=n*this.z,f=Math.sin(e),g=Math.cos(e),m=i*(o+u+p)+(this.x*(r*r+n*n)-i*(u+p))*g+(-d+l)*f,v=r*(o+u+p)+(this.y*(i*i+n*n)-r*(o+p))*g+(c-a)*f,y=n*(o+u+p)+(this.z*(i*i+r*r)-n*(o+u))*g+(-h+s)*f;return this.x=m,this.y=v,this.z=y,this},rotateX:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.z-i*this.y;return this.y=i*this.z+e*this.y,this.z=r,this},rotateY:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.x-i*this.z;return this.z=i*this.x+e*this.z,this.x=r,this},rotateZ:function(t){var e=Math.cos(t),i=Math.sin(t),r=e*this.x-i*this.y;return this.y=i*this.x+e*this.y,this.x=r,this},roundToAxis:function(){return Math.abs(this.x)<.5?this.x=0:(this.x=this.x<0?-1:1,this.y=this.z=0),Math.abs(this.y)<.5?this.y=0:(this.y=this.y<0?-1:1,this.x=this.z=0),Math.abs(this.z)<.5?this.z=0:(this.z=this.z<0?-1:1,this.x=this.y=0),this},scale:function(t,e,i){return s.XYZ(t)?new n(this.x*t.x,this.y*t.y,this.z*t.z):((void 0===e||void 0===i)&&(e=i=t),new n(this.x*t,this.y*e,this.z*i))},scaleSelf:function(t,e,i){return s.XYZ(t)?(this.x*=t.x,this.y*=t.y,this.z*=t.z,this):((void 0===e||void 0===i)&&(e=i=t),this.x*=t,this.y*=e,this.z*=i,this)},set:function(t,e,i){return s.XYZ(t)?(this.x=t.x,this.y=t.y,this.z=t.z,this):((void 0===e||void 0===i)&&(e=i=t),this.x=t,this.y=e,this.z=i,this)},setXY:function(t){return this.x=t.x,this.y=t.y,this},shuffle:function(t){for(var e,i=0;t>i;i++)switch(Math.floor(3*Math.random())){case 0:e=this.x,this.x=this.y,this.z=e;break;case 1:e=this.x,this.x=this.z,this.z=e;break;case 2:e=this.y,this.y=this.z,this.z=e}return this},signum:function(){return this.x=this.x<0?-1:0===this.x?0:1,this.y=this.y<0?-1:0===this.y?0:1,this.z=this.z<0?-1:0===this.z?0:1,this},sub:function(t,e,i){return s.XYZ(t)?new n(this.x-t.x,this.y-t.y,this.z-t.z):((void 0===e||void 0===i)&&(e=i=t),new n(this.x-t,this.y-e,this.z-i))},subSelf:function(t,e,i){return s.XYZ(t)?(this.x-=t.x,this.y-=t.y,this.z-=t.z,this):((void 0===e||void 0===i)&&(e=i=t),this.x-=t,this.y-=e,this.z-=i,this)},to2DXY:function(){return new r(this.x,this.y)},to2DXZ:function(){return new r(this.x,this.z)},to2DYZ:function(){return new r(this.y,this.z)},toArray:function(){return[this.x,this.y,this.z]},toArray4:function(t){var e=this.toArray();return e[3]=t,e},toCartesian:function(){var t=this.x*Math.cos(this.z),e=t*Math.cos(this.y),i=this.x*Math.sin(this.z),r=t*Math.sin(this.y);return this.x=e,this.y=i,this.z=r,this},toSpherical:function(){var t=Math.abs(this.x)<=o.EPS?o.EPS:this.x,e=this.z,i=Math.sqrt(t*t+this.y*this.y+e*e);return this.z=Math.asin(this.y/i),this.y=Math.atan(e/t)+(0>t?Math.PI:0),this.x=i,this},toString:function(){return"[ x: "+this.x+", y: "+this.y+", z: "+this.z+"]"}},n.MIN_VALUE=new n(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),n.MAX_VALUE=new n(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n.fromXYTheta=function(t){return new n(Math.cos(t),Math.sin(t),0)},n.fromXZTheta=function(t){return new n(Math.cos(t),0,Math.sin(t))},n.fromYZTheta=function(t){return new n(0,Math.cos(t),Math.sin(t))},n.max=function(t,e){return new n(Math.max(t.x,e.x),Math.max(t.y,e.y),Math.max(t.z,e.z))},n.min=function(t,e){return new n(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.min(t.z,e.z))},n.randomVector=function(){var t=new n(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);return t.normalize()},n.ZERO=new n(0,0,0),n.X_AXIS=new n(1,0,0),n.Y_AXIS=new n(0,1,0),n.Z_AXIS=new n(0,0,1),n.Axis={X:{getVector:function(){return n.X_AXIS},toString:function(){return"Vec3D.Axis.X"}},Y:{getVector:function(){return n.Y_AXIS},toString:function(){return"Vec3D.Axis.Y"}},Z:{getVector:function(){return n.Z_AXIS},toString:function(){return"Vec3D.Axis.Z"}}},e.Vec2D=r,e.Vec3D=n}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){var r,n;r=[i(13)],n=function(t){var e=function(t){this.__it=t.slice(0)};e.prototype={hasNext:function(){return this.__it.length>0},next:function(){return this.__it.shift()}};var i=function(t){this.__obj={},this.__keys=[];for(var i in t)this.__obj[i]=t[i],this.__keys.push(i);this.__it=new e(this.__keys)};i.prototype={hasNext:function(){return this.__it.hasNext()},next:function(){var t=this.__it.next();return this.__obj[t]}};var r=function(r){return t.array(r)?new e(r):new i(r)};return r}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){var r,n;r=[i(22)],n=function(t){var e=function(t){this.__list=[],this.__map={},this.__inverseMap={},"function"==typeof t&&(this.generateKey=t)};return e.prototype={each:function(e){t(this.__map,e)},get:function(t){var e=this,i=function(){return void 0!==e.__inverseMap[t]?t:e.__map[t]},r=i();return void 0===r&&(t=this.generateKey(t),r=i()),r},generateKey:function(t){return t.toString()},getArray:function(){return this.__list},has:function(t){var e=this,i=function(t){return void 0!==e.__map[t]||void 0!==e.__inverseMap[t]};return i(t)?!0:i(this.generateKey(t))},put:function(t,e){t=this.generateKey(t),this.__map[t]=e,this.__inverseMap[e]=t,this.__list.push(e)},remove:function(t){t=this.get(t);var e=this.__inverseMap[t];return delete this.__inverseMap[t],delete this.__map[e],this.__list.splice(this.__list.indexOf(t),1)[0]},size:function(){return this.__list.length},values:function(){return this.getArray().slice(0)}},e}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function n(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,r,s,a,h,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],o(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),h=1;s>h;h++)a[h-1]=arguments[h];r.apply(this,a)}else if(n(r)){for(s=arguments.length,a=new Array(s-1),h=1;s>h;h++)a[h-1]=arguments[h];for(u=r.slice(),s=u.length,h=0;s>h;h++)u[h].apply(this,a)}return!0},e.prototype.addListener=function(t,r){var s;if(!i(r))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(r.listener)?r.listener:r),this._events[t]?n(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,n(this._events[t])&&!this._events[t].warned){var s;s=o(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},e.prototype.removeListener=function(t,e){var r,o,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,o=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(0>o)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},function(t,e,i){"use strict";var r=i(17)["default"],n=i(86),o=i(87),s=i(88),a=i(85),h=i(83),u=i(89),l=i(96),c=l.loadBuffer,d=i(24),p=i(100),f=i(102),g=i(7);t.exports=function(){return function(){function t(){X.init(),D=new n(Z),U=p(function(){m(2.25,.75)},x)}function e(){f(z)}function i(){U()}function l(t){q.gain.value=t}function m(t,e){return y(),g({volume:0},t,{volume:j,delay:e||0,ease:Linear.easeNone,onUpdate:function(){l(this.target.volume)}})}function v(t){return g({volume:q.gain.value},t,{volume:0,ease:Linear.easeNone,onUpdate:function(){l(this.target.volume)}}).then(function(){x()})}function y(){H||(l(0),Y.connect(z.destination),H=!0,D.start())}function x(){H&&(Y.disconnect(),H=!1,D.stop())}function b(t,e,i){return D.createTrack(t,e,i)}function w(t,e,i,r){return D.createLoopingTrack(t,e,i,r)}function A(t,e,i){for(var r={},n=0;n<t.length;n++){var o=t[n].beat;r[o]=r[o]||[],r[o].push(t[n])}return b(r,e,i)}function _(t){D.addTrack(t)}function T(t){D.removeTrack(t)}function S(t,e,i,r){return new o(r,e,i,t)}function C(t,e){k={},N={};for(var i=r.Object.keys(t).sort(function(t,e){return t.localeCompare(e)}),n=0;n<i.length;n++){var o=i[n],s=t[o],a=S(o,s.start,s.end,e);k[o]=a,N[a.guid]=a}}function E(t,e,i){return new s(i,t,e)}function M(t,e){V={},G={};for(var i=0;i<t.length;i++){var r=t[i],n=E(r.name,r.beats,e);V[r.name]=n,G[n.guid]=n}}function R(t){return"number"==typeof t?N[t]:k[t]}function P(t){return"number"==typeof t?G[t]:V[t]}function L(t,e){var i=e?e.target:q;return R(t).play(i)}function B(t,e){var i=e?e.target:q;D.playNext(R(t),i)}function F(t){return c(z,d(t)).then(function(t){for(var e in k)k.hasOwnProperty(e)&&k[e].setBuffer(t)})}function O(t,e,i,r){X.schedule(e-z.currentTime,t,i,r)}function I(t){X.tick(t)}var D,k,N,G,U,V={},W=window.AudioContext||window.webkitAudioContext,z=new W,q=z.createGain(),j=1;l(j);var Y=z.createAnalyser();q.connect(Y);var X=new a,H=!1,K=new h(z,q),Z={init:t,tearDown:i,analyser:Y,audioContext:z,playbackBus:X,load:F,defineSounds:C,defineSoundLoops:M,channels:K,setVolume:l,addTrack:_,removeTrack:T,createTrack:b,createLoopingTrack:w,createRecordedTrack:A,fadeOut:v,fadeIn:m,willPlayback:O,render:I,playSoundImmediately:L,playSoundOnNextBeat:B,getSound:R,getSoundLoop:P,unlockOnMobile:e,getSequencer:function(){return D},addTag:function(t){return u.addTag(t)},getTag:function(t){return u.getTag(t)},noteDuration:function(){return D.noteDuration}};return Z}}()},function(t,e,i){"use strict";var r=i(7);t.exports=function(){function t(t,e,i){var r=t.createGain();r.connect(e);var n=t.createAnalyser();n.connect(r),this.output=r,this.analyser=n,this.target=n,this.muted=!0,this.baseVolume=i,this.setVolume=function(t){r.gain.value=t}}var e=.5,i=1,n=.2;return function(o,s){function a(){var e=void 0===arguments[0]?.5:arguments[0],i=new t(o,s,e);return d.push(i),u(i),i}function h(t,i){if(!t.muted){i=i||e,t.muted=!0;var o=n*t.baseVolume;r({volume:t.baseVolume},i,{volume:o,ease:Linear.easeNone,onUpdate:function(){t.setVolume(this.target.volume)}})}}function u(t,e){if(t.muted){e=e||i;var o=n*t.baseVolume;t.setVolume(o),t.muted=!1,r({volume:o},e,{volume:t.baseVolume,ease:Linear.easeNone,onUpdate:function(){t.setVolume(this.target.volume)}})}}function l(t,e){for(var i=0;i<d.length;i++){var r=d[i];r!==t&&h(r,e)}}function c(t,e){for(var i=0;i<d.length;i++){var r=d[i];r!==t&&u(r,e)}}var d=[];return{create:a,muteAllExcept:l,unmuteAllExcept:c}}}()},function(t){"use strict";t.exports=function(){return function(){function t(){return"("+e+")(this);"}function e(t){function e(){postMessage("tick")}var i=null,r=100,n=self.setInterval,o=self.clearInterval;t.onmessage=function(t){"start"===t.data?i=n(e,r):t.data.interval?(r=t.data.interval,i&&(o(i),i=n(e,r))):"stop"===t.data&&(o(i),i=null)}}function i(){var e=new Blob([t()],{type:"text/javascript"});return URL.createObjectURL(e)}function r(){l&&(l.terminate(),l=null),u&&(URL.revokeObjectURL(u),u=null)
}function n(t){if(!l)throw"This worker is dead.";l.postMessage(t)}function o(){n("start")}function s(){n("stop")}function a(t){n({interval:t})}function h(t){if(!l)throw"This worker is dead.";l.addEventListener("message",function(e){t(e.data)})}var u=i(),l=new Worker(u);return{onTick:h,setInterval:a,start:o,stop:s,kill:r}}}()},function(t,e,i){"use strict";var r=i(9),n=i(98),o=i(45),s=i(5),a=s.Utils.ARRAY_TYPE,h=i(81),u=h.EventEmitter;t.exports=function(){var t="onPlayback",e="BEAT";return function(){function i(){f=new u,r.addListener("SCHEDULED_BEAT",d)}function s(t){g=t,y.forEach(h),x.forEach(l)}function h(e){g>=e[0]?(y.remove(e),f.emit(t,e[1],e[2],e[3]),m.free(e)):e[0]-=g}function l(t){g>=t[0]?(x.remove(t),r.emit(e,t[1]),v.free(t)):t[0]-=g}function c(t,e,i,r){var n=m.allocate(t,i,r,e);y.push(n)}function d(t,e){var i=v.allocate(e,t);x.push(i)}function p(e){f.addListener(t,e)}var f,g,m=new n(function(){return[]},function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]}),v=new n(function(){return new a(2)},function(t,e){t[0]=e[0],t[1]=e[1]}),y=new o,x=new o;return{tick:s,schedule:c,onPlayback:p,init:i}}}()},function(t,e,i){"use strict";var r=i(84),n=i(44),o=i(9),s=64,a=100,h=100,u=60/h,l=.25*u,c=.1;t.exports=function(t){function e(){T=w.currentTime,S.start()}function i(){S.stop()}function h(){for(;T<w.currentTime+c;)m(_,T),f()}function u(){return s*l}function d(){return s}function p(){return l}function f(){T+=l,_++,_===s&&(_=0)}function g(t,e){t.play(e,T+l)}function m(t,e){o.emit("SCHEDULED_BEAT",t,e-w.currentTime);for(var i in A)A.hasOwnProperty(i)&&A[i].playNote(t,e,l)}function v(t){A[t.id]=t}function y(t){delete A[t.id]}function x(e,i,r){return new n(t,e,i,r)}function b(t,e,i,r){for(var n={},o=0;s>o;o+=e)n[o.toString()]=[{sound:t}];return x(n,i,r)}var w=t.audioContext,A={},_=0,T=0,S=new r;return S.setInterval(a),S.onTick(h),{addTrack:v,loopLength:d,loopLengthSecs:u,beatLength:p,removeTrack:y,createTrack:x,createLoopingTrack:b,start:e,stop:i,playNext:g,noteDuration:l}}},function(t){"use strict";t.exports=function(){var t=1;return function(e,i,r,n){function o(t){h=t}function s(t,e,n){if(h){var o=u.createBufferSource();o.buffer=h;var s=u.createGain();o.connect(s),s.connect(t);var a=e||0,c=n||r-i;return o.start(a||0,i,c),l=u.currentTime,s}}var a=t++,h=null,u=e.audioContext,l=0;return{guid:a,play:s,name:n,setBuffer:o}}}()},function(t,e,i){"use strict";var r=i(17)["default"];t.exports=function(){var t=1e4;return function(e,i,n){function o(t,i,r,o,a,h){for(var u=e.audioContext.createGain(),l=0;l<s.length;l++){var c=n[s[l].toString()];if(c&&c.length)for(var d=0;d<c.length;d++){var p=c[d],f=p.sound,g=e.getSound(f);e.willPlayback(g.play(u,i+l*o),i+l*o,{beatNum:a+l},h)}}return u.connect(t),u}var s=r.Object.keys(n).map(function(t){return parseInt(t,10)});return{play:o,name:i,guid:t++}}}()},function(t){"use strict";t.exports=function(){function t(t){if("undefined"!=typeof r[t])return r[t];if(n>32)throw"Too many bits";var e=1<<n++;return r[t]=e,e}function e(t){var e=r[t];if("undefined"==typeof e)throw"Unknown tag: "+t;return r[t]}function i(t,e){return 0!==(t&e)}var r=Object.create(null),n=0;return{addTag:t,getTag:e,matches:i}}()},function(t,e,i){"use strict";var r=i(109),n=i(82),o=i(99),s=i(144),a=i(130),h=i(127),u=i(129),l=i(128),c=i(8),d=c.Promise,p=i(16),f=i(9),g=i(24),m=i(97);t.exports=function(){function t(){C.unlockOnMobile()}function e(){var t=void 0===arguments[0]?a:arguments[0],e=void 0===arguments[1]?u:arguments[1];s.use(),I&&(t=h,e=l),C=new n,C.defineSounds(t.spritemap,C),C.defineSoundLoops(e,C),C.load(t.resources[0]).then(function(){window.experiment&&"function"==typeof window.experiment.didFinishLoading?window.experiment.didFinishLoading(D):i()})}function i(){var t=void 0===arguments[0]?".row":arguments[0],e=void 0===arguments[1]?".box":arguments[1],i=void 0===arguments[2]?[0,0]:arguments[2];return f.init(),C.init(),B.init(),M=new o(C),E=new r(C,M,B),R&&E.didEnterRecordingMode(R),P&&E.didExitRecordingMode(P),B.pushState("#playing"),B.onOpenInstrument(function(t){E.openViewByPID(t,!0)}),B.onReturnToRoot(function(){E.closeCurrentView(!0)}),B.onCloseExperiment(function(){"function"==typeof L&&L()}),C.fadeIn(2.25,.75),E.init(t,e),M.init(),M.loadSerializedOrDefault(),E.start(),new d(function(t,e){p(function(){E.animateIn(i).then(t,e),"undefined"!=typeof console&&"function"==typeof console.log&&(console.log("Welcome to the 2015 I/O Experiment."),console.log("If you're interested in how to programatically manipulate it, explore the README: https://gist.github.com/tdreyno/b6de4902c7e886f94b67"),console.log("Need a dance partner? Run `experiment.consoleDance()`"))},50)})}function c(t){t=t||"";var e=window.location.origin+window.location.pathname+"?experiment&composition="+M.toURL()+"&"+t;return v(e)}function v(t){var e=""+k+"?key="+N;return new d(function(i,r){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8");var o=JSON.stringify({longUrl:t});n.onreadystatechange=function(){if(4===n.readyState&&200===n.status)try{var t=JSON.parse(this.responseText);i(t.id)}catch(e){r("Parsing URL Shortener result failed.")}else 200!==n.status&&r("Requesting URL Shortener result failed.")},n.send(o)})}function y(){var t=void 0===arguments[0]?[0,0]:arguments[0];return B.tearDown(),C.fadeOut(.5).then(function(){C.tearDown()}),E.animateOut(t).then(function(){E.cleanUp()})}function x(){C.fadeOut(.75)}function b(){C.fadeIn(.75)}function w(t){R=t}function A(t){P=t}function _(t){L=t}function T(){E.reloadData()}function S(){function t(){var t=s.clientWidth,e=s.clientHeight,i=document.createElement("canvas");i.width=t,i.height=e;var n=i.getContext("2d");setTimeout(r,20,s,t,e,n)}function e(t){var e=Math.floor(t*h);return a[e]}function i(t){for(var i=t.data,r=t.width,s=t.height,a="\n\n\n\n\n\n\n ",h=0;s>h;h+=n){for(var u=h*r*4,l=0;r>l;l+=o){var c=u+4*l,d=i[c],p=i[c+1],f=i[c+2],g=Math.ceil(.299*d+.587*p+.114*f),m=e(g);255===d&&255===p&&255===f&&(m=" "),a+=m}a+="\n "}console.log("%c"+a,"font-family: monospace; line-height: 0px; font-size: 10px;")}function r(t,e,n,o){o.drawImage(t,0,0,e,n),i(o.getImageData(0,0,e,n)),setTimeout(r,40,t,e,n,o)}if(!G){G=!0;var n=10,o=5,s=document.createElement("video");s.style.visibility="hidden",document.body.appendChild(s),s.setAttribute("autoplay","true"),s.setAttribute("loop","true"),s.addEventListener("loadeddata",t,!1),s.src=g("left-shark.mp4");var a="@*!y;,-':` ".split(""),h=a.length/256}}var C,E,M,R,P,L,B=new m,F=new Date,O=3===F.getMonth()&&1===F.getDate(),I=O||window.location.href.match(/meow/),D={load:e,start:i,serialize:c,tearDown:y,pause:x,play:b,didEnterRecordingMode:w,didExitRecordingMode:A,didRequestExit:_,reloadData:T,consoleDance:S,unlockOnMobile:t},k="https://www.googleapis.com/urlshortener/v1/url",N="AIzaSyBRMm_PwR1cfjT_yLxBiV9PDrwZPRIRLxg",G=!1;return D}},function(t,e,i){"use strict";var r=i(14);t.exports=function(){function t(t){return{recorded:[{beat:0,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:6,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:12,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:18,quadrant:2,sound:t.getSoundLoop("arp3").guid},{beat:24,quadrant:2,sound:t.getSoundLoop("arp3").guid},{beat:30,quadrant:3,sound:t.getSoundLoop("arp4").guid},{beat:36,quadrant:3,sound:t.getSoundLoop("arp4").guid},{beat:42,quadrant:3,sound:t.getSoundLoop("arp4").guid},{beat:48,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:54,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:60,quadrant:0,sound:t.getSoundLoop("arp1").guid},{beat:0,quadrant:0,sound:t.getSoundLoop("arp1").guid}]}}var e=r.defineSchema("ArpeggiatorNoteModel","beat",Number,"quadrant",Number,"sound",Number),i=r.defineSchema("ArpeggiatorInstrumentModel","recorded",[e]);return{ArpeggiatorNoteModel:e,ArpeggiatorInstrumentModel:i,getDefault:t,getRootModel:function(){return i}}}()},function(t,e,i){"use strict";var r=i(14);t.exports=function(){function t(t){return{drums:[{x:-347.5097656250001,y:62.109375,radius:70,color:11765759,hovercolor:9923327,sound:t.getSound("drumSnare").guid,pid:0},{x:-154.1503906250001,y:223.2421875,radius:35,color:4532128,hovercolor:6306511,sound:t.getSound("drumKick").guid,pid:1},{x:2.6855468749998863,y:-279.4921875,radius:150,color:15591414,hovercolor:16777215,sound:t.getSound("drumClap").guid,pid:2},{x:-39.208984375000114,y:9.47265625,radius:70,color:11765759,hovercolor:9923327,sound:t.getSound("drumSnare").guid,pid:3},{x:233.6425781249999,y:310.25390625,radius:35,color:4532128,hovercolor:6306511,sound:t.getSound("drumKick").guid,pid:4},{x:379.7363281249999,y:.87890625,radius:150,color:15591414,hovercolor:16777215,sound:t.getSound("drumClap").guid,pid:5}],emitters:[{x:-200,y:700,beatModulo:2},{x:0,y:700,beatModulo:4},{x:250,y:700,beatModulo:8}],recorded:[{beat:0,sound:t.getSound("drumClap").guid,pid:6},{beat:3,sound:t.getSound("drumSnare").guid,pid:4},{beat:4,sound:t.getSound("drumKick").guid,pid:5},{beat:7,sound:t.getSound("drumSnare").guid,pid:4},{beat:8,sound:t.getSound("drumClap").guid,pid:6},{beat:11,sound:t.getSound("drumSnare").guid,pid:4},{beat:12,sound:t.getSound("drumKick").guid,pid:5},{beat:15,sound:t.getSound("drumSnare").guid,pid:4},{beat:16,sound:t.getSound("drumClap").guid,pid:6},{beat:19,sound:t.getSound("drumSnare").guid,pid:4},{beat:20,sound:t.getSound("drumKick").guid,pid:5},{beat:23,sound:t.getSound("drumSnare").guid,pid:4},{beat:24,sound:t.getSound("drumClap").guid,pid:6},{beat:27,sound:t.getSound("drumSnare").guid,pid:4},{beat:28,sound:t.getSound("drumKick").guid,pid:5},{beat:31,sound:t.getSound("drumSnare").guid,pid:4},{beat:32,sound:t.getSound("drumClap").guid,pid:6},{beat:35,sound:t.getSound("drumSnare").guid,pid:4},{beat:36,sound:t.getSound("drumKick").guid,pid:5},{beat:39,sound:t.getSound("drumSnare").guid,pid:4},{beat:40,sound:t.getSound("drumClap").guid,pid:6},{beat:43,sound:t.getSound("drumSnare").guid,pid:4},{beat:44,sound:t.getSound("drumKick").guid,pid:5},{beat:47,sound:t.getSound("drumSnare").guid,pid:4},{beat:48,sound:t.getSound("drumClap").guid,pid:6},{beat:51,sound:t.getSound("drumSnare").guid,pid:4},{beat:52,sound:t.getSound("drumKick").guid,pid:5},{beat:55,sound:t.getSound("drumSnare").guid,pid:4},{beat:56,sound:t.getSound("drumClap").guid,pid:6},{beat:59,sound:t.getSound("drumSnare").guid,pid:4},{beat:60,sound:t.getSound("drumKick").guid,pid:5},{beat:63,sound:t.getSound("drumSnare").guid,pid:4}]}}var e=r.defineSchema("DrumModel","pid",Number,"x",Number,"y",Number,"radius",Number,"color",Number,"sound",Number),i=r.defineSchema("DotEmitter","x",Number,"y",Number,"beatModulo",Number),n=r.defineSchema("DrumNoteModel","beat",Number,"sound",Number,"pid",Number),o=r.defineSchema("DrumInstrumentModel","recorded",[n],"drums",[e],"emitters",[i]);return{DrumModel:e,DrumNoteModel:n,DrumInstrumentModel:o,getDefault:t,getRootModel:function(){return o}}}()},function(t,e,i){"use strict";var r=i(14);t.exports=function(){function t(t){return{rows:3,cols:5,strings:[{pid:0,pointA:4,pointB:11},{pid:7,pointA:0,pointB:10},{pid:15,pointA:1,pointB:8},{pid:20,pointA:7,pointB:6}],recorded:[{beat:4,sound:t.getSound("stringbass_F").guid,pid:0},{beat:5,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:8,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:10,sound:t.getSound("stringbass_A-sharp").guid,pid:7},{beat:13,sound:t.getSound("stringbass_G").guid,pid:15},{beat:14,sound:t.getSound("stringbass_F").guid,pid:0},{beat:17,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:19,sound:t.getSound("stringbass_A-sharp").guid,pid:7},{beat:21,sound:t.getSound("stringbass_G").guid,pid:15},{beat:23,sound:t.getSound("stringbass_F").guid,pid:0},{beat:25,sound:t.getSound("stringbass_G").guid,pid:15},{beat:26,sound:t.getSound("stringbass_F").guid,pid:0},{beat:27,sound:t.getSound("stringbass_A-sharp").guid,pid:7},{beat:29,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:31,sound:t.getSound("stringbass_G").guid,pid:15},{beat:33,sound:t.getSound("stringbass_F").guid,pid:0},{beat:36,sound:t.getSound("stringbass_F").guid,pid:0},{beat:37,sound:t.getSound("stringbass_A-sharp").guid,pid:7},{beat:41,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:42,sound:t.getSound("stringbass_F").guid,pid:0},{beat:43,sound:t.getSound("stringbass_G").guid,pid:15},{beat:45,sound:t.getSound("stringbass_F").guid,pid:0},{beat:48,sound:t.getSound("stringbass_F").guid,pid:0},{beat:49,sound:t.getSound("stringbass_A-sharp").guid,pid:7},{beat:53,sound:t.getSound("stringbass_C2").guid,pid:20},{beat:53,sound:t.getSound("stringbass_F").guid,pid:0},{beat:55,sound:t.getSound("stringbass_G").guid,pid:15},{beat:58,sound:t.getSound("stringbass_F").guid,pid:0},{beat:58,sound:t.getSound("stringbass_G").guid,pid:15},{beat:60,sound:t.getSound("stringbass_F").guid,pid:0},{beat:62,sound:t.getSound("stringbass_A-sharp").guid,pid:7}]}}var e=r.defineSchema("GuitarStringModel","pid",Number,"pointA",Number,"pointB",Number),i=r.defineSchema("GuitarNoteModel","beat",Number,"sound",Number,"pid",Number),n=r.defineSchema("GuitarInstrumentModel","recorded",[i],"strings",[e],"rows",Number,"cols",Number);return{GuitarStringModel:e,GuitarNoteModel:i,GuitarInstrumentModel:n,getDefault:t,getRootModel:function(){return n}}}()},function(t,e,i){"use strict";var r=i(14),n=i(50);t.exports=function(){function t(t){return{recorded:[{beat:1,cube:[-1,2,-1],sound:t.getSound("hexagon2").guid},{beat:16,cube:[3,0,-3],sound:t.getSound("hexagon4").guid},{beat:28,cube:[1,0,-1],sound:t.getSound("hexagon4").guid},{beat:36,cube:[-1,2,-1],sound:t.getSound("hexagon2").guid},{beat:52,cube:[3,0,-3],sound:t.getSound("hexagon4").guid},{beat:63,cube:[0,-1,1],sound:t.getSound("hexagon3").guid}]}}var e=r.defineSchema("HexagonNoteModel","beat",Number,"cube",n,"sound",Number),i=r.defineSchema("HexagonInstrumentModel","recorded",[e]);return{HexagonNoteModel:e,HexagonInstrumentModel:i,getDefault:t,getRootModel:function(){return i}}}()},function(t,e,i){"use strict";var r=i(14);t.exports=function(){function t(t){return{parallelograms:[{sound:t.getSound("parallelogram_D-sharp-major").guid,color:16777215,hovercolor:15924221},{sound:t.getSound("parallelogram_G-minor").guid,color:5099744,hovercolor:4050142},{sound:t.getSound("parallelogram_G-sharp-major").guid,color:11660018,hovercolor:10479342},{sound:t.getSound("parallelogram_A-sharp-major").guid,color:38823,hovercolor:43453},{sound:t.getSound("parallelogram_C-minor").guid,color:24676,hovercolor:31621}],recorded:[{beat:62,sound:t.getSound("parallelogram_D-sharp-major").guid,duration:5.1,pid:0},{beat:30,sound:t.getSound("parallelogram_G-sharp-major").guid,duration:5.6,pid:2}]}}var e=r.defineSchema("ParallelogramNoteModel","beat",Number,"sound",Number,"duration",Number,"pid",Number),i=r.defineSchema("ParallelogramModel","sound",Number,"color",Number,"hovercolor",Number),n=r.defineSchema("ParallelogramInstrumentModel","recorded",[e],"parallelograms",[i]);return{ParallelogramNoteModel:e,ParallelogramInstrumentModel:n,getDefault:t,getRootModel:function(){return n}}}()},function(t,e,i){"use strict";var r=i(8),n=r.Promise;t.exports=function(){function t(t,i){return new n(function(r,n){if(e[i])return void r(e[i]);var o=new XMLHttpRequest;o.open("GET",i,!0),o.responseType="arraybuffer",o.onload=function(){t.decodeAudioData(o.response,function(t){return t?(e[i]=t,void r(t)):void console.warn("error decoding file data: "+i)},function(t){n("decodeAudioData error",t)})},o.onerror=function(){n("BufferLoader: XHR error")},o.send()})}var e={};return{loadBuffer:t}}()},function(t){"use strict";t.exports=function(){return function(){function t(t){u=t}function e(t){l=t}function i(t){c=t}function r(t){history.replaceState({fromHashChange:!0},null,t)}function n(t){history.pushState({fromHashChange:!0},null,t)}function o(){history.back()}function s(){if("#playing"===document.location.hash)return void("function"==typeof l&&setTimeout(l,50));var t=document.location.hash.match(/\#editing-(.*)/);if(t){var e=parseInt(t[1],10);return void(isNaN(e)||setTimeout(u.bind(null,e),50))}""===document.location.hash&&"function"==typeof c&&setTimeout(c,50)}function a(){window.addEventListener("popstate",s)}function h(){window.removeEventListener("popstate",s),n("#")}var u,l,c,d={onOpenInstrument:t,onReturnToRoot:e,onCloseExperiment:i,setState:r,pushState:n,init:a,tearDown:h,goBack:o};return d}}()},function(t,e,i){"use strict";var r=i(45);t.exports=function(t,e,i){function n(t){if(d)for(var e=0;t>e;e++)h.push(u())}function o(){if(d){h.isEmpty()&&n(c);var t=h.pop();return l(t,arguments),t}}function s(t){d&&h.push(t)}function a(){h.length=0,d=!1}var h=new r,u=t,l=e,c=i||100,d=!0;return{preAllocate:n,allocate:o,free:s,destroy:a,size:function(){return h.count()}}}},function(t,e,i){"use strict";var r=i(14);t.exports=function(){return function(t){function e(t,e,i){var r={name:t,model:e,getter:i};f.push(r),g[t]=r}function i(){for(var t=f.sort(function(t,e){return t.name.localeCompare(e.name)}),e=[],i=0;i<t.length;i++)e.push(t[i].name),e.push(t[i].model.getRootModel());c=r.defineSchema.apply(r,["MasterModel"].concat(e))}function n(){d=null;var t=window.location.href.match(/composition=([a-z0-9\(\)\_\.\-]+)/);if(t){var e=t[1];o(e)}else if(window.experiment&&"function"==typeof window.experiment.customData){var i=window.experiment.customData();s(i)}d||a(),p=d.toURL()}function o(t){d=c.loadFromString(t)}function s(t){d=c.loadFromJSON(t)}function a(){for(var e={},i=0;i<f.length;i++){var r=f[i].name;e[r]=f[i].model.getDefault(t)}d=c.loadFromJSON(e)}function h(){for(var t in g)g.hasOwnProperty(t)&&(d[t]=g[t].getter())}function u(){o(p)}function l(){return h(),d.toURL()}var c,d,p,f=[],g={},m={registerInstrument:e,init:i,getAllData:h,toURL:l,loadSerializedOrDefault:n,reloadFirstLoadData:u,currentData:function(){return d}};return m}}()},function(t){"use strict";t.exports=function(t,e){var i=function(){return"hidden"}();if(i){var r=i.replace(/hidden/,"")+"visibilitychange",n=function(){document[i]?e():t()};return document.addEventListener(r,n,!1),function(){document.removeEventListener(r,n)}}}},function(t,e,i){"use strict";var r=i(3);t.exports=function(){return function(t){var e=new Image;e.src=t;var i=new r.BaseTexture(e);i.imageUrl=t,i.resolution=2;var n=new r.Texture(i);return new r.Sprite(n)}}()},function(t){"use strict";t.exports=function(t){function e(){if(i){var r=t.createBuffer(1,1,22050),n=t.createBufferSource();n.buffer=r,n.connect(t.destination),n.start(0),setTimeout(function(){(n.playbackState===n.PLAYING_STATE||n.playbackState===n.FINISHED_STATE)&&(i=!1,window.removeEventListener("touchstart",e))},0)}}var i=!(!window.navigator.userAgent.match(/Safari/)||!window.navigator.userAgent.match(/Mobile/));i&&window.addEventListener("touchstart",e,!1)}},function(t,e,i){"use strict";var r=i(15)["default"],n=i(3),o=i(7),s=i(5),a=s.vec2,h=i(37),u=i(38),l=i(40),c=i(111),d=i(9),p=i(44),f=i(91),g=f.ArpeggiatorNoteModel;t.exports=function(){function t(t){var e=new h;return e.addColorAt(x.getAt(0),u.newHex(t[0])),e.addColorAt(x.getAt(.33),u.newHex(t[1])),e.addColorAt(x.getAt(.66),u.newHex(t[2])),e.addColorAt(x.getAt(1),u.newHex(t[3])),e.calcGradient(0,y).colors}var e=i(51),s=e.selectedTheme,m=e[s],v=6,y=6,x=new l(0,y),b=t(m.quadrants[0]),w=t(m.quadrants[1]),A=t(m.quadrants[2]),_=t(m.quadrants[3]),T=t(m.center),S=[["arp1",v],["arp2",v],["arp3",v],["arp4",v]],C="ArpeggiatorView";return function(t){function e(e,i,r){X=i,H=r,Q=new n.Graphics,Q.scale.x=Q.scale.y=.35,E();var o=new n.Circle(0,0,ge);Q.beginFill(16777215),Q.alpha=.55,Q.pivot.x=0,Q.pivot.y=0,Q.drawShape(o),H.addChild(Q),ce=!0,re=new p(t,{},ae,se),d.addListener("BEAT",function(t){$=t,"expand"===ue&&t%v===0&&I()}),t.playbackBus.onPlayback(function(t,e){if(!he&&e&se)if("undefined"==typeof t.beatNum)"collapsed"===ue&&N(t.quadrant);else for(var i=t.beatNum%v,r=0;y>r;r++){var n=y-1;r===i&&K[n-r].pulse()}})}function i(e){J&&t.removeTrack(J),ie=e,J=t.createRecordedTrack(ie.recorded,ae,se),t.addTrack(J)}function s(){Q.interactive=!0,Q.buttonMode=!0,Q.defaultCursor="-webkit-grab",Q.mouseover=function(){Q.alpha=.75},Q.mouseout=function(){Q.alpha=.55},Q.mousedown=Q.touchstart=function(){pe=!0,Q.defaultCursor="-webkit-grabbing"},Q.mouseup=Q.mouseupoutside=Q.touchend=Q.touchendoutside=function(){pe=!1,Q.defaultCursor="-webkit-grab"},Q.mousemove=Q.touchmove=function(t){pe&&k(t.global.x-ne/2,t.global.y-oe/2)},document.addEventListener("keydown",u),document.addEventListener("keyup",l)}function h(){Q.interactive=!1,Q.buttonMode=!1,Q.mousedown=Q.touchstart=null,Q.mouseup=Q.mouseupoutside=Q.touchend=Q.touchendoutside=null,Q.mousemove=Q.touchmove=null,Q.mouseover=null,Q.mouseout=null,document.removeEventListener("keydown",l),document.removeEventListener("keyup",l)}function u(t){if(t.keyCode>=me[0]&&t.keyCode<=me[1]){var e=t.keyCode-me[0],i=U(e),n=r(i,2),o=n[0],s=n[1];k(o,s),pe=!0}}function l(t){t.keyCode>=me[0]&&t.keyCode<=me[1]&&(pe=!1)}function x(t){return t*(Math.PI/180)}function E(){for(var t=0,e=[],i=0;y>i;i++){var r=M(i,t),n=r.model,o=r.currentRotation;e.push(n),t=o}e=e.sort(function(t,e){return e[1]-t[1]}),K=[];for(var s=0;s<e.length;s++)le.push(R(e[s]));K=K.reverse()}function M(t,e){var i=Math.abs(be-t),r=Math.abs(be-(t>=y-1?0:t+1)),n=~~(Math.random()*ve*2);n>xe&&(n=xe);var o=ye+n;xe-=n,t===y-1&&(o+=xe);var s=x(o),a=x(e),h=P(s,a),u=!1,l=!1;i===be?(u=!0,l=!0):0===i||(r>i?l=!0:u=!0);var c=y-t-1,d=[b[c],w[c],A[c],_[c],T[c]];return{currentRotation:e+o,model:[h,i,d,u,l,t]}}function R(t){var e=new n.DisplayObjectContainer,i=new c(e,t[0],t[1],t[2],t[3],t[4],0);i.render(),H.addChild(e);var r=t[5];return K[r]=i,i}function P(t,e){var i=Math.max(1.2*window.innerHeight,1.2*window.innerWidth),r=a.fromValues(0,i);a.rotate(r,r,e);var o=a.create();a.rotate(o,r,t);var s=new n.Point(0,0),h=new n.Point(r[0],r[1]),u=new n.Point(o[0],o[1]);return new n.Polygon(s,h,u)}function L(){ue="collapsed",o.to(Q.scale,.5,{x:.35,y:.35,ease:Back.easeInOut}),t.addTrack(J),h()}function B(){ue="expand",o.to(Q.scale,.5,{x:1,y:1,ease:Back.easeInOut,delay:.45}),t.removeTrack(J),s()}function F(){fe=!0,ie.recorded=[]}function O(){fe=!1,J=t.createRecordedTrack(ie.recorded,ae,se)}function I(){if(pe){var e=S[Z],i=new g({beat:$,quadrant:Z,sound:t.getSoundLoop(S[Z][0]).guid});re.playSound(e[0],t.audioContext.currentTime,null,null,$,i),fe&&ie.recorded.push(i)}}function D(t){Z!==t&&(Z=t)}function k(t,e){we=t,Ae=e;for(var i=0;y>i;i++)le[i].updateCenterPoint(t,e);Q.position.x=t,Q.position.y=e;var r=G(t,e);D(r)}function N(t){var e=U(t),i=r(e,2),n=i[0],o=i[1];_e=n,Te=o}function G(t,e){return 0>=t&&0>=e?0:0>=t&&e>0?1:t>0&&0>=e?2:3}function U(t){var e=te-2*ge,i=ee-2*ge;return 0===t?[e/-2,i/-2]:1===t?[e/-2,i/2]:2===t?[e/2,i/-2]:3===t?[e/2,i/2]:void 0}function V(t,e,i,r){ne=t,oe=e,te=i,ee=r,ce&&("expand"===ue||de||(k(0,0),de=!0))}function W(t){he||("expand"===ue?z(t):q(t))}function z(){}function q(){if(_e!==we||Te!==Ae){var t=we+.07*(_e-we),e=Ae+.07*(Te-Ae),i=Math.abs(t-we),r=Math.abs(e-Ae);i>=.1&&r>=.1?k(t,e):(_e=we,Te=Ae)}}function j(){he=!0}function Y(){he=!1}var X,H,K,Z,Q,J,$,te,ee,ie,re,ne,oe,se=t.addTag(C),ae=t.channels.create(.45),he=!1,ue="collapsed",le=[],ce=!1,de=!1,pe=!1,fe=!1,ge=54,me=[49,52],ve=15,ye=360/y-ve,xe=y*ve,be=y/2,we=0,Ae=0,_e=0,Te=0;return{init:e,animationCollapsed:L,animationExpanded:B,enable:Y,disable:j,render:W,resize:V,startRecording:F,stopRecording:O,loadData:i,name:C,backgroundColor:m.center[0],dataModel:f,getData:function(){return ie},getChannel:function(){return ae}}}}()},function(t,e,i){"use strict";var r=i(3),n=i(5),o=i(9),s=i(112),a=i(114),h=i(92),u=h.DrumNoteModel;t.exports=function(){var t="DrumView",e=[49,57];return function(i){function l(t,e,n,s){F=t,U=e,G=n,q=s,I=new r.DisplayObjectContainer,G.addChild(I),k=new r.DisplayObjectContainer,N=new r.DisplayObjectContainer,G.addChild(N),G.addChild(k),D=y(I,0,-re,4e3,10),B.on("postBroadphase",function(t){for(var e=t.pairs,i=e.length-2;i>=0;i-=2){var r=e[i],n=e[i+1],o="ball"===r.customType&&"ball"===n.customType;o&&e.splice(i,2)}}),B.on("beginContact",function(t){x(t.bodyA,t.bodyB)}),o.addListener("BEAT",function(t){W=t}),i.playbackBus.onPlayback(function(t,e){if(!Q&&e&j&&"collapsed"===J){var i=H[t.pid];i&&i.showCollision()}}),te=!0}function c(t){ee&&O.recorded.push(new u({beat:W,pid:t.pid,sound:i.getSound(t.soundName).guid}))}function d(){ee=!0,O.recorded=[]}function p(){ee=!1,z=i.createRecordedTrack(O.recorded,Y,j)}function f(){return $+=1}function g(t){z&&i.removeTrack(z);for(var e=0;e<X.length;e++)X[e].tearDown(),k.removeChild(X[e].container),N.removeChild(X[e].hitCircleContainer),delete H[X[e].pid];O=t,z=i.createRecordedTrack(O.recorded,Y,j),i.addTrack(z);var r=O.drums.slice(0);r.sort(function(t,e){return t.radius-e.radius}),X=r.map(function(t){var e=new a(t,t.color,t.hovercolor,t.sound,B,q);return e.setPosition(t.x,t.y),e.onActivate(function(t){i.playSoundOnNextBeat(t.soundName,Y),c(t)}),e.onDragStart(m),e.onDragEnd(v),k.addChild(e.container),N.addChild(e.hitCircleContainer),H[e.pid]=e,e}),V=O.emitters.map(function(t){var e=new s(q);return e.init(F,G,B,t.x,t.y,K,f,t.beatModulo,i),e})}function m(t){return"undefined"!=typeof ne?!1:(ne=t.pid,!0)}function v(t){return ne!==t.pid?!1:(ne=void 0,!0)}function y(t,e,i,r,o,s){var a,h;s?(a=new n.Circle(r),h=new n.Body({position:[e,i],mass:1,angularVelocity:10,angle:1,velocity:[1,1],damping:.05})):t===I&&(a=new n.Rectangle(r,o),h=new n.Body({position:[e,i],mass:0,type:4})),h.addShape(a),B.addBody(h);var u=h;return s?u.customType="ball":t===I&&(u.customType="floor"),u.pid=Z,u.worlds=B,Z+=1,u}function x(t,e){"floor"===e.customType&&(K[t.pid].destroy(),delete K[t.pid])}function b(){Q=!0}function w(){Q=!1}function A(){J="collapsed",T(),i.addTrack(z),C()}function _(){J="expand",i.removeTrack(z),S()}function T(){for(var t=0;t<V.length;t++)V[t].killAllDots()}function S(){o.addListener("BEAT",M),X.forEach(function(t){return t.addEventListeners()}),document.addEventListener("keyup",E)}function C(){o.removeListener("BEAT",M),X.forEach(function(t){return t.removeEventListeners()}),document.removeEventListener("keyup",E)}function E(t){if(t.keyCode>=e[0]&&t.keyCode<=e[1]){var i=t.keyCode-e[0];X[i]&&X[i].activate()}}function M(t){for(var e=0;e<V.length;e++)V[e].onBeat(t)}function R(t,e,i){if(te){var r=i/ie;G.scale.x=r,G.scale.y=-r}}function P(t){Q||"expand"===J&&(L(t),B.step(1/60))}function L(t){for(var e=0;e<X.length;e++)X[e].render(t);I.position.y=D.position[1],I.position.x=D.position[0]-2e3;for(var i in K)K.hasOwnProperty(i)&&K[i].render()}var B=new n.World({gravity:[0,-900.78],broadphase:new n.SAPBroadphase});B.applySpringForces=!1,B.applyDamping=!1,B.emitImpactEvent=!1,B.narrowphase.enableFriction=!1,B.narrowphase.enableFrictionReduction=!1,B.defaultContactMaterial.friction=0,B.solver.tolerance=.02;var F,O,I,D,k,N,G,U,V,W,z,q,j=i.addTag(t),Y=i.channels.create(.6),X=[],H={},K={},Z=0,Q=!1,J="collapsed",$=6e3,te=!1,ee=!1,ie=1100,re=1e3;s.clearTextureCache();var ne;return{init:l,animationCollapsed:A,animationExpanded:_,enable:w,disable:b,render:P,resize:R,startRecording:d,stopRecording:p,loadData:g,name:t,dataModel:h,getData:function(){return O},backgroundColor:8146431,getChannel:function(){return Y},requiresAntialiasing:!0}}}()},function(t,e,i){"use strict";var r=i(17)["default"],n=i(3),o=i(9),s=i(5),a=s.vec2,h=i(116),u=i(115),l=i(93),c=l.GuitarStringModel,d=l.GuitarNoteModel;t.exports=function(){var t="GuitarView",e=[49,57];return function(i){function s(t){pe.push(t)}function p(t){var e=pe.indexOf(t);e>-1&&pe.splice(e,1)}function f(t,e,r,n){U=t,W=e,V=r,Z=n,V.addChild(ie),V.addChild(re),V.addChild(ne),o.addListener("BEAT",function(t){Y=t}),i.playbackBus.onPlayback(function(t,e){$||e&Q&&"collapsed"===te&&he[t.pid]&&he[t.pid].playNote()}),le=!0}function g(t){X&&i.removeTrack(X);for(var e in he)he.hasOwnProperty(e)&&(he[e].tearDown(),delete ue[e],s(e));if(!(t.strings.length<=0)){H=t,K=t.rows*t.cols;for(var r=Math.ceil(K/2),n=0;r>n;n++)s(n);T();for(var n=0;n<t.strings.length;n++){var o=b(t.strings[n]);he[o.getPID()]=o}X=i.createRecordedTrack(H.recorded,J,Q),i.addTrack(X)}}function m(){de=!0}function v(){ce=!0,de=!1,H.recorded=[]}function y(){X=i.createRecordedTrack(H.recorded,J,Q),ce=!1}function x(t,e){ce&&H.recorded.push(new d({beat:Y,sound:i.getSound(e).guid,pid:t}))}function b(t){p(t.pid);var e=ue[t.pointA],r=ue[t.pointB],n=new h(i,J,new c,Z);return n.init(t.pid,re,ie),n.updateSpacing(z,q),n.onActivate(x),e.setString(n),r.setString(n),n.setDots(e,r),re.setChildIndex(e.gridDotMiddle,re.children.length-1),re.setChildIndex(r.gridDotMiddle,re.children.length-1),n}function w(){U.interactive=!0;var t;U.mousedown=U.touchstart=function(e){V.data=e,t=e.global.clone()},U.mousemove=U.touchmove=function(e){if(!oe&&!se){if(!ae&&!ce&&!de&&t){var i=e.global.x-t.x,r=e.global.y-t.y,n=Math.sqrt(i*i+r*r);n>20&&(ae=!0)}for(var o in he)he.hasOwnProperty(o)&&he[o].dragMouseCollisionCheck(e)}},U.mouseup=U.touchend=function(){ae=!1,t=null};for(var e in ue)ue.hasOwnProperty(e)&&ue[e].addEventListeners();document.addEventListener("keyup",_)}function A(){U.interactive=!1,U.mousedown=U.touchstart=U.mousemove=U.touchmove=U.mouseup=U.touchend=null;for(var t in ue)ue.hasOwnProperty(t)&&ue[t].removeEventListeners();document.removeEventListener("keyup",_)}function _(t){if(t.keyCode>=e[0]&&t.keyCode<=e[1]){var i=t.keyCode-e[0],n=r.Object.keys(he)[i];he[n]&&(he[n].activate(),he[n].playNote())}}function T(){for(var t in ue)if(ue.hasOwnProperty(t)){var e=ue[t],i=e.gridDotMiddle,r=e.gridDot,n=e.gridDotUpper;ue[t].tearDown(),ie.removeChild(r),ne.removeChild(n),re.removeChild(i),delete ue[t]}for(var o=0;K>o;o++){var s=new u(o,Z);s.onActivate(S);var i=s.gridDotMiddle,r=s.gridDot,n=s.gridDotUpper;ie.addChild(r),ne.addChild(n),re.addChild(i),ue[s.pid]=s}I(),L()}function S(t){if(!(ae||ce||de)&&"collapsed"!==te)if(oe||t.getString()||se)if(!oe||t.getString()||se)if(oe||!t.getString()||se)if(oe||t.getString()||!se)if(oe||t.getString()||!se)if(!oe||t.getString()||se){var e=he[j];e&&e.getFirstDot()===t&&E(t)}else E(t);else E(t);else R(t);else M(t);else R(t);else C(t)}function C(t){if(!oe){var e=pe.pop();j=e,oe=!0;var r=new h(i,J,new c);r.init(e,re,ie),r.onActivate(x),r.setFirstDot(t),r.updatePoints(t.getPosition(),t.getPosition()),t.setString(r),re.setChildIndex(t.gridDotMiddle,re.children.length-1),he[e]=r,ie.interactive=!0,ie.mousemove=ie.touchmove=function(e){var i=e.getLocalPosition(this.parent);r.updatePointsMouse(t.getPosition(),i)}}}function E(t){var e=t.getString();se=!1,oe=!1,t.setString(null);var i=e.getPID();delete he[i],s(i),e.destroy(),ie.interactive=!1,ie.mousemove=ie.touchmove=null}function M(t){if(!se){se=!0;var e=t.getString();j=e.getPID();var i=e.getFirstDot();i===t&&(e.setFirstDot(e.getSecondDot()),i=e.getFirstDot()),e.setSecondDot(null),t.setString(null),e.bumpStringDepths(),re.setChildIndex(i.gridDotMiddle,re.children.length-1),ie.interactive=!0,ie.mousemove=ie.touchmove=function(t){t.originalEvent.preventDefault();var r=t.getLocalPosition(this.parent);e.updatePointsMouse(i.getPosition(),r)}}}function R(t){oe=!1,se=!1;var e=he[j];e.setSecondDot(t),e.updateSpacing(z,q),t.setString(e),re.setChildIndex(t.gridDotMiddle,re.children.length-1),ie.interactive=!1,ie.mousemove=ie.touchmove=null}function P(t,e,i,r){var n=a.fromValues(t*i,e*r);return a.rotate(n,n,ee),n}function L(){for(var t=-Math.floor(H.cols/2),e=t,i=-Math.floor(H.rows/2),r=0,o=0;K>o;o++){var s=P(e,i,z,q);ue[o].setPosition(new n.Point(s[0],s[1])),e+=1,r+=1,r>H.cols-1&&(r=0,e=t,i+=1)}}function B(){te="collapsed",i.addTrack(X),A()}function F(){te="expand",i.removeTrack(X),w()}function O(t,e,i,r){le&&(fe=i,ge=r,I())}function I(){if(H){fe>=ge?(z=fe/(H.cols-1),q=ge/(H.rows-1),ee=0):(z=ge/(H.cols-1),q=fe/(H.rows-1),ee=Math.PI/2);for(var t in he)if(he.hasOwnProperty(t)){var e=he[t];e.updateSpacing(z,q)}L()}}function D(t){if(!$)for(var e in he)he.hasOwnProperty(e)&&he[e].render(t)}function k(){$=!0}function N(){$=!1}function G(){H.strings=[];for(var t in he)if(he.hasOwnProperty(t)){var e=he[t];H.strings.push(e.getModel())}return H}var U,V,W,z,q,j,Y,X,H,K,Z,Q=i.addTag(t),J=i.channels.create(.8),$=!1,te="collapsed",ee=0,ie=new n.DisplayObjectContainer,re=new n.DisplayObjectContainer,ne=new n.DisplayObjectContainer,oe=!1,se=!1,ae=!1,he={},ue={},le=!1,ce=!1,de=!1,pe=[];
u.clearTextureCache();var fe,ge;return{init:f,animationCollapsed:B,animationExpanded:F,enable:N,disable:k,render:D,resize:O,startCountdown:m,startRecording:v,stopRecording:y,getData:G,loadData:g,name:t,dataModel:l,backgroundColor:1402048,getChannel:function(){return J},supportsPortrait:!0,requiresAntialiasing:!0}}}()},function(t,e,i){"use strict";var r=i(15)["default"],n=i(117),o=i(50),s=i(5),a=s.vec2,h=i(9),u=i(94),l=u.HexagonNoteModel;t.exports=function(){function t(t){var e=t.getRowColumn(),i=r(e,2),n=i[1],o=Math.abs((n-2)%5);return"hexagon"+(5-o)}var e="HexagonView",i=6;return function(r){function s(t,e,i,n){B=e,L=i,W=n,h.addListener("BEAT",function(t){I=t}),r.playbackBus.onPlayback(function(t,e){z||e&q&&p(t.cube,!0)})}function c(t){D=t,k=a.fromValues(D,0),N=a.create(),a.rotate(N,k,2*Math.PI/i),G=a.distance(k,N),U=G/2,V=Math.sqrt(D*D-U*U)}function d(t){F&&r.removeTrack(F),O=t,F=r.createRecordedTrack(O.recorded,j,q),r.addTrack(F)}function p(e,i){if(!i){r.playSoundImmediately(t(e),j);var n=new l({beat:I,sound:r.getSound(t(e)).guid,cube:e});O.recorded.push(n)}for(var o=0;f(e,o++,.1*o););}function f(t,e,i){var r=!1;return t.getRing(e).forEach(function(t){var e=.035*Math.random();t.hexagon&&(t.hexagon.activate(i+e),r=!0)}),r}function g(t,e){var i=new n(D,14896972,W),r=2*V*t;return e%2!==0&&(r-=V),i.container.position.x=(U+D)*e,i.container.position.y=r,i.onActivate(p),i}function m(t,e){var i=o.evenQToCube(t,e);return i.hexagon?i:(i.hexagon=g(t,e),i.hexagon.setCube(i),L.addChild(i.hexagon.container),i)}function v(t){var e=t.getCube();L.removeChild(t.container),e&&e.hexagon&&(e.hexagon=null)}function y(){for(var t=2*V,e=Math.ceil(window.innerHeight/t/2),i=(2*D+G)/2,r=Math.ceil(window.innerWidth/i/2),n=[],o=-e;e>=o;o++)for(var s=-r;r>=s;s++)n.push(m(o,s));return n.map(function(t){return t.hexagon})}function x(){X="collapsed",r.addTrack(F),A()}function b(){X="expand",r.removeTrack(F),w()}function w(){K||(K=!0,H.forEach(function(t){return t.addEventListeners()}),document.addEventListener("keyup",_))}function A(){K&&(K=!1,H.forEach(function(t){return t.removeEventListeners()}),document.removeEventListener("keyup",_))}function _(t){if(t.keyCode>=Q[0]&&t.keyCode<=Q[1]){var e=t.keyCode-2-Q[0],i=o.evenQToCube(0,e,0);p(i)}}function T(t,e,i){if(Z!==i){var r=K;r&&A(),H.forEach(v),Z=i,c(~~(i/5/2)),n.clearTextureCache(),H=y(),r&&w()}}function S(t){for(var e=0;e<H.length;e++)H[e].render(t||0)}function C(){Y=!0,O.recorded=[]}function E(){Y=!1,F=r.createRecordedTrack(O.recorded,j,q)}function M(){z=!0}function R(){z=!1}function P(){H.forEach(v)}var L,B,F,O,I,D,k,N,G,U,V,W,z=!1,q=r.addTag(e),j=r.channels.create(.65),Y=!1,X="collapsed",H=[],K=!1;n.clearTextureCache();var Z,Q=[49,53];return{init:s,animationCollapsed:x,animationExpanded:b,enable:R,disable:M,render:S,resize:T,startRecording:C,stopRecording:E,loadData:d,cleanUp:P,name:e,backgroundColor:14896972,dataModel:u,getData:function(){return O},getChannel:function(){return j}}}}()},function(t,e,i){"use strict";var r=i(15)["default"],n=i(3),o=i(7),s=i(47),a=i(8),h=a.Promise,u=i(173),l=i(49),c=i(48),d=i(25),p=i(26),f=p.setHasAntialiasing;t.exports=function(){function t(){var t=!0;window.navigator.userAgent.match(/Safari/)&&window.navigator.userAgent.match(/Version\/8/)&&(t=!1),a=[],p=[];for(var e=0;5>e;e++){var i=new n.WebGLRenderer(window.innerWidth,window.innerHeight,{antialias:t,transparent:!1,resolution:1});if("undefined"==typeof g){var r=i.gl.getContextAttributes().antialias,o=i.gl.getParameter(i.gl.SAMPLES);g=r&&o>0}p.push(i)}if(f(g),!g)for(var e=0;5>e;e++){var s=new n.CanvasRenderer(window.innerWidth,window.innerHeight,{transparent:!1,resolution:S?2:1});S&&(s.view.style.width=""+s.width/2+"px",s.view.style.height=""+s.height/2+"px"),s.updateTexture=function(){},a.push(s)}}function e(t){return t===n.CanvasRenderer?a.shift():p.shift()}function i(t){t instanceof n.CanvasRenderer?a.unshift(t):p.unshift(t)}var a,p,g,m=1024,v=2,y=2/3,x=64,b=24,w=150,A=32,_=80,T=767,S=!1;return function(a,f,S){function C(t,e){ce=t,de=new n.DisplayObjectContainer,pe=new n.DisplayObjectContainer,fe=new n.DisplayObjectContainer,ye=new e(a),D(ye.backgroundColor),ge=M(),pe.addChild(fe),fe.addChild(de),ue.addChild(pe),ye.init(ue,ce,de,le),ee(),ue.interactive=!0,V(),Le=!0}function E(){var t=Ae.recordIcon,e=Ae.circle,i=Ae.checkmarkCircle,r=Ae.textImages,n=Ae.numberImagePixiObjects;le.updateTexture(be.texture.baseTexture),le.updateTexture(t.texture.baseTexture),le.updateTexture(e.texture.baseTexture),le.updateTexture(i.texture.baseTexture);for(var o=0;o<r.length;o++)le.updateTexture(r[o].texture.baseTexture);for(var o=0;o<n.length;o++)le.updateTexture(n[o].texture.baseTexture)}function M(){xe=new n.Graphics,be=new n.Sprite.fromImage(u),be.position.x=20,be.position.y=20,we=new n.DisplayObjectContainer,we.hitArea=new n.Rectangle(0,0,56,56),we.addChild(be),we.alpha=0,Ae=new l(a,le),Ae.container.position.x=window.innerWidth-62,Ae.container.position.y=56,Ae.container.pivot.set(28,28),Ae.container.scale.x=0,Ae.container.scale.y=0,Ae.onCountdownActivate(B),Ae.onRecordActivate(F),Ae.onRecordDeactivate(O);var t=new n.DisplayObjectContainer;return t.addChild(xe),t.addChild(we),t.addChild(Ae.container),t.position.y=-100,R(window.innerWidth),t}function R(t){var e=new n.Rectangle(0,0,t,56);xe.clear(),xe.beginFill(0,.1),xe.drawShape(e),Ae.container.position.x=window.innerWidth-62}function P(){return E(),ue.addChild(ge),we.interactive=!0,we.buttonMode=!0,o.to(ge,.3,{y:0,delay:0}).then(function(){o.to(we,.1,{alpha:1}),o.to(Ae.container.scale,.33,{x:1,y:1,ease:Back.easeOut})})}function L(t){return we.interactive=!1,we.buttonMode=!1,we.click=null,o.to(ge,.2,{y:-100,delay:t}).then(function(){ue.addChild(ge),o.set(we,{alpha:0}),o.set(Ae.container.scale,{x:0,y:0})})}function B(){"function"==typeof ye.startCountdown&&ye.startCountdown(),we.interactive=!1,o.to(we,.33,{alpha:0}),document.removeEventListener("keyup",q)}function F(){"function"==typeof ye.startRecording&&ye.startRecording()}function O(){"function"==typeof ye.stopRecording&&(ye.stopRecording(),we.interactive=!0,o.to(we,.33,{alpha:1}),document.addEventListener("keyup",q)),I()}function I(){if(console&&console.table){var t=ye.getData();if(!(t.recorded.length<=0)){var e=[t.recorded[0].keys];e=e.concat(t.recorded.map(function(t){return t.serializeModel()})),console.table(e)}}}function D(t){ve=document.createElement("div"),ve.classList.add("experiment-instrument"),ve.classList.add("experiment-instrument--"+ce),S.appendChild(ve),le=e(g?n.WebGLRenderer:ye.requiresAntialiasing?n.CanvasRenderer:n.WebGLRenderer),ue=new n.Stage(t),ne(window.innerWidth,window.innerHeight),ve.appendChild(le.view),ue.addChild(de)}function k(){"function"==typeof ye.cleanUp&&ye.cleanUp(),i(le),le=null}function N(){return d().y}function G(t){Te=t}function U(t){Se=t}function V(){pe.interactive=!0,pe.buttonMode=!0,pe.mousedown=function(){Te(Ie)}}function W(){pe.interactive=!1,pe.buttonMode=!1,pe.click=null}function z(){we.click=we.tap=function(){Se(Ie)},document.addEventListener("keyup",q)}function q(t){t=t||window.event,27===t.keyCode&&Se(Ie)}function j(){we.click=we.tap=null,document.removeEventListener("keyup",q)}function Y(){Be=!0,me=+new Date,s("sectionview",""+ye.name+" entered"),ve.style.zIndex=c.ACTIVE;var t=.5,e=o.to(ve,t,{x:0,y:N()}),i=window.innerHeight/2+X(),n=o.to(de,t,{x:window.innerWidth/2,y:i}),a=$(window.innerWidth,window.innerHeight),u=r(a,2),l=u[0],d=u[1],p=o.to(Pe,t,{width:window.innerWidth,height:window.innerHeight,optimalWidth:l,optimalHeight:d,onUpdate:Q});return ye.animationExpanded(),W(),z(),h.all([e,n,p]).then(function(){return Ae.addEventListeners(),P()})}function X(){if(Be)return ye.supportsPortrait?_/2:0;if(Oe)return A/2;var t=Math.floor(w/3);return(Ee?t:0)-(Me?t:0)}function H(){Be=!1,s("time-"+ye.name,+new Date-me);var t=.5,e=o.to(ve,t,{x:Re.left,y:Re.top}),i=Re.height/2+X(),n=o.to(de,t,{x:Re.width/2,y:i}),a=$(Re.width,Re.height),u=r(a,2),l=u[0],d=u[1],p=o.to(Pe,t,{width:Re.width,height:Re.height,optimalWidth:l,optimalHeight:d,onUpdate:Q});return ye.animationCollapsed(),j(),V(),L(),Ae.removeEventListeners(),h.all([e,n,p]).then(function(){ve.style.zIndex=c.BOTTOM})}function K(){Le&&!Fe&&(Fe=!0,ye.disable())}function Z(){Le&&Fe&&(Fe=!1,ye.enable())}function Q(){ve.style.width=Pe.width+"px",ve.style.height=Pe.height+"px",pe.hitArea=new n.Rectangle(0,0,Pe.width,Pe.height),oe(Pe.optimalWidth,Pe.optimalHeight),ye.resize(Pe.width,Pe.height,Pe.optimalWidth,Pe.optimalHeight)}function J(t,e,i){var r=t/Math.max(t/e,1/i),n=1/Math.max(t/e,1/i);return[r,n]}function $(t,e){var i=0===ce,r=Oe?b:x,n=Oe?A:w,o=Oe&&ye.supportsPortrait&&window.innerHeight>window.innerWidth;Be&&(n=_,o&&(r*=2));var s,a=t-2*r;if(Oe){var h=Be?Math.max(_,n):n;return s=i&&!Be?e-(70+h):e-2*h,o?J(y,a,s):J(v,a,s)}s=e;var h=void 0;h=Ee?n:A,h=Be||Oe&&i?Math.max(_,h):h,s-=h,s-=Me?n:A;var u=Math.min(m,a);return J(v,u,s)}function te(t,e){o.set(ve,{x:t,y:e})}function ee(){ve.style.top="0px",ve.style.left="0px",ve.style.width=Re.width+"px",ve.style.height=Re.height+"px",te(Re.left,Re.top)}function ie(){ve.style.pointerEvents="none"}function re(){ve.style.pointerEvents=""}function ne(t,e){if(Le){Oe=window.innerWidth<=T;var i=Ce.getBoundingClientRect(),o=i.top,s=i.left,a=i.width,h=i.height,u=d(),l=u.x,c=u.y;Re.top=o+c,Re.left=s+l,Re.width=a,Re.height=h;var p=Math.max(t,Re.width),f=Math.max(e,Re.height);if(le.resize(p,f),R(window.innerWidth),Be){te(0,N()),ve.style.width=window.innerWidth+"px",ve.style.height=window.innerHeight+"px",de.position.y=~~(window.innerHeight/2)+X(),de.position.x=~~(window.innerWidth/2);var g=$(window.innerWidth,window.innerHeight),m=r(g,2),v=m[0],y=m[1];Pe.width=window.innerWidth,Pe.height=window.innerHeight,Pe.optimalWidth=v,Pe.optimalHeight=y,ye.resize(t,e,v,y),oe(v,y),pe.hitArea=new n.Rectangle(0,0,t,e)}else{de.position.y=Math.floor(Re.height/2),de.position.y+=X(),de.position.x=Math.floor(Re.width/2),te(Re.left,Re.top),ve.style.width=Re.width+"px",ve.style.height=Re.height+"px";var x=$(Re.width,Re.height),b=r(x,2),v=b[0],y=b[1];Pe.width=Re.width,Pe.height=Re.height,Pe.optimalWidth=v,Pe.optimalHeight=y,ye.resize(Re.width,Re.height,v,y),oe(v,y),pe.hitArea=new n.Rectangle(0,0,Re.width,Re.height)}}}function oe(t,e){if(_e){_e.position.x=de.position.x,_e.position.y=de.position.y,_e.clear(),_e.beginFill(0,.2);var i=new n.Rectangle(-t/2,-e/2,t,e);_e.drawShape(i)}}function se(t){Le&&!Fe&&(ye.render(t),le.render(ue),Be&&Ae.render(t))}function ae(){ue.interactive=!1}function he(){ue.interactive=!0}var ue,le,ce,de,pe,fe,ge,me,ve,ye,xe,be,we,Ae,_e,Te,Se,Ce=f,Ee=!Ce.classList.contains("js-experiment-instrument--no-top-margin"),Me=!Ce.classList.contains("js-experiment-instrument--no-bottom-margin"),Re={top:0,left:0,width:0,height:0},Pe={width:0,height:0,optimalWidth:0,optimalHeight:0},Le=!1,Be=!1,Fe=!1,Oe=!1;p||t();var Ie={init:C,enable:Z,disable:K,render:se,resize:ne,expandView:Y,contractView:H,ignoreInteraction:ae,followInteraction:he,noClick:ie,allowClick:re,onActivate:G,onBack:U,cleanUp:k,getView:function(){return ye},getElemRect:function(){return Re},getChannel:function(){return ye&&ye.getChannel&&ye.getChannel()},getPID:function(){return ce}};return Ie}}()},function(t,e,i){"use strict";var r=i(3),n=i(118),o=i(9),s=i(95),a=s.ParallelogramNoteModel;t.exports=function(){var t="ParallelogramView";return function(e){function i(t,i,n){M=new r.DisplayObjectContainer,E=i,C=n,o.addListener("BEAT",function(t){S=t}),e.playbackBus.onPlayback(function(t,e,i){if(!N&&e&D){var r=V[t.pid];r&&(r.popUp(0,0,i),setTimeout(function(){r.popDown(W)},1e3*(t.duration-W)))}}),z=!0}function h(t,e,i,r){var n=V.length,o=I?r:i,s=o/n-5,a=j*s,h=Y*s;s-=h/n,e.setSize(s,a,h);var u=h/2+s*(t+.5);I?e.setPosition(0,u,Math.PI/2):e.setPosition(u,0,0)}function u(t){_&&e.removeTrack(_);for(var i=0;i<V.length;i++)C.removeChild(V[i].container),V[i].tearDown();V.length=0,T=t;for(var i=0;i<T.parallelograms.length;i++){var r=T.parallelograms[i],o=new n(r.color,r.hovercolor,r.sound,U[i],i,e);o.onActivate(l),o.onDeactivate(c),V.push(o),C.addChild(o.container)}w(),_=e.createRecordedTrack(T.recorded,k,D),e.addTrack(_)}function l(t,e,i,r){var n=t.popUp(e,i,r);q&&(R=n)}function c(t){var i=t.popDown(W);q&&(P=i,T.recorded.unshift(new a({beat:S,sound:e.getSound(t.note).guid,duration:parseFloat(P.toFixed(2)),pid:t.pid})))}function d(){q=!0,T.recorded=[]}function p(){q=!1,_=e.createRecordedTrack(T.recorded,k,D)}function f(){N=!0}function g(){N=!1}function m(){G="collapsed",e.addTrack(_),x()}function v(){G="expand",e.removeTrack(_),y()}function y(){V.forEach(function(t){return t.addEventListeners()})}function x(){V.forEach(function(t){return t.removeEventListeners()})}function b(t,e,i,r){L=t,B=e,F=i,O=r,w()}function w(){I=O>F;for(var t=V.length,e=t/2,i=0;t>i;i++){var r=V[i];h(-e+i,r,F,O)}}function A(){}var _,T,S,C,E,M,R,P,L,B,F,O,I,D=e.addTag(t),k=e.channels.create(.7),N=!1,G="collapsed",U=[49,50,51,52,53],V=[],W=.6,z=!1,q=!1,j=280/170,Y=90/170;return{init:i,animationCollapsed:m,animationExpanded:v,enable:g,disable:f,render:A,resize:b,startRecording:d,stopRecording:p,loadData:u,name:t,backgroundColor:6020078,dataModel:s,getData:function(){return T},getChannel:function(){return k},supportsPortrait:!0}}}()},function(t,e,i){"use strict";var r=i(15)["default"],n=i(3);n.dontSayHello=!0;var o=i(46),s=i(47),a=i(8),h=a.Promise,u=i(132),l=i(53),c=i(25),d=i(119),p=i(110),f=i(120),g=i(122),m=i(121),v=i(107),y=i(108),x=i(104),b=i(105),w=i(103),A=i(106),_=i(49),T=i(176),S=767;t.exports=function(t,e,i){function a(t,i){le=document.createElement("div"),le.classList.add("experiment-viewport"),ce=document.createElement("div"),ce.classList.add("experiment-logo","hidden"),ce.style.backgroundImage="url("+T+")",ce.title="Click to return to I/O website",de=document.createElement("div"),de.classList.add("logo-dialog"),de.insertAdjacentHTML("beforeend",'<h4>Exit the Experiment?</h4><div class="button-container"><button id="noButton">Cancel</button><button id="yesButton">Yes</button></div>'),Pe.init(le),ye=performance.now(),he=Array.prototype.slice.call(document.querySelectorAll(t),0),ue=Array.prototype.slice.call(document.querySelectorAll(i),0),me=I(),ve=D();for(var r=[],n=0;n<me.length;n++)e.registerInstrument(me[n].getView().name,me[n].getView().dataModel,me[n].getView().getData),r.push(me[n].getView().name),r.push(me[n].getView().dataModel)}function C(){n.AUTO_PREVENT_DEFAULT=!1,window.addEventListener("resize",Ae),Ae();var t=c().scrollElement;t.addEventListener("scroll",_e),t.addEventListener("scroll",Te),E(),le.appendChild(ce),le.appendChild(de),Ce.style.position="relative",Ce.appendChild(le),j(),Y()}function E(){for(var t=0;t<me.length;t++){var i=me[t].getView();i.loadData(e.currentData()[i.name])}}function M(){e.reloadFirstLoadData(),E()}function R(){Se=!1,window.removeEventListener("resize",Ae);var t=c().scrollElement;t.removeEventListener("scroll",_e),t.removeEventListener("scroll",Te)}function P(t){var e=r(t,2),i=e[0],n=e[1];k(),J();for(var o=0;o<me.length;o++)me[o].noClick();return Pe.animateIn(i,n).then(function(){xe=!1,$(),ce.classList.remove("hidden"),se();for(var t=0;t<me.length;t++)me[t].allowClick()})}function L(t){var e=r(t,2),i=e[0],n=e[1];return J(),Pe.animateOut(i,n).then(function(){R(),$()})}function B(){le.parentNode.removeChild(le),le=null,Ce.style.position="";for(var t=0;t<me.length;t++)me[t].cleanUp();n.glContexts.length=0,n.instances.length=0}function F(t,e){return 4===e?w:3===e?A:2===e?x:1===e?y:0===e?b:void 0}function O(t,e){return 0===e?[g,me[0]]:1===e||2===e?[f,me[2]]:3===e?[m,me[3]]:void 0}function I(){var e=[];return he.forEach(function(i,r){var n=new v(t,i,le),o=F(i,r);o&&(n.init(r,o),n.onActivate(V),n.onBack(q),e.push(n))}),e}function D(){return ue.map(function(e,i){var r=new p(t,e,le,me.map(function(t){return{a:t.getChannel().analyser,c:t.getView().backgroundColor,n:t.getView().name}})),n=O(e,i);return n&&r.init(i,n[0]),r})}function k(e){if(Se){var i=e||performance.now(),r=i-ye;if(ye=i,(r>200||0>=r)&&(r=16),o(k),!xe){var n=r/1e3;t.render(n),N(n)}1===be?(xe=!0,be=!1):be--}}function N(t){for(var e=0;e<me.length;e++)me[e].render(t);for(var i=0;i<ve.length;i++)ve[i].render(t)}function G(t){fe=t}function U(t){ge=t}function V(e,r){return we=!0,pe=e,n.AUTO_PREVENT_DEFAULT=!0,fe&&fe(),J(),t.channels.muteAllExcept(e.getChannel()),ce.classList.add("hidden"),de.classList.remove("active"),e.enable(),h.all([K(e),e.expandView()]).then(function(){re(e),r||i.pushState("#editing-"+e.getPID())})}function W(t,e){if(!we){for(var i,r=0;r<me.length;r++)if(me[r].getPID()===t){i=me[r];break}i&&V(i,e)}}function z(t){we&&pe&&q(pe,t)}function q(e,r){return n.AUTO_PREVENT_DEFAULT=!1,se(),ge&&ge(),ce.classList.remove("hidden"),h.all([Z(),e.contractView()]).then(function(){$(),we=!1,pe=null,t.channels.unmuteAllExcept(e.getChannel()),r||i.goBack()})}function j(){ce.addEventListener("click",function(){de.classList.toggle("active")})}function Y(){var t=document.querySelector("experiment-fab-container");document.getElementById("yesButton").addEventListener("click",function(){ce.parentNode.removeChild(ce),de.parentNode.removeChild(de),s("close","from top left logo"),t&&t.exitExperiment()}),document.getElementById("noButton").addEventListener("click",function(){de.classList.remove("active")})}function X(t){var e=t.getElemRect(),i=e.top,r=e.height,n=i,o=n+r,s=c().y,a=s+window.innerHeight;return o>=s&&a>=n}function H(t,e){var i,r=c().y,n=r+window.innerHeight,o=r+window.innerHeight/2,s=t.getElemRect(),a=s.top+s.height,h=e.getElemRect(),u=h.top+h.height,l=h.top+h.height/2,d=o>l?"top":"bottom",p=h.top>=r&&n>=u;return i=p?s.top<=r&&n>=a?"bottom":s.top>r&&a>n?"top":d:d,e.hide(i)}function K(t){var e=ve.filter(X).map(function(e){return H(t,e)});return h.all(e)}function Z(){var t=ve.filter(function(t){return t.isHidden()}).map(function(t){return t.show()});return h.all(t)}function Q(t){return Me?(t.preventDefault(),t.stopPropagation(),!1):void 0}function J(){if(!Me){Me=!0;var t=c().scrollElement;t.addEventListener("scroll",Q),window.addEventListener("mousewheel",Q),window.addEventListener("wheel",Q),window.addEventListener("touchmove",Q)}}function $(){if(Me){Me=!1;var t=c().scrollElement;t.removeEventListener("scroll",Q),window.removeEventListener("mousewheel",Q),window.removeEventListener("wheel",Q),window.removeEventListener("touchmove",Q)}}function te(){var t=window.innerWidth,e=window.innerHeight;Ee=S>=t,le.style.height=""+c().height+"px";for(var i=0;i<me.length;i++)me[i].resize(t,e);for(var r=0;r<ve.length;r++)ve[r].resize(t,e);Te()}function ee(){we||(Ee?re(null):ne(),me.forEach(function(t){return t.ignoreInteraction()}))}function ie(){we||(Ee?se():ae(),me.forEach(function(t){return t.followInteraction()}))}function re(t){me.filter(function(e){return e!==t}).forEach(function(t){return t.disable()}),ve.forEach(function(t){return t.disable()})}function ne(){me.forEach(function(t){return t.enable()}),ve.forEach(function(t){return t.enable()})}function oe(t){var e=c().y,i=e+window.innerHeight,r=t.getElemRect(),n=r.top<=i&&r.top+r.height>=e;return n}function se(){me.filter(function(t){return oe(t)}).forEach(function(t){return t.enable()}),ve.filter(function(t){return oe(t)}).forEach(function(t){return t.enable()})}function ae(){me.filter(function(t){return!oe(t)}).forEach(function(t){return t.disable()}),ve.filter(function(t){return!oe(t)}).forEach(function(t){return t.disable()})}n.BaseTextureCache={},n.BaseTextureCacheIdGenerator=0,n.TextureCache={},n.FrameCache={},n.TextureCacheIdGenerator=0,n.WebGLGraphics.graphicsDataPool.length=0;var he,ue,le,ce,de,pe,fe,ge,me=[],ve=[],ye=0,xe=!1,be=!1,we=!1,Ae=u(te,200),_e=l(ee,250,{leading:!0,trailing:!1}),Te=l(ie,250,{leading:!1,trailing:!0}),Se=!0,Ce=document.querySelector("#content-container")||document.body,Ee=!1,Me=!1,Re={init:a,start:C,stop:R,animateIn:P,animateOut:L,cleanUp:B,didEnterRecordingMode:G,didExitRecordingMode:U,reloadData:M,closeCurrentView:z,openViewByPID:W,isInstrumentExpanded:function(){return we}},Pe=new d("experiment-is-masked");return _.clearTextureCache(),Re}},function(t,e,i){"use strict";var r=i(7),n=i(8),o=n.Promise,s=i(48),a=i(25);t.exports=function(){return function(t,e,i,n){function h(e,i){y=e,u(),b=new i(t,w,n),b.init(),x.appendChild(w),C=!0}function u(){x=document.createElement("div"),x.style.zIndex=s.VISUALIZER,x.classList.add("experiment-visualizer"),x.classList.add("experiment-visualizer--"+y),i.appendChild(x),x.style.top="0px",x.style.left="0px",w=document.createElement("canvas"),c()}function l(t,e){r.set(x,{x:Math.floor(t),y:Math.floor(e)})}function c(){if(C){var t=A.getBoundingClientRect(),e=t.top,i=t.left,r=t.width,n=t.height,o=a(),s=o.x,h=o.y;_.top=e+h,_.left=i+s,_.width=r,_.height=n,T?l(_.left,g()):l(_.left,_.top),w.width=_.width,w.height=_.height,x.style.width=_.width+"px",x.style.height=_.height+"px",b.resize(w.width,w.height)}}function d(t){T||!C||S||b.render(t)}function p(){C&&S&&(S=!1)}function f(){C&&!S&&(S=!0)}function g(){var t=a().y;return"top"===T?t-_.height-E:t+window.innerHeight+E}function m(t){return C?(T=t,r.to(x,.3,{y:g()})):o.resolve(!0)}function v(){return C?(T=!1,r.to(x,.3,{y:_.top,delay:.2})):o.resolve(!0)}var y,x,b,w,A=e,_={top:0,left:0,width:0,height:0},T=!1,S=!1,C=!1,E=15;return{init:h,render:d,resize:c,enable:p,disable:f,hide:m,show:v,getElemRect:function(){return _},isHidden:function(){return!!T}}}}()},function(t,e,i){"use strict";var r=i(15)["default"],n=i(3),o=i(5),s=o.vec2,a=o.Utils.ARRAY_TYPE,h=i(40),u=i(37),l=i(7);t.exports=function(){var t=i(51),e=t.centerRadius,o=1-t.safeZone,c=new h(.18,0),d=new h(0,e),p=15,f={};return function(t,i,g,m,v,y,x){function b(t,e,i,r,n,o,a){s.set(G,e,i),s.set(U,r,n),s.subtract(V,U,G),s.normalize(V,V),s.scale(V,V,t),s.rotate(V,V,Math.PI/2*(o?-1:1)),s.add(G,V,G),s.add(U,V,U),j.lineStyle(1,0,a),j.moveTo(G[0],G[1]),j.lineTo(U[0],U[1])}function w(t,i){if(f[t]&&f[t][i])return f[t][i];var r=new u;r.addColorAt(d.getAt(0),N[t]),1>o&&r.addColorAt(d.getAt(o),O),r.addColorAt(d.getAt(1),O);var n=r.calcGradient(0,e+1).colors.map(function(t){return t.toInt()});return f[t]=f[t]||{},f[t][i]=n,n}function A(t,i){if(i>=e)return void(k=N[t].toInt());var r=w(t,i);k=r[e-i]}function _(){i.points[0]=W[0],i.points[1]=W[1],z.clear(),z.beginFill(k),z.drawShape(i),q.clear(),q.beginFill(k),q.drawShape(i),j.clear(),v&&T(i.points[0],i.points[1],i.points[4],i.points[5],!0),y&&T(i.points[0],i.points[1],i.points[2],i.points[3]),x>0&&(z.beginFill(16777215,x),z.drawShape(i))}function T(t,e,i,r,n){for(var o=0;p>o;o++)b(o,t,e,i,r,n,c.getAt(1-o/(p-1)))}function S(t,e){W[0]=t,W[1]=e;var i=Math.atan2(-e,t),r=180*i/Math.PI;r=(r+360)%360;var n=~~Math.abs(Math.sqrt(t*t+e*e));A(~~r,n),_()}function C(t){x=t,_()}function E(){Y.highlight=.2,l.to(Y,.5,X)}function M(){C(Y.highlight)}var R=r(m,5),P=R[0],L=R[1],B=R[2],F=R[3],O=R[4],I=new h(0,360),D=new u;D.addColorAt(I.getAt(0),P),D.addColorAt(I.getAt(.25),L),D.addColorAt(I.getAt(.5),B),D.addColorAt(I.getAt(.75),F),D.addColorAt(I.getAt(1),P);var k,N=D.calcGradient(0,360).colors,G=s.create(),U=s.create(),V=s.create(),W=new a(2);W[0]=i.points[0],W[1]=i.points[1];var z=new n.Graphics;t.addChild(z);var q=new n.Graphics;t.addChild(q),t.mask=q;var j=new n.Graphics;z.addChild(j),S(W[0],W[1]);var Y={highlight:.2},X={highlight:0,onUpdate:M};return{render:_,updateCenterPoint:S,updateHighlight:C,pulse:E}}}()},function(t,e,i){"use strict";var r=i(113);t.exports=function(){function t(t){function e(t,e,i,r,n,o,f,g){s=t,a=i,h=e,u=r,l=n,c=o,d=f,p=g}function i(){var e=new r(t),i=d();return e.init(s,i,h,a,u,l,c),c[i]=e,e}function n(){for(var t in c)c.hasOwnProperty(t)&&c[t].destroy()}function o(t){if(t%p===0){var e=i(),r=e.getBody(),n=null,o=function(t){var i,o=t.bodyA,s=t.bodyB;o===r?i=s:s===r&&(i=o),i&&i.drum&&(n&&n===i||i.drum.activate(e),n=i)};a.on("beginContact",o)}}var s,a,h,u,l,c,d,p;return{init:e,onBeat:o,killAllDots:n}}return t.clearTextureCache=function(){r.clearTextureCache()},t}()},function(t,e,i){"use strict";var r=i(3),n=i(5),o=i(16),s=i(26),a=s.generateTexture;t.exports=function(){function t(t){function i(t,e,i,r,n,a,h){p=t,b=e,g=r,v=i,y=n,x=a,w=h,s(),o(l,S)}function s(){if(!e){var i=new r.Graphics;i.clear(),i.beginFill(16777215,.8),i.drawCircle(0,0,10),i.endFill(),e=a(i),t.updateTexture(e.baseTexture)}f=new r.Sprite(e),m=h(f,y,x,10,20,.5),c(),v.addChild(f)}function h(t,e,i,r,o,s){var a;a=new n.Circle(r),A=new n.Body({position:[e,i],mass:1,angularVelocity:10}),A.addShape(a),g.addBody(A);var h=A;return h.lastDrumCollision=null,s&&(h.customType="ball"),h.pid=b,h}function u(){c()}function l(){_&&(_=!1,v.removeChild(f),g.removeBody(m),T(),delete w[b])}function c(){_&&(f.position.y=m.position[1],f.position.x=m.position[0])}function d(t){T=t}var p,f,g,m,v,y,x,b,w,A,_=!0,T=function(){},S=4e3;return{init:i,destroy:l,render:u,onDestroy:d,getBody:function(){return A}}}var e;return t.clearTextureCache=function(){e=null},t}()},function(t,e,i){"use strict";var r=i(3),n=i(5),o=i(7),s=i(8),a=s.Promise,h=i(26),u=h.generateTexture;t.exports=function(){return function(t,e,i,s,h,l){function c(){E.interactive=!0,E.buttonMode=!0,L.interactive=!0,E.mousedown=E.touchstart=function(t){(!k||k(U))&&(T=t,E.alpha=.8,o.to(E.scale,.5,{x:1.1,y:1.1}),o.to(B.position,.5,{x:3,y:-12}),C=!0)},E.mouseup=E.mouseupoutside=E.touchend=E.touchendoutside=function(){(!N||N(U))&&(E.alpha=1,C=!1,T=null,o.to(E.scale,.5,{x:1,y:1}),o.to(B.position,.5,{x:3,y:-4}))},L.mouseover=function(){L.tint=i},L.mouseout=function(){L.tint=e},E.mousemove=E.touchmove=function(){if(C){var t=T.getLocalPosition(E.parent);A(t.x,t.y)}}}function d(){E.interactive=!1,E.buttonMode=!1,L.interactive=!1,E.mousedown=E.touchstart=null,E.mouseup=E.mouseupoutside=E.touchend=E.touchendoutside=null,E.mousemove=E.touchmove=null}function p(){h.removeBody(V),d(),D=null,k=null,N=null}function f(t){D=t}function g(t){k=t}function m(t){N=t}function v(t){b(0),D&&D(U,t)}function y(){E.position.y=W.y}function x(t){var e=new r.Sprite(I);return e.alpha=0,e.anchor.x=e.anchor.y=.5,e.alpha=.8,e.position.x=E.position.x,e.position.y=E.position.y,G.addChildAt(e,0),a.all([o.to(e.scale,1.2,{x:3,y:3,delay:t,ease:Cubic.easeOut}),o.to(e,1.2,{alpha:0,delay:t,ease:Cubic.easeOut})]).then(function(){G.removeChild(e)})}function b(e){e=e||0,W.y=t.y-25,TweenMax.killTweensOf(W),TweenMax.to(W,.2,{y:t.y,onUpdate:y,ease:Expo.easeOut}),x(e)}function w(){var e=new n.Circle(t.radius),i=new n.Body({position:[0,0],mass:0,type:4});return i.addShape(e),h.addBody(i),i.drum=U,i}function A(e,i){z.x=e,z.y=i,o.to(E.position,.1,z),t.x=V.position[0]=e,t.y=V.position[1]=i}function _(){}var T,S=t.pid,C=!1,E=new r.DisplayObjectContainer,M=new r.Circle(0,0,t.radius),R=new r.Graphics;R.beginFill(16777215),R.drawShape(M),R.endFill();var P=u(R);l.updateTexture(P.baseTexture);var L=new r.Sprite(P);L.position.x=L.position.y=-t.radius,L.tint=e;var B=new r.Graphics,F=new r.BlurFilter;B.boundsPadding=10,B.filters=[F],B.beginFill(0,.2),B.drawShape(M),B.endFill(),B.position.y=-4,B.position.x=3,E.addChild(B),E.addChild(L);var O=new r.Graphics;O.beginFill(4532128,.6),O.drawShape(M),O.endFill();var I=u(O);l.updateTexture(I.baseTexture);var D,k,N,G=new r.DisplayObjectContainer,U={pid:S,soundName:s,container:E,hitCircleContainer:G,render:_,activate:v,addEventListeners:c,removeEventListeners:d,onActivate:f,onDragStart:g,onDragEnd:m,setPosition:A,showCollision:b,tearDown:p},V=w(),W={y:0},z={x:0,y:0};return U}}()},function(t,e,i){"use strict";var r=i(3),n=i(7),o=i(26),s=o.generateTexture;t.exports=function(){function t(t,i){function o(t){S=t,t?(m(1),g(),a()):(m(0),g(),h())}function a(){M&&(T.interactive=!1,w.interactive=!0)}function h(){M&&(w.interactive=!1)}function u(){M||(M=!0,_.interactive=!0,T.interactive=!0,S?a():h())}function l(){M&&(M=!1,_.interactive=!1)}function c(){l(),x=null}function d(t){x=t}function p(t,n){if(!e[t]){var o=new r.Graphics;o.beginFill(16777215,1),o.drawCircle(0,0,t),o.endFill(),e[t]=s(o,1),i.updateTexture(e[t].baseTexture)}var a=new r.DisplayObjectContainer,h=new r.Sprite(e[t]);return h.tint=n,h.anchor.x=h.anchor.y=.5,a.addChild(h),a}function f(){_=p(10,870304),T=p(25,5467645),T.alpha=0,T.buttonMode=!0,T.mouseover=function(){b.tint=1136304},T.mouseout=function(){b.tint=870304},A=p(30,16777215),A.scale.x=A.scale.y=.3,_.addChildAt(A,0),w=p(10,5467645),w.alpha=0,w.buttonMode=!0,w.mouseover=function(){n.to(w.scale,.1,{x:1.25,y:1.25})},w.mouseout=function(){n.to(w.scale,.1,{x:1,y:1})};var e=p(10,0);e.alpha=.09,e.position.x=e.position.y=2,w.addChildAt(e,0),_.id=t,_.hitArea=new r.Circle(0,0,25),_.buttonMode=!0,_.mousedown=_.touchstart=function(){x(E)},b=_.children[1]}function g(t){A.alpha=.3,A.scale.x=A.scale.y=.3,n.to(A.scale,.5,{x:1.2,y:1.2,delay:t}),n.to(A,.5,{alpha:0,delay:t}),b.tint=870304}function m(t){n.to(w,.1,{alpha:t})}function v(){T.position=C,_.position=C,w.position=C,S&&S.updateDotPosition(E)}function y(t){R.x=t.x,R.y=t.y,b.tint=870304,n.to(C,.3,R)}var x,b,w,A,_,T,S,C=new r.Point(0,0);f();var E={gridDotChild:b,gridDotMiddle:w,gridDotUpperWhiteTouch:A,gridDot:_,gridDotUpper:T,pid:t,setPosition:y,animateWhiteCircle:g,onActivate:d,animateMiddleDot:m,addEventListeners:u,removeEventListeners:l,getString:function(){return S},setString:o,getPosition:function(){return C},tearDown:c},M=!1,R={x:0,y:0,onUpdate:v,ease:Expo.easeOut};return E}var e={};return t.clearTextureCache=function(){e={}},t}()},function(t,e,i){"use strict";var r=i(3),n=i(5),o=i(16);t.exports=function(){var t=3,e=["stringbass_C2","stringbass_A-sharp","stringbass_G","stringbass_F"];return function(i,s,a){function h(t,e,i){a.pid=t,W=e,J=new r.Graphics,$=new r.Graphics,ee=i,ee.dragging=!0,te=new n.World({gravity:[-.1,-.1]}),te.emitImpactEvent=!1,te.narrowphase.enableFriction=!1,te.narrowphase.enableFrictionReduction=!1,te.defaultContactMaterial.friction=0,te.solver.tolerance=.02,W.addChild($),W.addChild(J),W.interactive=!0,g(),y(),v(),u(),_()}function u(){te.on("endContact",l)}function l(){ae||ue===he||ce===le||void 0===ie||d()}function c(){ae=!1}function d(){ae=!0,i.playSoundImmediately(ie,s),re(a.pid,ie),o(c,150)}function p(t){var e=t.getLocalPosition(ee);Z.position[0]=e.x,Z.position[1]=e.y,ue=he,he=e.x}function f(){te.off("endContact",l),W.mousedown=W.touchstart=null,W.mousemove=W.touchmove=null}function g(){Q=new n.Circle(1),Z=new n.Body({mass:1,position:[0,0],velocity:[0,0],force:[0,0],type:1,angularVelocity:0}),Z.addShape(Q),te.addBody(Z)}function m(t){var i=j-29;ie=1*t>i?e[0]:2*t>i?e[1]:3*t>i?e[2]:e[3]}function v(){j=b(H.position,K.position),X=new n.Capsule(Math.floor(j)-30,20),Y=new n.Body({mass:1,position:[0,0],velocity:[1,1],force:[10,10],type:1,angularVelocity:1,damping:.3});var t=new n.Body({position:[0,0]});Y.addShape(X),te.addBody(Y),z=new n.LinearSpring(Y,t,{restLength:.5,stiffness:10,localAnchorA:[-X.length/2,0],worldAnchorB:[200,200]}),te.addSpring(z),q=new n.LinearSpring(Y,t,{restLength:.5,stiffness:10,damping:1,localAnchorA:[X.length/2,0],worldAnchorB:[0,0]}),te.addSpring(q)}function y(){H=new r.Graphics,H.beginFill(16777215),H.drawCircle(0,0,3),W.addChild(H),K=new r.Graphics,K.beginFill(16777215),K.drawCircle(0,0,3),W.addChild(K),K.position.x=200,K.position.y=200}function x(){j=b(H.position,K.position),Y.removeShape(X),X=new n.Capsule(Math.floor(j)-30,20),Y.addShape(X)}function b(t,e){var i=0,r=0;return i=e.x-t.x,i*=i,r=e.y-t.y,r*=r,Math.sqrt(i+r)}function w(){J.clear(),J.lineStyle(7,16777215,1),J.moveTo(H.position.x,H.position.y),J.quadraticCurveTo(Y.position[0],Y.position[1],K.position.x,K.position.y),$.clear(),$.lineStyle(7,0,.1),$.moveTo(H.position.x,H.position.y),$.quadraticCurveTo(Y.position[0]+10,Y.position[1]+10,K.position.x,K.position.y)}function A(){W.setChildIndex($,W.children.length-1),W.setChildIndex(J,W.children.length-1)}function _(){for(var e=0;t>=e;e++)ne.push(new r.Point(0,0))}function T(e,i){U=e,V=i,I(U,V,t)}function S(e,i){U=e,V=i,I(U,V,t)}function C(e,i){U=e,V=i,I(U,V,t),se="strung",x()}function E(){oe[0]&&oe[1]&&C(oe[0].getPosition(),oe[1].getPosition())}function M(t,e){R(t),P(e),E()}function R(t){oe[0]=t,a.pointA=t&&t.pid}function P(t){oe[1]=t,a.pointB=t&&t.pid,E()
}function L(){return oe[0]}function B(){return oe[1]}function F(){I(U,V,t),x()}function O(){f(),te.removeBody(Z),W.removeChild($),W.removeChild(J),W.removeChild(K),W.removeChild(H),te=null}function I(t,e,i){for(var r=e.x-t.x,n=e.y-t.y,o=r/i,s=n/i,a=0;i+1>a;a++)ne[a].x=t.x+o*a,ne[a].y=t.y+s*a}function D(e){te&&(H.position.x=ne[0].x,H.position.y=ne[0].y,K.position.x=ne[t].x,K.position.y=ne[t].y,te.step(1/60,1e3*e),N())}function k(){Y.position[0]=ne[1].x+80,Y.position[1]=ne[1].y+80}function N(){q.setWorldAnchorB([H.position.x,H.position.y]),z.setWorldAnchorB([K.position.x,K.position.y]),ue=he,he=Z.position[0],ce=le,le=Z.position[1],w()}function G(t){re=t}var U,V,W,z,q,j,Y,X,H,K,Z,Q,J,$,te,ee,ie,re,ne=[],oe=[],se="unStrung",ae=!1,he=0,ue=0,le=0,ce=0,de={init:h,setInitPoints:T,updatePointsMouse:S,updatePointsResize:F,dragMouseCollisionCheck:p,updatePoints:C,updateSpacing:m,destroy:O,playNote:k,bumpStringDepths:A,render:D,onActivate:G,updateDotPosition:E,setDots:M,setFirstDot:R,getFirstDot:L,setSecondDot:P,getSecondDot:B,activate:d,getPID:function(){return a.pid},getModel:function(){return a},tearDown:O};return de}}()},function(t,e,i){"use strict";var r=i(3),n=i(5),o=n.vec2,s=i(37),a=i(38),h=i(40),u=i(16);t.exports=function(){function t(t,e,i){var r=document.createElement("canvas");r.width=r.height=2*(e+i);var n=r.getContext("2d");n.translate(e+i,e+i),n.fillStyle="#000",n.beginPath();for(var o=0;o<t.length;o+=2){var s=0===o?"moveTo":"lineTo";n[s](t[o],t[o+1])}return n.shadowColor="#000",n.shadowBlur=i,n.closePath(),n.fill(),r}function e(e,s,a){function h(t){P=t}function l(){M.interactive=!0,M.buttonMode=!0,M.click=M.tap=function(){P(b)},M.mouseover=function(){T=!0},M.mouseout=function(){T=!1}}function c(){M.interactive=!1,M.buttonMode=!1,R.tint=s,M.click=M.tap=null}function g(){for(var t=[],n=o.fromValues(e,0),s=0;i>s;s++){var a=o.create();o.rotate(a,n,A*s),t.push(new r.Point(a[0],a[1]))}return new r.Polygon(t)}function m(t){w-=2*t,0>w&&(w=0);var e=~~(w*n)-1;0>e&&(e=0),R.tint=0>=e?T?12862529:s:f[e].toInt(),E.alpha=.8*w}function v(t){u(y,t?1e3*t:0)}function y(){w+=1,w>1&&(w=1),M.parent&&M.parent.setChildIndex(M,M.parent.children.length-1)}function x(t){b=t}var b,w=0,A=2*Math.PI/i,_=g(),T=!1;if(!d){var S=new r.Graphics;S.clear(),S.lineStyle(1,0,.1),S.beginFill(16777215),S.drawShape(_),S.endFill(),d=S.generateTexture(),a.updateTexture(d.baseTexture)}if(!p){var C=t(_.points,e,25);p=r.Texture.fromCanvas(C),a.updateTexture(p.baseTexture)}var E=new r.Sprite(p);E.anchor.x=E.anchor.y=.5,E.alpha=.8;var M=new r.DisplayObjectContainer;M.addChild(E);var R=new r.Sprite(d);R.anchor.x=R.anchor.y=.5,M.addChild(R),M.hitArea=_,m(0);var P;return{container:M,activate:v,setCube:x,onActivate:h,addEventListeners:l,removeEventListeners:c,render:m,getCube:function(){return b}}}var i=6,n=100,l=new h(0,n),c=new s;c.addColorAt(l.getAt(0),a.newHex("e34f4c")),c.addColorAt(l.getAt(.5),a.newHex("ff7043")),c.addColorAt(l.getAt(1),a.newHex("ffffff"));var d,p,f=c.calcGradient(0,n).colors;return e.clearTextureCache=function(){d=null,p=null},e}()},function(t,e,i){"use strict";var r=i(3),n=i(7);t.exports=function(){var t=0,e=16777215,i=15,o=.85;return function(s,a,h,u,l,c){function d(t,e,i){n.to(M.position,.3,{x:t,y:e,ease:Expo.easeOut}),n.to(M,.3,{rotation:i,ease:Expo.easeOut})}function p(i,n,o){var a=new r.Polygon([new r.Point(0,0),new r.Point(i,0),new r.Point(i-o,n),new r.Point(-o,n)]),h=300;M.hitArea=a,B.clear(),B.beginFill(t),B.drawShape(a),B.endFill(),L.clear(),L.beginFill(t,.1),L.drawCircle(0,0,h),L.endFill(),L.position.x=i/2-o/2,L.position.y=n/2,R.clear(),R.beginFill(e),R.drawShape(a),R.endFill(),R.tint=s,P.clear(),P.beginFill(t,.2),P.drawShape(a),P.endFill(),M.pivot.x=i/2,M.pivot.y=n/2}function f(t){O=t}function g(t){I=t}function m(){M.interactive=!0,M.buttonMode=!0,R.interactive=!0,M.mousedown=M.mousedownoutside=M.touchstart=M.touchstartoutside=function(t){var e=t.getLocalPosition(M);O(D,e.x,e.y)},M.mouseup=M.mouseupoutside=M.touchend=M.touchendoutside=function(){I(D)},R.mouseover=function(){R.tint=a},R.mouseout=function(){R.tint=s},document.addEventListener("keydown",x),document.addEventListener("keyup",b)}function v(){M.interactive=!1,M.buttonMode=!1,R.interactive=!1,M.mousedown=M.mousedownoutside=M.touchstart=M.touchstartoutside=null,M.mouseup=M.mouseupoutside=M.touchend=M.touchendoutside=null,document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}function y(){v(),O=null,I=null}function x(t){t.keyCode>=N[0]&&t.keyCode<=N[1]&&w(t.keyCode-N[0])}function b(t){t.keyCode>=N[0]&&t.keyCode<=N[1]&&A(t.keyCode-N[0])}function w(t){t===D.pid&&O(D)}function A(t){t===D.pid&&I(D)}function _(t,e,i){return M.parent.setChildIndex(M,M.parent.children.length-1),S||(n.to(M.scale,.25,k.up.container),n.to(P.scale,.25,k.up.shadow),n.to(L.scale,.7,k.up.circle),L.alpha=1,L.scale.x=L.scale.y=0,n.to(L,.75,k.up.circleAlpha),i?S=i:(L.position.x=t,L.position.y=e,S=c.playSoundImmediately(h))),C=c.audioContext.currentTime}function T(t){if(S){var e={volume:1};n.to(e,t-.1,{volume:0,onUpdate:function(t){t&&(t.gain.value=e.volume)}.bind(null,S)}),S=null}return n.to(M.scale,.25,{x:1,y:1}),n.to(P.scale,.25,{x:o,y:o}),E=c.audioContext.currentTime+t,E-C}var S,C,E,M=new r.DisplayObjectContainer,R=new r.Graphics,P=new r.Graphics,L=new r.Graphics,B=new r.Graphics;L.mask=B,L.scale=new r.Point(0,0);var F=new r.BlurFilter;P.boundsPadding=i,P.filters=[F],P.scale.x=o,P.scale.y=o,P.position.x=4,P.position.y=6,M.addChild(P),M.addChild(R),M.addChild(L),M.addChild(B);var O,I,D={container:M,onActivate:f,onDeactivate:g,pid:l,popUp:_,popDown:T,note:h,startTime:C,addEventListeners:m,removeEventListeners:v,setSize:p,setPosition:d,tearDown:y},k={up:{container:{x:1.1,y:1.1},shadow:{x:1.03,y:1.03},circle:{x:1,y:1},circleAlpha:{alpha:0}}},N=[49,57];return D}}()},function(t,e,i){"use strict";var r=i(5),n=r.vec2,o=i(8),s=o.Promise,a=i(7),h=i(25);t.exports=function(){return function(t){function e(t,e){return y?o(t,e):l()}function i(t,e){return y?u(t,e):d()}function r(t,e){var i=n.fromValues(t,e),r=n.fromValues(0,0),o=n.fromValues(0,window.innerHeight),s=n.fromValues(window.innerWidth,0),a=n.fromValues(window.innerWidth,window.innerHeight);return Math.max(n.distance(i,r),n.distance(i,o),n.distance(i,s),n.distance(i,a))+5}function o(t,e){function i(){m.clearRect(0,0,window.innerWidth,window.innerHeight),m.save(),m.translate(t,e),m.globalCompositeOperation="source-over",m.beginPath(),m.arc(0,0,o.r1,0,2*Math.PI),m.fill(),m.globalCompositeOperation="destination-out",m.beginPath(),m.arc(0,0,o.r2,0,2*Math.PI),m.fill(),m.globalCompositeOperation="source-over",m.beginPath(),m.arc(0,0,o.r3,0,2*Math.PI),m.fill(),m.globalCompositeOperation="destination-out",m.beginPath(),m.arc(0,0,o.r4,0,2*Math.PI),m.fill(),m.globalCompositeOperation="source-over",m.beginPath(),m.arc(0,0,o.r5,0,2*Math.PI),m.fill(),m.restore()}var n=r(t,e),o={r1:0,r2:0,r3:0,r4:0,r5:0},h=46/30,u=8/30,l=.4,d=53/30,p=.9;return i(),f(),s.all([a.to(o,h,{r1:n,delay:0,onUpdate:i,ease:Circ.easeInOut}),a.to(o,h,{r2:n,delay:u,onUpdate:i,ease:Circ.easeInOut}),a.to(o,h,{r3:n,delay:l,onUpdate:i,ease:Circ.easeInOut}),a.to(o,h,{r4:n,delay:l+u,onUpdate:i,ease:Circ.easeInOut}),a.to(o,d,{r5:n,delay:p,onUpdate:i,ease:Circ.easeInOut})]).then(c)}function u(t,e){function i(){m.clearRect(0,0,window.innerWidth,window.innerHeight),m.save(),m.translate(t,e),m.beginPath(),m.arc(0,0,n.radius,0,2*Math.PI),m.fill(),m.restore()}var n={radius:r(t,e)};return i(),f(),a.to(n,2,{radius:0,delay:0,onUpdate:i,ease:Expo.easeInOut}).then(c)}function l(){return a.to(v,.8,{opacity:1,ease:Circ.easeOut}).then(c)}function c(){y&&g()}function d(){return a.to(v,.8,{opacity:0,ease:Circ.easeOut}).then(c)}function p(t){v=t,y?(m=document.getCSSCanvasContext("2d","wipe",window.innerWidth,window.innerHeight),m.fillStyle="black",m.clearRect(0,0,window.innerWidth,window.innerHeight),f()):v.style.opacity=0}function f(){v.classList.add(t),v.style.webkitMaskPosition="0 "+h().y+"px"}function g(){v.classList.remove(t)}var m,v,y=!!document.getCSSCanvasContext;return{init:p,animateIn:e,animateOut:i}}}()},function(t){"use strict";var e=Math.floor,i=Math.pow;t.exports=function(){var t=2,r=512,n=.3,o=7,s=0;return function(a,h,u){function l(){for(var t=0;t<x.length;t++){S[t]=[],C[t]=[],x[t].fftSize=r,x[t].smoothingTimeConstant=n,E[t]=new Uint8Array(x[t].frequencyBinCount);for(var e=0;T+1>e;e++){var i=2*e;S[t][i]=0,S[t][i+1]=0,C[t][i]=0,C[t][i+1]=0}}}function c(){w.fillStyle="rgba(255,255,255,1)",w.fillRect(0,0,A,_);for(var e=0;e<S.length;e++){w.save(),w.globalAlpha=.6,w.lineWidth=t,w.strokeStyle=b[e];for(var i=0;i<S[e].length;i+=2){var r=S[e][i];m%2!==0&&(r=A-r),w.beginPath(),w.moveTo(r,_),w.lineTo(r,S[e][i+1]),w.stroke()}w.restore()}}function d(){R--,R>0||(R=M,g(),f(),c())}function p(){A=h.width,_=h.height,T=Math.ceil(A/o),g(),f(),c()}function f(){for(var t=0;t<C.length;t++)for(var e=0;e<C[t].length;e+=2){S[t][e]=C[t][e];var i=C[t][e+1]||0;S[t][e+1]=S[t][e+1]||0,S[t][e+1]+=.05*(i-S[t][e+1])}}function g(){for(var t=_-25,r=0;r<C.length;r++){x[r].getByteFrequencyData(E[r]),C[r].length=0;for(var n=e(.8*x[r].frequencyBinCount),s=0;T>s;s++){var a=o*s,h=e(o*(r+.8)*(A/o/(C.length+.4))),u=e(h/o),l=e(s/T*n);if(u>s){var c=u-s;l=u+c}else l-=u;var d=E[r][l]/255;d=i(P,d)/L,.1>=d&&(d=0),d>=1&&(d=1),d=d*t*2.5;var p=2*s;C[r][p]=a,C[r][p+1]=_-d}}}var m=s++,v={render:d,resize:p,init:l},y={DrumView:1,ArpeggiatorView:2,HexagonView:3,GuitarView:4,ParallelogramView:5},x=u.sort(function(t,e){return y[t.n]-y[e.n]}).map(function(t){return t.a}),b=u.map(function(t){return"#"+t.c.toString(16)}),w=h.getContext("2d"),A=h.width,_=h.height,T=Math.ceil(A/o),S=[],C=[],E=[],M=1,R=M,P=10,L=Math.pow(P,1);return v}}()},function(t,e,i){"use strict";var r=i(5),n=r.vec2;t.exports=function(){var t=6,e=512,i=.3,o=100,s=[20,25,30,35,40,45],a=1,h="rgba(0,0,0,0.2)";return function(u,l,c){function d(){T=new r.World({broadphase:new r.SAPBroadphase}),T.applySpringForces=!1,T.applyDamping=!1,T.applyGravity=!1,T.useWorldGravityAsFrictionGravity=!1,T.emitImpactEvent=!1,T.narrowphase.enableFriction=!1,T.narrowphase.enableFrictionReduction=!1,T.defaultContactMaterial.friction=0,T.solver.tolerance=.02;for(var t=0;t<s.length;t++){var n=s[t];k[n]=f(n)}for(var t=0;t<C.length;t++){C[t].fftSize=e,C[t].smoothingTimeConstant=i,L[t]=new Uint8Array(C[t].frequencyBinCount);var a=new r.Body({position:[0,0],mass:0,angularVelocity:10});a.circleShape=new r.Circle(D),a.addShape(a.circleShape),B.push(a)}w();for(var t=0;t<B.length;t++)T.addBody(B[t]);for(var t=0;o>t;t++){var h=1e3*Math.random(),u=-100,l=new r.Body({position:[h,u],mass:1,angularVelocity:10});l.isParticle=!0;var c=s[t%s.length];l.circleShape=new r.Circle(c),l.addShape(l.circleShape),I.push(l),T.addBody(l)}}function p(){D=R/(20*B.length)+t;for(var e=0;e<B.length;e++)B[e].position[0]=R*N[e][0]-R/2,B[e].position[1]=P*N[e][1]-P/2,F[e]=D}function f(t){var e=document.createElement("canvas");e.width=2*(t+a),e.height=2*(t+a);var i=e.getContext("2d");return i.lineWidth=a,i.strokeStyle=h,i.beginPath(),i.arc(t+a,t+a,t,0,2*Math.PI),i.stroke(),e}function g(){M.fillStyle="white",M.fillRect(0,0,R,P);for(var e=0;e<I.length;e++){var i=I[e].circleShape.radius;M.drawImage(k[i],I[e].position[0]-i+R/2,I[e].position[1]-i+P/2)}for(var e=0;e<B.length;e++)M.save(),M.lineWidth=t,M.strokeStyle=E[e],M.beginPath(),M.arc(B[e].position[0]+R/2,B[e].position[1]+P/2,B[e].circleShape.radius,0,2*Math.PI),M.stroke(),M.fill(),M.restore()}function m(t){A(),b(),v(t),g()}function v(t){y(t),T.step(1/60)}function y(t){for(var e=4e3,i=0;i<B.length;i++)for(var r=B[i],n=0;n<I.length;n++)x(e,t,r,I[n])}function x(t,e,i,r){var o=i.position,s=r.position;n.subtract(G,o,s);var a=Math.min(n.length(G),10);n.normalize(G,G);var h=e*(t/a);n.scale(G,G,h),n.add(r.velocity,r.velocity,G)}function b(){for(var t=0;t<B.length;t++)F[t]=F[t]||D,B[t].circleShape.radius+=.08*(F[t]-B[t].circleShape.radius)}function w(){R=l.width,P=l.height,p(),A(),b(),g()}function A(){for(var t=0;t<B.length;t++){C[t].getByteFrequencyData(L[t]);var e=_(L[t]);(!O[t]||e>O[t])&&(O[t]=e);var i=e/O[t];isNaN(i)&&(i=0),0>=i&&(i=0),i>=1&&(i=1),F[t]=D+i*D*8}}function _(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e/t.length}var T,S={render:m,resize:w,init:d},C=c.map(function(t){return t.a}),E=c.map(function(t){return"#"+t.c.toString(16)}),M=l.getContext("2d"),R=l.width,P=l.height,L=[],B=[],F=[],O=[],I=[],D=80,k={},N=[[.25,.6],[.05,.05],[.55,.4],[.8,.8],[.95,.1]],G=n.create();return S}}()},function(t,e,i){"use strict";var r=i(190);t.exports=function(){var t=1,e=256,i=.3;return function(n,o,s){function a(){for(var t=0;t<f.length;t++){b[t]=[],w[t]=[],f[t].fftSize=e,f[t].smoothingTimeConstant=i,A[t]=new Uint8Array(f[t].frequencyBinCount);for(var r=0;r<g[t]+1;r++){var n=2*r;b[t][n]=0,b[t][n+1]=0,w[t][n]=0,w[t][n+1]=0}}}function h(){v.fillStyle="rgba(255,255,255,0.5)",v.fillRect(0,0,y,x),v.lineWidth=t;for(var e=0;e<b.length;e++)v.save(),v.globalAlpha=.75,v.translate(0,x/2),v.strokeStyle=m[e],v.beginPath(),r(v,b[e],.5),v.stroke(),v.restore()}function u(){T--,T>0||(T=_,d(),l(),h())}function l(){for(var t=0;t<w.length;t++)for(var e=0;e<w[t].length;e+=2)b[t][e]=w[t][e],b[t][e+1]+=.3*(w[t][e+1]-b[t][e+1])}function c(){y=o.width,x=o.height,d(),l(),h()}function d(){for(var t=-1,e=y,i=e-t,r=x/12,n=0;n<w.length;n++){var o=i/g[n];f[n].getByteFrequencyData(A[n]),w[n].length=0;for(var s=0;s<g[n]+1;s++){var a=t+o*s,h=A[n][s]/255;h=Math.pow(S+n,h)/C,.4>=h&&(h=0),h>=1&&(h=1),h*=r*(n+1);var u=h*(s%2===0?1:-1);(0===s||s===g[n])&&(u=0);var l=2*s;w[n][l]=a,w[n][l+1]=u}}}var p={render:u,resize:c,init:a},f=s.map(function(t){return t.a}),g=f.map(function(t,e){return 15+~~(25*(1-e/(f.length-1)))}),m=s.map(function(t){return"#"+t.c.toString(16)}),v=o.getContext("2d"),y=o.width,x=o.height,b=[],w=[],A=[],_=1,T=_,S=10,C=Math.pow(S,1);return p}}()},function(t){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];t.push(i[2]?"@media "+i[2]+"{"+i[1]+"}":i[1])}return t.join("")},t}},function(t,e,i){e=t.exports=i(123)(),e.push([t.id,".experiment-viewport{position:absolute;margin:0;padding:0;top:0;right:0;left:0;z-index:100000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.experiment-is-masked{-webkit-mask:-webkit-canvas(wipe);-webkit-mask-repeat:no-repeat}.experiment-logo{background-size:42px 30px;background-position:50% 50%;background-repeat:no-repeat;cursor:pointer;left:0;position:absolute;top:0;height:60px;width:88px;z-index:100003;opacity:1;visibility:visible}.experiment-logo.hidden{opacity:0;visibility:hidden}.logo-dialog{background:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 5px 0 rgba(0,0,0,.23);font-family:'Roboto',sans-serif;height:100px;padding:20px;position:absolute;left:80px;top:18px;transition:-webkit-transform 300ms ease-in-out;transition:transform 300ms ease-in-out;-webkit-transform:scale(0,0);transform:scale(0,0);-webkit-transform-origin:0 0;transform-origin:0 0;width:220px;z-index:100003}.logo-dialog.active{-webkit-transform:scale(1,1);transform:scale(1,1)}.logo-dialog h4{color:#424242;font-size:18px;font-weight:400;line-height:18px;margin:0}.logo-dialog .button-container{margin:15px -10px 0 0}.button-container{float:right;margin-top:10px}.button-container button{background:#fff;border:none;color:#64B5F6;cursor:pointer;display:block;float:left;font-family:'Roboto',sans-serif;font-size:14px;font-weight:500;height:32px;line-height:32px;padding:0 20px;text-transform:uppercase}.button-container button:focus{outline:none}#noButton{color:#646464}@media screen and (max-width:767px){.logo-dialog{left:80px;top:18px}}.experiment-instrument,.experiment-visualizer{position:absolute;margin:0;padding:0;overflow:hidden}.experiment-visualizer{border-radius:2px;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 5px 0 rgba(0,0,0,.23);pointer-events:none}",""])},function(t,e){var i,r;(function(n){/*!
	 * VERSION: 1.15.1
	 * DATE: 2015-01-20
	 * UPDATES AND DOCS AT: http://greensock.com
	 * 
	 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
	 *
	 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},n=function(t,e,r){i.call(this,t,e,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},o=1e-10,s=i._internals,a=s.isSelector,h=s.isArray,u=n.prototype=i.to({},.1,{}),l=[];n.version="1.15.1",u.constructor=n,u.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=i.killTweensOf,n.getTweensOf=i.getTweensOf,n.lagSmoothing=i.lagSmoothing,n.ticker=i.ticker,n.render=i.render,u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(t,e){var r,n=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0||o){this._initted=!1,this._init();for(var a,h=1/(1-n),u=this._firstPT;u;)a=u.s+u.c,u.c*=h,u.s=a-u.c,u=u._next}return this},u.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,a,h,u,c,d,p,f=this._dirty?this.totalDuration():this._totalDuration,g=this._time,m=this._totalTime,v=this._cycle,y=this._duration,x=this._rawPrevTime;if(t>=f?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,n="onComplete"),0===y&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>x||x===o)&&x!==t&&(i=!0,x>o&&(n="onReverseComplete")),this._rawPrevTime=p=!e||t||x===t?t:o)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===y&&x>0&&x!==o)&&(n="onReverseComplete",r=this._reversed),0>t&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||i)&&(x>=0&&(i=!0),this._rawPrevTime=p=!e||t||x===t?t:o)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=y+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType?(u=this._time/y,c=this._easeType,d=this._easePower,(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===d?u*=u:2===d?u*=u*u:3===d?u*=u*u*u:4===d&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:this._time/y<.5?u/2:1-u/2):this.ratio=this._ease.getRatio(this._time/y)),g===this._time&&!i&&v===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=m,this._rawPrevTime=x,this._cycle=v,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/y):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===y)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||l)),n&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||l),0===y&&this._rawPrevTime===o&&p!==o&&(this._rawPrevTime=0))},n.to=function(t,e,i){return new n(t,e,i)},n.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(t,e,i)},n.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new n(t,e,r)},n.staggerTo=n.allTo=function(t,e,o,s,u,c,d){s=s||0;var p,f,g,m,v=o.delay||0,y=[],x=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),u.apply(d||this,c||l)};for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=r(t))),t=t||[],0>s&&(t=r(t),t.reverse(),s*=-1),p=t.length-1,g=0;p>=g;g++){f={};for(m in o)f[m]=o[m];f.delay=v,g===p&&u&&(f.onComplete=x),y[g]=new n(t[g],e,f),v+=s}return y},n.staggerFrom=n.allFrom=function(t,e,i,r,o,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(t,e,i,r,o,s,a)},n.staggerFromTo=n.allFromTo=function(t,e,i,r,o,s,a,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,n.staggerTo(t,e,r,o,s,a,h)},n.delayedCall=function(t,e,i,r,o){return new n(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:r,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:r,immediateRender:!1,useFrames:o,overwrite:0})},n.set=function(t,e){return new n(t,0,e)},n.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function(t,e){for(var r=[],n=0,o=t._first;o;)o instanceof i?r[n++]=o:(e&&(r[n++]=o),r=r.concat(c(o,e)),n=r.length),o=o._next;return r},d=n.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};n.killAll=function(t,i,r,n){null==i&&(i=!0),null==r&&(r=!0);var o,s,a,h=d(0!=n),u=h.length,l=i&&r&&n;for(a=0;u>a;a++)s=h[a],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&r||i&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},n.killChildTweensOf=function(t,e){if(null!=t){var o,u,l,c,d,p=s.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=r(t)),h(t))for(c=t.length;--c>-1;)n.killChildTweensOf(t[c],e);else{o=[];for(l in p)for(u=p[l].target.parentNode;u;)u===t&&(o=o.concat(p[l].tweens)),u=u.parentNode;for(d=o.length,c=0;d>c;c++)e&&o[c].totalTime(o[c].totalDuration()),o[c]._enabled(!1,!1)}}};var p=function(t,i,r,n){i=i!==!1,r=r!==!1,n=n!==!1;for(var o,s,a=d(n),h=i&&r&&n,u=a.length;--u>-1;)s=a[u],(h||s instanceof e||(o=s.target===s.vars.onComplete)&&r||i&&!o)&&s.paused(t)};return n.pauseAll=function(t,e,i){p(!0,t,e,i)},n.resumeAll=function(t,e,i){p(!1,t,e,i)},n.globalTimeScale=function(e){var r=t._rootTimeline,n=i.ticker.time;return arguments.length?(e=e||o,r._startTime=n-(n-r._startTime)*r._timeScale/e,r=t._rootFramesTimeline,n=i.ticker.frame,r._startTime=n-(n-r._startTime)*r._timeScale/e,r._timeScale=t._rootTimeline._timeScale=e,e):r._timeScale},u.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,r,n=this.vars;for(r in n)i=n[r],u(i)&&-1!==i.join("").indexOf("{self}")&&(n[r]=this._swapSelfInParams(i));u(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},n=1e-10,s=i._internals,a=r._internals={},h=s.isSelector,u=s.isArray,l=s.lazyTweens,c=s.lazyRender,d=[],p=o._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},g=a.pauseCallback=function(t,e,i,r){var n=t._timeline,o=n._totalTime;!e&&this._forcingPlayhead||n._rawPrevTime===t._startTime||(n.pause(t._startTime),e&&e.apply(r||n,i||d),this._forcingPlayhead&&n.seek(o))},m=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},v=r.prototype=new e;return r.version="1.15.1",v.constructor=r,v.kill()._gc=v._forcingPlayhead=!1,v.to=function(t,e,r,n){var o=r.repeat&&p.TweenMax||i;return e?this.add(new o(t,e,r),n):this.set(t,r,n)},v.from=function(t,e,r,n){return this.add((r.repeat&&p.TweenMax||i).from(t,e,r),n)},v.fromTo=function(t,e,r,n,o){var s=n.repeat&&p.TweenMax||i;return e?this.add(s.fromTo(t,e,r,n),o):this.set(t,n,o)},v.staggerTo=function(t,e,n,o,s,a,u,l){var c,d=new r({onComplete:a,onCompleteParams:u,onCompleteScope:l,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],h(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),c=0;c<t.length;c++)n.startAt&&(n.startAt=f(n.startAt)),d.to(t[c],e,f(n),c*o);return this.add(d,s)},v.staggerFrom=function(t,e,i,r,n,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,r,n,o,s,a)},v.staggerFromTo=function(t,e,i,r,n,o,s,a,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,r,n,o,s,a,h)},v.call=function(t,e,r,n){return this.add(i.delayedCall(0,t,e,r),n)},v.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new i(t,0,e),r)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var n,o,s=new r(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,n=a._first;n;)o=n._next,e&&n instanceof i&&n.target===n.vars.onComplete||s.add(n,n._startTime-n._delay),n=o;return a.add(s,0),s},v.add=function(n,o,s,a){var h,l,c,d,p,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&u(n)){for(s=s||"normal",a=a||0,h=o,l=n.length,c=0;l>c;c++)u(d=n[c])&&(d=new r({tweens:d})),this.add(d,h),"string"!=typeof d&&"function"!=typeof d&&("sequence"===s?h=d._startTime+d.totalDuration()/d._timeScale:"start"===s&&(d._startTime-=d.delay())),h+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(e.prototype.add.call(this,n,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>n._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},v.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&u(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},v.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,r,n){var o=i.delayedCall(0,g,["{self}",e,r,n],this);return o.data="isPause",this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,r,n){var o;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&u(n)))for(o=n.length;--o>-1;)n[o]instanceof t&&n[o].timeline===this&&this.remove(n[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,r&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,r);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?r?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,r):this.duration()}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,o,s,a,h,u=this._dirty?this.totalDuration():this._totalDuration,p=this._time,f=this._startTime,g=this._timeScale,m=this._paused;if(t>=u?(this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(o=!0,a="onComplete",0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===n)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>n&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:n,t=u+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==n&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",o=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:n,t=0,this._initted||(h=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==p&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||d)),this._time>=p)for(r=this._first;r&&(s=r._next,!this._paused||m);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,!this._paused||m);)(r._active||r._startTime<=p&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;this._onUpdate&&(e||(l.length&&c(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||d))),a&&(this._gc||(f===this._startTime||g!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(o&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||d)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,r,n){n=n||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<n||(s instanceof i?e!==!1&&(o[a++]=s):(r!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,r)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var r,n,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),r=i.getTweensOf(t),n=r.length;--n>-1;)(r[n].timeline===this||e&&this._contains(r[n]))&&(s[a++]=r[n]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,o=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in o)o[r]>=i&&(o[r]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;--r>-1;)i[r]._kill(t,e)&&(n=!0);return n},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,r=0,n=this._last,o=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>o&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):o=n._startTime,n._startTime<0&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),o=0),i=n._startTime+n._totalDuration/n._timeScale,i>r&&(r=i),n=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},n=1e-10,o=[],s=e._internals,a=s.lazyTweens,h=s.lazyRender,u=new i(null,null,1,0),l=r.prototype=new t;return l.constructor=r,l.kill()._gc=!1,r.version="1.15.1",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,i,r,n){return this.add(e.delayedCall(0,t,r,n),i)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),r=i.length,n=this._parseTimeOrLabel(e);--r>-1;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,i){i=i||{};var r,n,s,a={ease:u,useFrames:this.usesFrames(),immediateRender:!1};for(n in i)a[n]=i[n];return a.time=this._parseTimeOrLabel(t),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new e(this,r,a),a.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&r===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||s,i.onStartParams||o)},s},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=i.immediateRender!==!1;var r=this.tweenTo(e,i);return r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,s,u,l,c,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,g=this._time,m=this._totalTime,v=this._startTime,y=this._timeScale,x=this._rawPrevTime,b=this._paused,w=this._cycle;if(t>=p?(this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",0===this._duration&&(0===t||0>x||x===n)&&x!==t&&this._first&&(c=!0,x>n&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:n,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4)):1e-7>t?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===f&&x!==n&&(x>0||0>t&&x>=0)&&!this._locked)&&(l="onReverseComplete",s=this._reversed),0>t?(this._active=!1,x>=0&&this._first&&(c=!0),this._rawPrevTime=t):(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:n,t=0,this._initted||(c=!0))):(0===f&&0>x&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(d=f+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):this._time<0?this._time=t=0:t=this._time))),this._cycle!==w&&!this._locked){var A=this._yoyo&&0!==(1&w),_=A===(this._yoyo&&0!==(1&this._cycle)),T=this._totalTime,S=this._cycle,C=this._rawPrevTime,E=this._time;if(this._totalTime=w*f,this._cycle<w?A=!A:this._totalTime+=f,this._time=g,this._rawPrevTime=0===f?x-1e-4:x,this._cycle=w,this._locked=!0,g=A?0:f,this.render(g,e,0===f),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||o),_&&(g=A?f+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=E,this._totalTime=T,this._cycle=S,this._rawPrevTime=C}if(!(this._time!==g&&this._first||i||c))return void(m!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||o)),this._time>=g)for(r=this._first;r&&(u=r._next,!this._paused||b);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=u;else for(r=this._last;r&&(u=r._prev,!this._paused||b);)(r._active||r._startTime<=g&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=u;this._onUpdate&&(e||(a.length&&h(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o))),l&&(this._locked||this._gc||(v===this._startTime||y!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(a.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||o)))},l.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var r,n,o=[],s=this.getChildren(t,e,i),a=0,h=s.length;for(r=0;h>r;r++)n=s[r],n.isActive()&&(o[a++]=n);return o},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),r=i.length;for(e=0;r>e;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],i=[],r=[],n={},s=o._gsDefine.globals,a=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r,this.da=r-t,this.ca=i-t,this.ba=e-t},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,i,r){var n={a:t},o={},s={},a={c:r},h=(t+e)/2,u=(e+i)/2,l=(i+r)/2,c=(h+u)/2,d=(u+l)/2,p=(d-c)/8;return n.b=h+(t-h)/4,o.b=c+p,n.c=o.a=(n.b+o.b)/2,o.c=s.a=(c+d)/2,s.b=d-p,a.b=l+(r-l)/4,s.c=a.a=(s.b+a.b)/2,[n,o,s,a]},l=function(t,n,o,s,a){var h,l,c,d,p,f,g,m,v,y,x,b,w,A=t.length-1,_=0,T=t[0].a;for(h=0;A>h;h++)p=t[_],l=p.a,c=p.d,d=t[_+1].d,a?(x=e[h],b=i[h],w=(b+x)*n*.25/(s?.5:r[h]||.5),f=c-(c-l)*(s?.5*n:0!==x?w/x:0),g=c+(d-c)*(s?.5*n:0!==b?w/b:0),m=c-(f+((g-f)*(3*x/(x+b)+.5)/4||0))):(f=c-(c-l)*n*.5,g=c+(d-c)*n*.5,m=c-(f+g)/2),f+=m,g+=m,p.c=v=f,p.b=0!==h?T:T=p.a+.6*(p.c-p.a),p.da=c-l,p.ca=v-l,p.ba=T-l,o?(y=u(l,T,v,c),t.splice(_,1,y[0],y[1],y[2],y[3]),_+=4):_++,T=g;p=t[_],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,o&&(y=u(p.a,T,p.c,p.d),t.splice(_,1,y[0],y[1],y[2],y[3]))},c=function(t,r,n,o){var s,h,u,l,c,d,p=[];if(o)for(t=[o].concat(t),h=t.length;--h>-1;)"string"==typeof(d=t[h][r])&&"="===d.charAt(1)&&(t[h][r]=o[r]+Number(d.charAt(0)+d.substr(2)));if(s=t.length-2,0>s)return p[0]=new a(t[0][r],0,0,t[-1>s?0:1][r]),p;for(h=0;s>h;h++)u=t[h][r],l=t[h+1][r],p[h]=new a(u,0,0,l),n&&(c=t[h+2][r],e[h]=(e[h]||0)+(l-u)*(l-u),i[h]=(i[h]||0)+(c-l)*(c-l));return p[h]=new a(t[h][r],0,0,t[h+1][r]),p},d=function(t,o,s,a,u,d){var p,f,g,m,v,y,x,b,w={},A=[],_=d||t[0];u="string"==typeof u?","+u+",":h,null==o&&(o=1);for(f in t[0])A.push(f);if(t.length>1){for(b=t[t.length-1],x=!0,p=A.length;--p>-1;)if(f=A[p],Math.abs(_[f]-b[f])>.05){x=!1;break}x&&(t=t.concat(),d&&t.unshift(d),t.push(t[1]),d=t[t.length-3])}for(e.length=i.length=r.length=0,p=A.length;--p>-1;)f=A[p],n[f]=-1!==u.indexOf(","+f+","),w[f]=c(t,f,n[f],d);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),i[p]=Math.sqrt(i[p]);if(!a){for(p=A.length;--p>-1;)if(n[f])for(g=w[A[p]],y=g.length-1,m=0;y>m;m++)v=g[m+1].da/i[m]+g[m].da/e[m],r[m]=(r[m]||0)+v*v;for(p=r.length;--p>-1;)r[p]=Math.sqrt(r[p])}for(p=A.length,m=s?4:1;--p>-1;)f=A[p],g=w[f],l(g,o,s,a,n[f]),x&&(g.splice(0,m),g.splice(g.length-m,m));return w},p=function(t,e,i){e=e||"soft";var r,n,o,s,h,u,l,c,d,p,f,g={},m="cubic"===e?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(u=y.length;--u>-1;){for(d=y[u],g[d]=h=[],p=0,c=t.length,l=0;c>l;l++)r=null==i?t[l][d]:"string"==typeof(f=t[l][d])&&"="===f.charAt(1)?i[d]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&l>1&&c-1>l&&(h[p++]=(r+h[p-2])/2),h[p++]=r;for(c=p-m+1,p=0,l=0;c>l;l+=m)r=h[l],n=h[l+1],o=h[l+2],s=2===m?0:h[l+3],h[p++]=f=3===m?new a(r,n,o,s):new a(r,(2*n+r)/3,(2*n+o)/3,o);h.length=p}return g},f=function(t,e,i){for(var r,n,o,s,a,h,u,l,c,d,p,f=1/i,g=t.length;--g>-1;)for(d=t[g],o=d.a,s=d.d-o,a=d.c-o,h=d.b-o,r=n=0,l=1;i>=l;l++)u=f*l,c=1-u,r=n-(n=(u*u*s+3*c*(u*a+c*h))*u),p=g*i+l-1,e[p]=(e[p]||0)+r*r},g=function(t,e){e=e>>0||6;var i,r,n,o,s=[],a=[],h=0,u=0,l=e-1,c=[],d=[];for(i in t)f(t[i],s,e);for(n=s.length,r=0;n>r;r++)h+=Math.sqrt(s[r]),o=r%e,d[o]=h,o===l&&(u+=h,o=r/e>>0,c[o]=d,a[o]=u,h=0,d=[]);return{length:u,lengths:a,segments:c}},m=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,n,o,s,a,h=e.values||[],u={},l=h[0],c=e.autoRotate||i.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(r in l)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),n=this._func[r]="function"==typeof t[r],u[r]=n?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),a||u[r]!==h[0][r]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):p(h,e.type,u),this._segCount=this._beziers[r].length,this._timeRes){var f=g(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),o=c.length;--o>-1;){for(s=0;3>s;s++)r=c[o][s],this._func[r]="function"==typeof t[r]?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]:!1;r=c[o][2],this._initialRotations[o]=this._func[r]?this._func[r].call(this._target):this._target[r]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,r,n,o,s,a,h,u,l,c,d=this._segCount,p=this._func,f=this._target,g=e!==this._startRatio;if(this._timeRes){if(l=this._lengths,c=this._curSeg,e*=this._length,n=this._li,e>this._l2&&d-1>n){for(u=d-1;u>n&&(this._l2=l[++n])<=e;);this._l1=l[n-1],this._li=n,this._curSeg=c=this._segments[n],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&n>0){for(;n>0&&(this._l1=l[--n])>=e;);0===n&&e<this._l1?this._l1=0:n++,this._l2=l[n],this._li=n,this._curSeg=c=this._segments[n],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]
}if(i=n,e-=this._l1,n=this._si,e>this._s2&&n<c.length-1){for(u=c.length-1;u>n&&(this._s2=c[++n])<=e;);this._s1=c[n-1],this._si=n}else if(e<this._s1&&n>0){for(;n>0&&(this._s1=c[--n])>=e;);0===n&&e<this._s1?this._s1=0:n++,this._s2=c[n],this._si=n}a=(n+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?d-1:d*e>>0,a=(e-i*(1/d))*d;for(r=1-a,n=this._props.length;--n>-1;)o=this._props[n],s=this._beziers[o][i],h=(a*a*s.da+3*r*(a*s.ca+r*s.ba))*a+s.a,this._round[o]&&(h=Math.round(h)),p[o]?f[o](h):f[o]=h;if(this._autoRotate){var m,v,y,x,b,w,A,_=this._autoRotate;for(n=_.length;--n>-1;)o=_[n][2],w=_[n][3]||0,A=_[n][4]===!0?1:t,s=this._beziers[_[n][0]],m=this._beziers[_[n][1]],s&&m&&(s=s[i],m=m[i],v=s.a+(s.b-s.a)*a,x=s.b+(s.c-s.b)*a,v+=(x-v)*a,x+=(s.c+(s.d-s.c)*a-x)*a,y=m.a+(m.b-m.a)*a,b=m.b+(m.c-m.b)*a,y+=(b-y)*a,b+=(m.c+(m.d-m.c)*a-b)*a,h=g?Math.atan2(b-y,x-v)*A+w:this._initialRotations[n],p[o]?f[o](h):f[o]=h)}}}),v=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=u,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,r=e._setPluginRatio,n=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,h){e instanceof Array&&(e={values:e}),h=new m;var u,l,c,d=e.values,p=d.length-1,f=[],g={};if(0>p)return a;for(u=0;p>=u;u++)c=i(t,d[u],s,a,h,p!==u),f[u]=c.end;for(l in e)g[l]=e[l];return g.values=f,a=new n(t,"bezier",0,0,c.pt,2),a.data=c,a.plugin=h,a.setRatio=r,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x?[["x","y","rotation",u,!1]]:!1),g.autoRotate&&(s._transform||s._enableTransforms(!1),c.autoRotate=s._target._gsTransform),h._onInitTween(c.proxy,g,s._tween),a}})}},v._roundProps=function(t,e){for(var i=this._overwriteProps,r=i.length;--r>-1;)(t[i[r]]||t.bezier||t.bezierThrough)&&(this._round[i[r]]=e)},v._kill=function(t){var e,i,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=r.length;--i>-1;)r[i]===e&&r.splice(i,1);return this._super._kill.call(this,t)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,n,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},h=o._gsDefine.globals,u={},l=a.prototype=new t("css");l.constructor=a,a.version="1.15.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var c,d,p,f,g,m,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,A=/opacity *= *([^)]*)/i,_=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,C=/([A-Z])/g,E=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},P=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,B=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,F=/,(?=[^\)]*(?:\(|$))/gi,O=Math.PI/180,I=180/Math.PI,D={},k=document,N=function(t){return k.createElementNS?k.createElementNS("http://www.w3.org/1999/xhtml",t):k.createElement(t)},G=N("div"),U=N("img"),V=a._internals={_specialProps:u},W=navigator.userAgent,z=function(){var t=W.indexOf("Android"),e=N("a");return p=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||Number(W.substr(t+8,1))>3),g=p&&Number(W.substr(W.indexOf("Version/")+8,1))<6,f=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),q=function(t){return A.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},j=function(t){window.console&&console.log(t)},Y="",X="",H=function(t,e){e=e||G;var i,r,n=e.style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===n[i[r]+t];);return r>=0?(X=3===r?"ms":i[r],Y="-"+X.toLowerCase()+"-",X+t):null},K=k.defaultView?k.defaultView.getComputedStyle:function(){},Z=a.getStyle=function(t,e,i,r,n){var o;return z||"opacity"!==e?(!r&&t.style[e]?o=t.style[e]:(i=i||K(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):q(t)},Q=V.convertToPixels=function(t,i,r,n,o){if("px"===n||!n)return r;if("auto"===n||!r)return 0;var s,h,u,l=P.test(i),c=t,d=G.style,p=0>r;if(p&&(r=-r),"%"===n&&-1!==i.indexOf("border"))s=r/100*(l?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==n&&c.appendChild)d[l?"borderLeftWidth":"borderTopWidth"]=r+n;else{if(c=t.parentNode||k.body,h=c._gsCache,u=e.ticker.frame,h&&l&&h.time===u)return h.width*r/100;d[l?"width":"height"]=r+n}c.appendChild(G),s=parseFloat(G[l?"offsetWidth":"offsetHeight"]),c.removeChild(G),l&&"%"===n&&a.cacheWidths!==!1&&(h=c._gsCache=c._gsCache||{},h.time=u,h.width=s/r*100),0!==s||o||(s=Q(t,i,r,n,!0))}return p?-s:s},J=V.calculateOffset=function(t,e,i){if("absolute"!==Z(t,"position",i))return 0;var r="left"===e?"Left":"Top",n=Z(t,"margin"+r,i);return t["offset"+r]-(Q(t,e,parseFloat(n),n.replace(w,""))||0)},$=function(t,e){var i,r,n={};if(e=e||K(t,null))for(i in e)(-1===i.indexOf("Transform")||_e===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(E,R)]=e[i]);return z||(n.opacity=q(t)),r=Fe(t,e,!1),n.rotation=r.rotation,n.skewX=r.skewX,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,Ce&&(n.z=r.z,n.rotationX=r.rotationX,n.rotationY=r.rotationY,n.scaleZ=r.scaleZ),n.filters&&delete n.filters,n},te=function(t,e,i,r,n){var o,s,a,h={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||n&&n[s])&&-1===s.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(h[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(b,"")?o:0:J(t,s),void 0!==u[s]&&(a=new fe(u,s,u[s],a)));if(r)for(s in r)"className"!==s&&(h[s]=r[s]);return{difs:h,firstMPT:a}},ee={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],re=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=ee[e],o=n.length;for(i=i||K(t,null);--o>-1;)r-=parseFloat(Z(t,"padding"+n[o],i,!0))||0,r-=parseFloat(Z(t,"border"+n[o]+"Width",i,!0))||0;return r},ne=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==n?n="center"===r?"50%":"0":"center"===n&&(n="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(r.replace(b,"")),e.oy=parseFloat(n.replace(b,""))),r+" "+n+(i.length>2?" "+i[2]:"")},oe=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},se=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,r){var n,o,s,a,h,u=1e-6;return null==t?a=e:"number"==typeof t?a=t:(n=360,o=t.split("_"),h="="===t.charAt(1),s=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:I)-(h?0:e),o.length&&(r&&(r[i]=e+s),-1!==t.indexOf("short")&&(s%=n,s!==s%(n/2)&&(s=0>s?s+n:s-n)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*n)%n-(s/n|0)*n:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*n)%n-(s/n|0)*n)),a=e+s),u>a&&a>-u&&(a=0),a},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ue=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},le=a.parseColor=function(t){var e,i,r,n,o,s;return t&&""!==t?"number"==typeof t?[t>>16,t>>8&255,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),he[t]?he[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):"hsl"===t.substr(0,3)?(t=t.match(v),n=Number(t[0])%360/360,o=Number(t[1])/100,s=Number(t[2])/100,i=.5>=s?s*(o+1):s+o-s*o,e=2*s-i,t.length>3&&(t[3]=Number(t[3])),t[0]=ue(n+1/3,e,i),t[1]=ue(n,e,i),t[2]=ue(n-1/3,e,i),t):(t=t.match(v)||he.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):he.black},ce="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in he)ce+="|"+l+"\\b";ce=new RegExp(ce+")","gi");var de=function(t,e,i,r){if(null==t)return function(t){return t};var n,o=e?(t.match(ce)||[""])[0]:"",s=t.split(o).join("").match(x)||[],a=t.substr(0,t.indexOf(s[0])),h=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",l=s.length,c=l>0?s[0].replace(v,""):"";return l?n=e?function(t){var e,d,p,f;if("number"==typeof t)t+=c;else if(r&&F.test(t)){for(f=t.replace(F,"|").split("|"),p=0;p<f.length;p++)f[p]=n(f[p]);return f.join(",")}if(e=(t.match(ce)||[o])[0],d=t.split(e).join("").match(x)||[],p=d.length,l>p--)for(;++p<l;)d[p]=i?d[(p-1)/2|0]:s[p];return a+d.join(u)+u+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,d;if("number"==typeof t)t+=c;else if(r&&F.test(t)){for(o=t.replace(F,"|").split("|"),d=0;d<o.length;d++)o[d]=n(o[d]);return o.join(",")}if(e=t.match(x)||[],d=e.length,l>d--)for(;++d<l;)e[d]=i?e[(d-1)/2|0]:s[d];return a+e.join(u)+h}:function(t){return t}},pe=function(t){return t=t.split(","),function(e,i,r,n,o,s,a){var h,u=(i+"").split(" ");for(a={},h=0;4>h;h++)a[t[h]]=u[h]=u[h]||u[(h-1)/2>>0];return n.parse(e,a,o,s)}},fe=(V._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,o=this.data,s=o.proxy,a=o.firstMPT,h=1e-6;a;)e=s[a.v],a.r?e=Math.round(e):h>e&&e>-h&&(e=0),a.t[a.p]=e,a=a._next;if(o.autoRotate&&(o.autoRotate.rotation=s.rotation),1===t)for(a=o.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.e=n}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&(r._prev=this,this._next=r)}),ge=(V._parseToProxy=function(t,e,i,r,n,o){var s,a,h,u,l,c=r,d={},p={},f=i._transform,g=D;for(i._transform=null,D=e,r=l=i.parse(t,e,r,n),D=g,o&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));r&&r!==c;){if(r.type<=1&&(a=r.p,p[a]=r.s+r.c,d[a]=r.s,o||(u=new fe(r,"s",a,u,r.r),r.c=0),1===r.type))for(s=r.l;--s>0;)h="xn"+s,a=r.p+"_"+h,p[a]=r.data[h],d[a]=r[h],o||(u=new fe(r,h,a,u,r.rxp[h]));r=r._next}return{proxy:d,end:p,firstMPT:u,pt:l}},V.CSSPropTween=function(t,e,r,n,o,a,h,u,l,c,d){this.t=t,this.p=e,this.s=r,this.c=n,this.n=h||e,t instanceof ge||s.push(this.n),this.r=u,this.type=a||0,l&&(this.pr=l,i=!0),this.b=void 0===c?r:c,this.e=void 0===d?r+n:d,o&&(this._next=o,o._prev=this)}),me=a.parseComplex=function(t,e,i,r,n,o,s,a,h,u){i=i||o||"",s=new ge(t,e,0,0,s,u?2:1,null,!1,a,i,r),r+="";var l,d,p,f,g,m,x,b,w,A,_,T,C=i.split(", ").join(",").split(" "),E=r.split(", ").join(",").split(" "),M=C.length,R=c!==!1;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(F,", ").split(" "),E=E.join(" ").replace(F,", ").split(" "),M=C.length),M!==E.length&&(C=(o||"").split(" "),M=C.length),s.plugin=h,s.setRatio=u,l=0;M>l;l++)if(f=C[l],g=E[l],b=parseFloat(f),b||0===b)s.appendXtra("",b,oe(g,b),g.replace(y,""),R&&-1!==g.indexOf("px"),!0);else if(n&&("#"===f.charAt(0)||he[f]||S.test(f)))T=","===g.charAt(g.length-1)?"),":")",f=le(f),g=le(g),w=f.length+g.length>6,w&&!z&&0===g[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(E[l]).join("transparent")):(z||(w=!1),s.appendXtra(w?"rgba(":"rgb(",f[0],g[0]-f[0],",",!0,!0).appendXtra("",f[1],g[1]-f[1],",",!0).appendXtra("",f[2],g[2]-f[2],w?",":T,!0),w&&(f=f.length<4?1:f[3],s.appendXtra("",f,(g.length<4?1:g[3])-f,T,!1)));else if(m=f.match(v)){if(x=g.match(y),!x||x.length!==m.length)return s;for(p=0,d=0;d<m.length;d++)_=m[d],A=f.indexOf(_,p),s.appendXtra(f.substr(p,A-p),Number(_),oe(x[d],_),"",R&&"px"===f.substr(A+_.length,2),0===d),p=A+_.length;s["xs"+s.l]+=f.substr(p)}else s["xs"+s.l]+=s.l?" "+f:f;if(-1!==r.indexOf("=")&&s.data){for(T=s.xs0+s.data.s,l=1;l<s.l;l++)T+=s["xs"+l]+s.data["xn"+l];s.e=T+s["xs"+l]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},ve=9;for(l=ge.prototype,l.l=l.pr=0;--ve>0;)l["xn"+ve]=0,l["xs"+ve]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,r,n,o){var s=this,a=s.l;return s["xs"+a]+=o&&a?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=r||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=n,s["xn"+a]=e,s.plugin||(s.xfirst=new ge(s,"xn"+a,e,i,s.xfirst||s,0,s.n,n,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=n,s)):(s["xs"+a]+=e+(r||""),s)};var ye=function(t,e){e=e||{},this.p=e.prefix?H(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||de(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},xe=V._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n,o=t.split(","),s=e.defaultValue;for(i=i||[s],r=0;r<o.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||s,n=new ye(o[r],e)},be=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";xe(t,{parser:function(t,i,r,n,o,s,a){var l=h.com.greensock.plugins[e];return l?(l._cssRegister(),u[r].parse(t,i,r,n,o,s,a)):(j("Error: "+e+" js file not loaded."),o)}})}};l=ye.prototype,l.parseComplex=function(t,e,i,r,n,o){var s,a,h,u,l,c,d=this.keyword;if(this.multi&&(F.test(i)||F.test(e)?(a=e.replace(F,"|").split("|"),h=i.replace(F,"|").split("|")):d&&(a=[e],h=[i])),h){for(u=h.length>a.length?h.length:a.length,s=0;u>s;s++)e=a[s]=a[s]||this.dflt,i=h[s]=h[s]||this.dflt,d&&(l=e.indexOf(d),c=i.indexOf(d),l!==c&&(i=-1===c?h:a,i[s]+=" "+d));e=a.join(", "),i=h.join(", ")}return me(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,o)},l.parse=function(t,e,i,r,o,s){return this.parseComplex(t.style,this.format(Z(t,this.p,n,!1,this.dflt)),this.format(e),o,s)},a.registerSpecialProp=function(t,e,i){xe(t,{parser:function(t,r,n,o,s,a){var h=new ge(t,n,0,0,s,2,n,!1,i);return h.plugin=a,h.setRatio=e(t,r,o._tween,n),h},priority:i})};var we,Ae="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),_e=H("transform"),Te=Y+"transform",Se=H("transformOrigin"),Ce=null!==H("perspective"),Ee=V.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Ce?a.defaultForce3D||"auto":!1},Me=window.SVGElement,Re=function(t,e,i){var r,n=k.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},Pe=document.documentElement,Le=function(){var t,e,i,r=m||/Android/i.test(W)&&!window.chrome;return k.createElementNS&&!r&&(t=Re("svg",Pe),e=Re("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Se]="50% 50%",e.style[_e]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(f&&Ce),Pe.removeChild(t)),r}(),Be=function(t,e,i){var r=t.getBBox();e=ne(e).split(" "),i.xOrigin=(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*r.width:parseFloat(e[0]))+r.x,i.yOrigin=(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*r.height:parseFloat(e[1]))+r.y},Fe=V.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var o,s,h,u,l,c,d,p,f,g,m=i?t._gsTransform||new Ee:new Ee,v=m.scaleX<0,y=2e-5,x=1e5,b=Ce?parseFloat(Z(t,Se,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,w=parseFloat(a.defaultTransformPerspective)||0;if(_e?s=Z(t,Te,e,!0):t.currentStyle&&(s=t.currentStyle.filter.match(L),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),m.x||0,m.y||0].join(","):""),o=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,m.svg=!!(Me&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),m.svg&&(Be(t,Z(t,Se,n,!1,"50% 50%")+"",m),we=a.useSVGTransformAttr||Le,h=t.getAttribute("transform"),o&&h&&-1!==h.indexOf("matrix")&&(s=h,o=0)),!o){for(h=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],u=h.length;--u>-1;)l=Number(h[u]),h[u]=(c=l-(l|=0))?(c*x+(0>c?-.5:.5)|0)/x+l:l;if(16===h.length){var A,_,T,S,C,E=h[0],M=h[1],R=h[2],P=h[3],B=h[4],F=h[5],O=h[6],D=h[7],k=h[8],N=h[9],G=h[10],U=h[12],V=h[13],W=h[14],z=h[11],q=Math.atan2(O,G);m.zOrigin&&(W=-m.zOrigin,U=k*W-h[12],V=N*W-h[13],W=G*W+m.zOrigin-h[14]),m.rotationX=q*I,q&&(S=Math.cos(-q),C=Math.sin(-q),A=B*S+k*C,_=F*S+N*C,T=O*S+G*C,k=B*-C+k*S,N=F*-C+N*S,G=O*-C+G*S,z=D*-C+z*S,B=A,F=_,O=T),q=Math.atan2(k,G),m.rotationY=q*I,q&&(S=Math.cos(-q),C=Math.sin(-q),A=E*S-k*C,_=M*S-N*C,T=R*S-G*C,N=M*C+N*S,G=R*C+G*S,z=P*C+z*S,E=A,M=_,R=T),q=Math.atan2(M,E),m.rotation=q*I,q&&(S=Math.cos(-q),C=Math.sin(-q),E=E*S+B*C,_=M*S+F*C,F=M*-C+F*S,O=R*-C+O*S,M=_),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(Math.sqrt(E*E+M*M)*x+.5|0)/x,m.scaleY=(Math.sqrt(F*F+N*N)*x+.5|0)/x,m.scaleZ=(Math.sqrt(O*O+G*G)*x+.5|0)/x,m.skewX=0,m.perspective=z?1/(0>z?-z:z):0,m.x=U,m.y=V,m.z=W}else if(!(Ce&&!r&&h.length&&m.x===h[4]&&m.y===h[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===Z(t,"display",e))){var j=h.length>=6,Y=j?h[0]:1,X=h[1]||0,H=h[2]||0,K=j?h[3]:1;m.x=h[4]||0,m.y=h[5]||0,d=Math.sqrt(Y*Y+X*X),p=Math.sqrt(K*K+H*H),f=Y||X?Math.atan2(X,Y)*I:m.rotation||0,g=H||K?Math.atan2(H,K)*I+f:m.skewX||0,Math.abs(g)>90&&Math.abs(g)<270&&(v?(d*=-1,g+=0>=f?180:-180,f+=0>=f?180:-180):(p*=-1,g+=0>=g?180:-180)),m.scaleX=d,m.scaleY=p,m.rotation=f,m.skewX=g,Ce&&(m.rotationX=m.rotationY=m.z=0,m.perspective=w,m.scaleZ=1)}m.zOrigin=b;for(u in m)m[u]<y&&m[u]>-y&&(m[u]=0)}return i&&(t._gsTransform=m),m},Oe=function(t){var e,i,r=this.data,n=-r.rotation*O,o=n+r.skewX*O,s=1e5,a=(Math.cos(n)*r.scaleX*s|0)/s,h=(Math.sin(n)*r.scaleX*s|0)/s,u=(Math.sin(o)*-r.scaleY*s|0)/s,l=(Math.cos(o)*r.scaleY*s|0)/s,c=this.t.style,d=this.t.currentStyle;if(d){i=h,h=-u,u=-i,e=d.filter,c.filter="";var p,f,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,x="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+h+", M21="+u+", M22="+l,b=r.x+g*r.xPercent/100,_=r.y+v*r.yPercent/100;if(null!=r.ox&&(p=(r.oxp?g*r.ox*.01:r.ox)-g/2,f=(r.oyp?v*r.oy*.01:r.oy)-v/2,b+=p-(p*a+f*h),_+=f-(p*u+f*l)),y?(p=g/2,f=v/2,x+=", Dx="+(p-(p*a+f*h)+b)+", Dy="+(f-(p*u+f*l)+_)+")"):x+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(B,x):x+" "+e,(0===t||1===t)&&1===a&&0===h&&0===u&&1===l&&(y&&-1===x.indexOf("Dx=0, Dy=0")||A.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&c.removeAttribute("filter")),!y){var T,S,C,E=8>m?1:-1;for(p=r.ieOffsetX||0,f=r.ieOffsetY||0,r.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>h?-h:h)*v))/2+b),r.ieOffsetY=Math.round((v-((0>l?-l:l)*v+(0>u?-u:u)*g))/2+_),ve=0;4>ve;ve++)S=ie[ve],T=d[S],i=-1!==T.indexOf("px")?parseFloat(T):Q(this.t,S,parseFloat(T),T.replace(w,""))||0,C=i!==r[S]?2>ve?-r.ieOffsetX:-r.ieOffsetY:2>ve?p-r.ieOffsetX:f-r.ieOffsetY,c[S]=(r[S]=Math.round(i-C*(0===ve||2===ve?1:E)))+"px"}}},Ie=V.set3DTransformRatio=function(t){var e,i,r,n,o,s,a,h,u,l,c,d,p,g,m,v,y,x,b,w,A,_=this.data,T=this.t.style,S=_.rotation*O,C=_.scaleX,E=_.scaleY,M=_.scaleZ,R=_.x,P=_.y,L=_.z,B=_.perspective;if(!(1!==t&&0!==t&&_.force3D||_.force3D===!0||_.rotationY||_.rotationX||1!==M||B||L))return void De.call(this,t);if(f&&(g=1e-4,g>C&&C>-g&&(C=M=2e-5),g>E&&E>-g&&(E=M=2e-5),!B||_.z||_.rotationX||_.rotationY||(B=0)),S||_.skewX)m=e=Math.cos(S),v=n=Math.sin(S),_.skewX&&(S-=_.skewX*O,m=Math.cos(S),v=Math.sin(S),"simple"===_.skewType&&(y=Math.tan(_.skewX*O),y=Math.sqrt(1+y*y),m*=y,v*=y)),i=-v,o=m;else{if(!(_.rotationY||_.rotationX||1!==M||B||_.svg))return void(T[_e]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+P+"px,"+L+"px)"+(1!==C||1!==E?" scale("+C+","+E+")":""));e=o=1,i=n=0}u=1,r=s=a=h=l=c=0,d=B?-1/B:0,p=_.zOrigin,g=1e-6,w=",",A="0",S=_.rotationY*O,S&&(m=Math.cos(S),v=Math.sin(S),a=-v,l=d*-v,r=e*v,s=n*v,u=m,d*=m,e*=m,n*=m),S=_.rotationX*O,S&&(m=Math.cos(S),v=Math.sin(S),y=i*m+r*v,x=o*m+s*v,h=u*v,c=d*v,r=i*-v+r*m,s=o*-v+s*m,u*=m,d*=m,i=y,o=x),1!==M&&(r*=M,s*=M,u*=M,d*=M),1!==E&&(i*=E,o*=E,h*=E,c*=E),1!==C&&(e*=C,n*=C,a*=C,l*=C),(p||_.svg)&&(p&&(R+=r*-p,P+=s*-p,L+=u*-p+p),_.svg&&(R+=_.xOrigin-(_.xOrigin*e+_.yOrigin*i),P+=_.yOrigin-(_.xOrigin*n+_.yOrigin*o)),g>R&&R>-g&&(R=A),g>P&&P>-g&&(P=A),g>L&&L>-g&&(L=0)),b=_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix3d(":"matrix3d(",b+=(g>e&&e>-g?A:e)+w+(g>n&&n>-g?A:n)+w+(g>a&&a>-g?A:a),b+=w+(g>l&&l>-g?A:l)+w+(g>i&&i>-g?A:i)+w+(g>o&&o>-g?A:o),_.rotationX||_.rotationY?(b+=w+(g>h&&h>-g?A:h)+w+(g>c&&c>-g?A:c)+w+(g>r&&r>-g?A:r),b+=w+(g>s&&s>-g?A:s)+w+(g>u&&u>-g?A:u)+w+(g>d&&d>-g?A:d)+w):b+=",0,0,0,0,1,0,",b+=R+w+P+w+L+w+(B?1+-L/B:1)+")",T[_e]=b},De=V.set2DTransformRatio=function(t){var e,i,r,n,o,s,a,h,u,l,c,d=this.data,p=this.t,f=p.style,g=d.x,m=d.y;return!(d.rotationX||d.rotationY||d.z||d.force3D===!0||"auto"===d.force3D&&1!==t&&0!==t)||d.svg&&we||!Ce?(n=d.scaleX,o=d.scaleY,void(d.rotation||d.skewX||d.svg?(e=d.rotation*O,i=e-d.skewX*O,r=1e5,s=Math.cos(e)*n,a=Math.sin(e)*n,h=Math.sin(i)*-o,u=Math.cos(i)*o,d.svg&&(g+=d.xOrigin-(d.xOrigin*s+d.yOrigin*h),m+=d.yOrigin-(d.xOrigin*a+d.yOrigin*u),c=1e-6,c>g&&g>-c&&(g=0),c>m&&m>-c&&(m=0)),l=(s*r|0)/r+","+(a*r|0)/r+","+(h*r|0)/r+","+(u*r|0)/r+","+g+","+m+")",d.svg&&we?p.setAttribute("transform","matrix("+l):f[_e]=(d.xPercent||d.yPercent?"translate("+d.xPercent+"%,"+d.yPercent+"%) matrix(":"matrix(")+l):f[_e]=(d.xPercent||d.yPercent?"translate("+d.xPercent+"%,"+d.yPercent+"%) matrix(":"matrix(")+n+",0,0,"+o+","+g+","+m+")")):(this.setRatio=Ie,void Ie.call(this,t))};l=Ee.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=0,l.scaleX=l.scaleY=l.scaleZ=1,xe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,r,o,s,h){if(r._lastParsedTransform===h)return o;r._lastParsedTransform=h;var u,l,c,d,p,f,g,m=r._transform=Fe(t,n,!0,h.parseTransform),v=t.style,y=1e-6,x=Ae.length,b=h,w={};if("string"==typeof b.transform&&_e)c=G.style,c[_e]=b.transform,c.display="block",c.position="absolute",k.body.appendChild(G),u=Fe(G,null,!1),k.body.removeChild(G);else if("object"==typeof b){if(u={scaleX:se(null!=b.scaleX?b.scaleX:b.scale,m.scaleX),scaleY:se(null!=b.scaleY?b.scaleY:b.scale,m.scaleY),scaleZ:se(b.scaleZ,m.scaleZ),x:se(b.x,m.x),y:se(b.y,m.y),z:se(b.z,m.z),xPercent:se(b.xPercent,m.xPercent),yPercent:se(b.yPercent,m.yPercent),perspective:se(b.transformPerspective,m.perspective)},g=b.directionalRotation,null!=g)if("object"==typeof g)for(c in g)b[c]=g[c];else b.rotation=g;"string"==typeof b.x&&-1!==b.x.indexOf("%")&&(u.x=0,u.xPercent=se(b.x,m.xPercent)),"string"==typeof b.y&&-1!==b.y.indexOf("%")&&(u.y=0,u.yPercent=se(b.y,m.yPercent)),u.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:m.rotation,m.rotation,"rotation",w),Ce&&(u.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",w),u.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",w)),u.skewX=null==b.skewX?m.skewX:ae(b.skewX,m.skewX),u.skewY=null==b.skewY?m.skewY:ae(b.skewY,m.skewY),(l=u.skewY-m.skewY)&&(u.skewX+=l,u.rotation+=l)}for(Ce&&null!=b.force3D&&(m.force3D=b.force3D,f=!0),m.skewType=b.skewType||m.skewType||a.defaultSkewType,p=m.force3D||m.z||m.rotationX||m.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,p||null==b.scale||(u.scaleZ=1);--x>-1;)i=Ae[x],d=u[i]-m[i],(d>y||-y>d||null!=b[i]||null!=D[i])&&(f=!0,o=new ge(m,i,m[i],d,o),i in w&&(o.e=w[i]),o.xs0=0,o.plugin=s,r._overwriteProps.push(o.n));return d=b.transformOrigin,d&&m.svg&&(Be(t,ne(d),u),o=new ge(m,"xOrigin",m.xOrigin,u.xOrigin-m.xOrigin,o,-1,"transformOrigin"),o.b=m.xOrigin,o.e=o.xs0=u.xOrigin,o=new ge(m,"yOrigin",m.yOrigin,u.yOrigin-m.yOrigin,o,-1,"transformOrigin"),o.b=m.yOrigin,o.e=o.xs0=u.yOrigin,d="0px 0px"),(d||Ce&&p&&m.zOrigin)&&(_e?(f=!0,i=Se,d=(d||Z(t,i,n,!1,"50% 50%"))+"",o=new ge(v,i,0,0,o,-1,"transformOrigin"),o.b=v[i],o.plugin=s,Ce?(c=m.zOrigin,d=d.split(" "),m.zOrigin=(d.length>2&&(0===c||"0px"!==d[2])?parseFloat(d[2]):c)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",o=new ge(m,"zOrigin",0,0,o,-1,o.n),o.b=c,o.xs0=o.e=m.zOrigin):o.xs0=o.e=d):ne(d+"",m)),f&&(r._transformType=m.svg&&we||!p&&3!==this._transformType?2:3),o},prefix:!0}),xe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xe("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,s){e=this.format(e);var a,h,u,l,c,d,p,f,g,m,v,y,x,b,w,A,_=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),a=e.split(" "),h=0;h<_.length;h++)this.p.indexOf("border")&&(_[h]=H(_[h])),c=l=Z(t,_[h],n,!1,"0px"),-1!==c.indexOf(" ")&&(l=c.split(" "),c=l[0],l=l[1]),d=u=a[h],p=parseFloat(c),y=c.substr((p+"").length),x="="===d.charAt(1),x?(f=parseInt(d.charAt(0)+"1",10),d=d.substr(2),f*=parseFloat(d),v=d.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(d),v=d.substr((f+"").length)),""===v&&(v=r[i]||y),v!==y&&(b=Q(t,"borderLeft",p,y),w=Q(t,"borderTop",p,y),"%"===v?(c=b/g*100+"%",l=w/m*100+"%"):"em"===v?(A=Q(t,"borderLeft",1,"em"),c=b/A+"em",l=w/A+"em"):(c=b+"px",l=w+"px"),x&&(d=parseFloat(c)+f+v,u=parseFloat(l)+f+v)),s=me(T,_[h],c+" "+l,d+" "+u,!1,"0px",s);return s},prefix:!0,formatter:de("0px 0px 0px 0px",!1,!0)}),xe("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,o,s){var a,h,u,l,c,d,p="background-position",f=n||K(t,null),g=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&(d=Z(t,"backgroundImage").replace(M,""),d&&"none"!==d)){for(a=g.split(" "),h=v.split(" "),U.setAttribute("src",d),u=2;--u>-1;)g=a[u],l=-1!==g.indexOf("%"),l!==(-1!==h[u].indexOf("%"))&&(c=0===u?t.offsetWidth-U.width:t.offsetHeight-U.height,a[u]=l?parseFloat(g)/100*c+"px":parseFloat(g)/c*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,v,o,s)},formatter:ne}),xe("backgroundSize",{defaultValue:"0 0",formatter:ne}),xe("perspective",{defaultValue:"0px",prefix:!0}),xe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xe("transformStyle",{prefix:!0}),xe("backfaceVisibility",{prefix:!0}),xe("userSelect",{prefix:!0}),xe("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),xe("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,o,s){var a,h,u;return 9>m?(h=t.currentStyle,u=8>m?" ":",",a="rect("+h.clipTop+u+h.clipRight+u+h.clipBottom+u+h.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(Z(t,this.p,n,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,o,s)}}),xe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xe("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),xe("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,o,s){return this.parseComplex(t.style,this.format(Z(t,"borderTopWidth",n,!1,"0px")+" "+Z(t,"borderTopStyle",n,!1,"solid")+" "+Z(t,"borderTopColor",n,!1,"#000")),this.format(e),o,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ce)||["#000"])[0]}}),xe("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xe("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n){var o=t.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new ge(o,s,0,0,n,-1,i,!1,0,o[s],e)}});var ke=function(t){var e,i=this.t,r=i.filter||Z(this.data,"filter")||"",n=this.s+this.c*t|0;100===n&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!Z(this.data,"filter")):(i.filter=r.replace(T,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+n+")"),-1===r.indexOf("pacity")?0===n&&this.xn1||(i.filter=r+" alpha(opacity="+n+")"):i.filter=r.replace(A,"opacity="+n))};xe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,o,s){var a=parseFloat(Z(t,"opacity",n,!1,"1")),h=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===Z(t,"visibility",n)&&0!==e&&(a=0),z?o=new ge(h,"opacity",a,e-a,o):(o=new ge(h,"opacity",100*a,100*(e-a),o),o.xn1=u?1:0,h.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=s,o.setRatio=ke),u&&(o=new ge(h,"visibility",0,0,o,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(i)),o}});var Ne=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Ge=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ne(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xe("className",{parser:function(t,e,r,o,s,a,h){var u,l,c,d,p,f=t.getAttribute("class")||"",g=t.style.cssText;if(s=o._classNamePT=new ge(t,r,0,0,s,2),s.setRatio=Ge,s.pr=-11,i=!0,s.b=f,l=$(t,n),c=t._gsClassPT){for(d={},p=c.data;p;)d[p.p]=1,p=p._next;c.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),o._tween._duration&&(t.setAttribute("class",s.e),u=te(t,l,$(t),h,d),t.setAttribute("class",f),s.data=u.firstMPT,t.style.cssText=g,s=s.xfirst=o.parse(t,u.difs,s,a)),s}});var Ue=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,o=this.t.style,s=u.transform.parse;if("all"===this.e)o.cssText="",n=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],u[i]&&(u[i].parse===s?n=!0:i="transformOrigin"===i?Se:u[i].p),Ne(o,i);n&&(Ne(o,_e),this.t._gsTransform&&delete this.t._gsTransform)}};for(xe("clearProps",{parser:function(t,e,r,n,o){return o=new ge(t,r,0,0,o,2),o.setRatio=Ue,o.e=e,o.pr=-10,o.data=n._tween,i=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ve=l.length;ve--;)be(l[ve]);l=a.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,o){if(!t.nodeType)return!1;
this._target=t,this._tween=o,this._vars=e,c=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,n=K(t,""),s=this._overwriteProps;var h,u,l,f,m,v,y,x,b,w=t.style;if(d&&""===w.zIndex&&(h=Z(t,"zIndex",n),("auto"===h||""===h)&&this._addLazySet(w,"zIndex",0)),"string"==typeof e&&(f=w.cssText,h=$(t,n),w.cssText=f+";"+e,h=te(t,h,$(t)).difs,!z&&_.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,w.cssText=f),this._firstPT=u=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,_e?p&&(d=!0,""===w.zIndex&&(y=Z(t,"zIndex",n),("auto"===y||""===y)&&this._addLazySet(w,"zIndex",0)),g&&this._addLazySet(w,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):w.zoom=1,l=u;l&&l._next;)l=l._next;x=new ge(t,"transform",0,0,null,2),this._linkCSSP(x,null,l),x.setRatio=b&&Ce?Ie:_e?De:Oe,x.data=this._transform||Fe(t,n,!0),s.pop()}if(i){for(;u;){for(v=u._next,l=f;l&&l.pr>u.pr;)l=l._next;(u._prev=l?l._prev:m)?u._prev._next=u:f=u,(u._next=l)?l._prev=u:m=u,u=v}this._firstPT=f}return!0},l.parse=function(t,e,i,o){var s,a,h,l,d,p,f,g,m,v,y=t.style;for(s in e)p=e[s],a=u[s],a?i=a.parse(t,p,s,this,i,o,e):(d=Z(t,s,n)+"",m="string"==typeof p,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||m&&S.test(p)?(m||(p=le(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=me(y,s,d,p,!0,"transparent",i,0,o)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(h=parseFloat(d),f=h||0===h?d.substr((h+"").length):"",(""===d||"auto"===d)&&("width"===s||"height"===s?(h=re(t,s,n),f="px"):"left"===s||"top"===s?(h=J(t,s,n),f="px"):(h="opacity"!==s?0:1,f="")),v=m&&"="===p.charAt(1),v?(l=parseInt(p.charAt(0)+"1",10),p=p.substr(2),l*=parseFloat(p),g=p.replace(w,"")):(l=parseFloat(p),g=m?p.replace(w,""):""),""===g&&(g=s in r?r[s]:f),p=l||0===l?(v?l+h:l)+g:e[s],f!==g&&""!==g&&(l||0===l)&&h&&(h=Q(t,s,h,f),"%"===g?(h/=Q(t,s,100,"%")/100,e.strictUnits!==!0&&(d=h+"%")):"em"===g?h/=Q(t,s,1,"em"):"px"!==g&&(l=Q(t,s,l,g),g="px"),v&&(l||0===l)&&(p=l+h+g)),v&&(l+=h),!h&&0!==h||!l&&0!==l?void 0!==y[s]&&(p||p+""!="NaN"&&null!=p)?(i=new ge(y,s,l||h||0,0,i,-1,s,!1,0,d,p),i.xs0="none"!==p||"display"!==s&&-1===s.indexOf("Style")?p:d):j("invalid "+s+" tween value: "+e[s]):(i=new ge(y,s,h,l-h,i,0,s,c!==!1&&("px"===g||"zIndex"===s),0,d,p),i.xs0=g)):i=me(y,s,d,p,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},l.setRatio=function(t){var e,i,r,n=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):o>e&&e>-o&&(e=0),n.type)if(1===n.type)if(r=n.l,2===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;)2!==n.type?n.t[n.p]=n.e:n.setRatio(t),n=n._next},l._enableTransforms=function(t){this._transform=this._transform||Fe(this._target,n,!0),this._transformType=this._transform.svg&&we||!t&&3!==this._transformType?2:3};var Ve=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,i){var r=this._firstPT=new ge(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Ve,r.data=this},l._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,r,n,o=e;if(e.autoAlpha||e.alpha){o={};for(r in e)o[r]=e[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(n=i.xfirst,n&&n._prev?this._linkCSSP(n._prev,i._next,n._prev._prev):n===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,n._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var We=function(t,e,i){var r,n,o,s;if(t.slice)for(n=t.length;--n>-1;)We(t[n],e,i);else for(r=t.childNodes,n=r.length;--n>-1;)o=r[n],s=o.type,o.style&&(e.push($(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||We(o,e,i)};return a.cascadeTo=function(t,i,r){var n,o,s,a=e.to(t,i,r),h=[a],u=[],l=[],c=[],d=e._internals.reservedProps;for(t=a._targets||a.target,We(t,u,c),a.render(i,!0),We(t,l),a.render(0,!0),a._enabled(!0),n=c.length;--n>-1;)if(o=te(c[n],u[n],l[n]),o.firstMPT){o=o.difs;for(s in r)d[s]&&(o[s]=r[s]);h.push(e.to(c[n],i,o))}return h},t.activate([a]),a},!0),function(){var t=o._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,r=this._tween,n=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),o=n.length,s={},a=r._propLookup.roundProps;--o>-1;)s[n[o]]=1;for(o=n.length;--o>-1;)for(t=n[o],e=r._firstPT;e;)i=e._next,e.pg?e.t._roundProps(s,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:r._firstPT===e&&(r._firstPT=i),e._next=e._prev=null,r._propLookup[t]=a),e=i;return!1},e._add=function(t,e,i,r){this._addTween(t,e,i,i+r,e,!0),this._overwriteProps.push(e)}}(),o._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(t,e){var i,r,n;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={},this._start={},this._end={};for(i in e)this._start[i]=this._proxy[i]=r=t.getAttribute(i),n=this._addTween(this._proxy,i,parseFloat(r),e[i],i),this._end[i]=n?n.s+n.c:e[i],this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,r=i.length,n=1===t?this._end:t?this._proxy:this._start;--r>-1;)e=i[r],this._target.setAttribute(e,n[e]+"")}}),o._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,r,n,o,s,a,h=e.useRadians===!0?2*Math.PI:360,u=1e-6;for(i in e)"useRadians"!==i&&(a=(e[i]+"").split("_"),r=a[0],n=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),o=this.finals[i]="string"==typeof r&&"="===r.charAt(1)?n+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,s=o-n,a.length&&(r=a.join("_"),-1!==r.indexOf("short")&&(s%=h,s!==s%(h/2)&&(s=0>s?s+h:s-h)),-1!==r.indexOf("_cw")&&0>s?s=(s+9999999999*h)%h-(s/h|0)*h:-1!==r.indexOf("ccw")&&s>0&&(s=(s-9999999999*h)%h-(s/h|0)*h)),(s>u||-u>s)&&(this._addTween(t,i,n,n+s,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,r,n=o.GreenSockGlobals||o,s=n.com.greensock,a=2*Math.PI,h=Math.PI/2,u=s._class,l=function(e,i){var r=u("easing."+e,function(){},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,r},c=t.register||function(){},d=function(t,e,i,r){var n=u("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0);return c(n,t),n},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var r=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t){return new r(t)},r},g=d("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=u("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=m.prototype=new t;return v.constructor=m,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),v.config=m.config=function(t,e,i){return new m(t,e,i)},e=u("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=u("easing.RoughEase",function(e){e=e||{};for(var i,r,n,o,s,a,h=e.taper||"none",u=[],l=0,c=0|(e.points||20),d=c,f=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=f?Math.random():1/c*d,r=m?m.getRatio(i):i,"none"===h?n=v:"out"===h?(o=1-i,n=o*o*v):"in"===h?n=i*i*v:.5>i?(o=2*i,n=o*o*.5*v):(o=2*(1-i),n=o*o*.5*v),f?r+=Math.random()*n-.5*n:d%2?r+=.5*n:r-=.5*n,g&&(r>1?r=1:0>r&&(r=0)),u[l++]={x:i,y:r};for(u.sort(function(t,e){return t.x-e.x}),a=new p(1,1,null),d=c;--d>-1;)s=u[d],a=new p(s.x,s.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,d("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,i,r){var n=u("easing."+e,function(t,e){this._p1=t||1,this._p2=e||r,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),o=n.prototype=new t;return o.constructor=n,o.getRatio=i,o.config=function(t,e){return new n(t,e)},n},d("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*a/this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*a/this._p2)*.5+1},.45)),d("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",l("SineOut",function(t){return Math.sin(t*h)}),l("SineIn",function(t){return-Math.cos(t*h)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(n.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),g},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(n,o){"use strict";var s=n.GreenSockGlobals=n.GreenSockGlobals||n;if(!s.TweenLite){var a,h,u,l,c,d=function(t){var e,i=t.split("."),r=s;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},p=d("com.greensock"),f=1e-10,g=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},m=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),y={},x=function(n,o,a,h){this.sc=y[n]?y[n].sc:[],y[n]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(l){for(var c,p,f,g,m=o.length,v=m;--m>-1;)(c=y[o[m]]||new x(o[m],[])).gsClass?(u[m]=c.gsClass,v--):l&&c.sc.push(this);if(0===v&&a)for(p=("com.greensock."+n).split("."),f=p.pop(),g=d(p.join("."))[f]=this.gsClass=a.apply(a,u),h&&(s[f]=g,i=[],r=function(){return g}.apply(e,i),!(void 0!==r&&(t.exports=r))),m=0;m<this.sc.length;m++)this.sc[m].check()},this.check(!0)},b=n._gsDefine=function(t,e,i,r){return new x(t,e,i,r)},w=p._class=function(t,e,i){return e=e||function(){},b(t,[],function(){return e},i),e};b.globals=s;var A=[0,0,1,1],_=[],T=w("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?A.concat(e):A},!0),S=T.map={},C=T.register=function(t,e,i,r){for(var n,o,s,a,h=e.split(","),u=h.length,l=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=h[u],n=r?w("easing."+o,null,!0):p.easing[o]||{},s=l.length;--s>-1;)a=l[s],S[o+"."+a]=S[a+o]=n[a]=t.getRatio?t:t[a]||new t};for(u=T.prototype,u._calcEnd=!1,u.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:.5>t?r/2:1-r/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=a.length;--h>-1;)u=a[h]+",Power"+h,C(new T(null,null,1,h),u,"easeOut",!0),C(new T(null,null,2,h),u,"easeIn"+(0===h?",easeNone":"")),C(new T(null,null,3,h),u,"easeInOut");S.linear=p.easing.Linear.easeIn,S.swing=p.easing.Quad.easeInOut;var E=w("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});u=E.prototype,u.addEventListener=function(t,e,i,r,n){n=n||0;var o,s,a=this._listeners[t],h=0;for(null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)o=a[s],o.c===e&&o.s===i?a.splice(s,1):0===h&&o.pr<n&&(h=s+1);a.splice(h,0,{c:e,s:i,up:r,pr:n}),this!==l||c||l.wake()},u.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;--i>-1;)if(r[i].c===e)return void r.splice(i,1)},u.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(e=n.length,i=this._eventTarget;--e>-1;)r=n[e],r&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};var M=n.requestAnimationFrame,R=n.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},L=P();for(a=["ms","moz","webkit","o"],h=a.length;--h>-1&&!M;)M=n[a[h]+"RequestAnimationFrame"],R=n[a[h]+"CancelAnimationFrame"]||n[a[h]+"CancelRequestAnimationFrame"];w("Ticker",function(t,e){var i,r,n,o,s,a=this,h=P(),u=e!==!1&&M,d=500,p=33,g="tick",v=function(t){var e,u,l=P()-L;l>d&&(h+=l-p),L+=l,a.time=(L-h)/1e3,e=a.time-s,(!i||e>0||t===!0)&&(a.frame++,s+=e+(e>=o?.004:o-e),u=!0),t!==!0&&(n=r(v)),u&&a.dispatchEvent(g)};E.call(a),a.time=a.frame=0,a.tick=function(){v(!0)},a.lagSmoothing=function(t,e){d=t||1/f,p=Math.min(e,d,0)},a.sleep=function(){null!=n&&(u&&R?R(n):clearTimeout(n),r=m,n=null,a===l&&(c=!1))},a.wake=function(){null!==n?a.sleep():a.frame>10&&(L=P()-d+5),r=0===i?m:u&&M?M:function(t){return setTimeout(t,1e3*(s-a.time)+1|0)},a===l&&(c=!0),v(2)},a.fps=function(t){return arguments.length?(i=t,o=1/(i||60),s=this.time+o,void a.wake()):i},a.useRAF=function(t){return arguments.length?(a.sleep(),u=t,void a.fps(i)):u},a.fps(t),setTimeout(function(){u&&(!n||a.frame<5)&&a.useRAF(!1)},1500)}),u=p.Ticker.prototype=new p.events.EventDispatcher,u.constructor=p.Ticker;var B=w("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,X){c||l.wake();var i=this.vars.useFrames?Y:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});l=B.ticker=new p.Ticker,u=B.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var F=function(){c&&P()-L>2e3&&l.wake(),setTimeout(F,2e3)};F(),u.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},u.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},u.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},u.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},u.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},u.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},u.render=function(){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},u.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},u._enabled=function(t,e){return c||l.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(){return this._enabled(!1,!1)},u.kill=function(t,e){return this._kill(t,e),this},u._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},u._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},u.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=v(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},u.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},u.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},u.totalTime=function(t,e,i){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(t>r&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),N.length&&H())}return this},u.progress=u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},u.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},u.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||f,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},u.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){c||t||l.wake();var e=this._timeline,i=e.rawTime(),r=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var O=w("core.SimpleTimeline",function(t){B.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});u=O.prototype=new B,u.constructor=O,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(t,e){var i,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(r=t._startTime;i&&i._startTime>r;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},u._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},u.rawTime=function(){return c||l.wake(),this._totalTime};var I=w("TweenLite",function(t,e,i){if(B.call(this,e,i),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var r,o,s,a=t.jquery||t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?j[I.defaultOverwrite]:"number"==typeof h?h>>0:j[h],(a||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=s=g(t),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==n&&o[0]&&(o[0]===n||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(g(o))):(this._siblings[r]=K(o,this,!1),1===h&&this._siblings[r].length>1&&Q(o,this,null,1,this._siblings[r])):(o=s[r--]=I.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===h&&this._siblings.length>1&&Q(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-f,this.render(-this._delay))},!0),D=function(t){return t&&t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType)},k=function(t,e){var i,r={};for(i in t)q[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!V[i]||V[i]&&V[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r};u=I.prototype=new B,u.constructor=I,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,I.version="1.15.1",I.defaultEase=u._ease=new T(null,null,1,1),I.defaultOverwrite="auto",I.ticker=l,I.autoSleep=!0,I.lagSmoothing=function(t,e){l.lagSmoothing(t,e)},I.selector=n.$||n.jQuery||function(t){var e=n.$||n.jQuery;return e?(I.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var N=[],G={},U=I._internals={isArray:v,isSelector:D,lazyTweens:N},V=I._plugins={},W=U.tweenLookup={},z=0,q=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Y=B._rootFramesTimeline=new O,X=B._rootTimeline=new O,H=U.lazyRender=function(){var t,e=N.length;for(G={};--e>-1;)t=N[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};X._startTime=l.time,Y._startTime=l.frame,X._active=Y._active=!0,setTimeout(H,1),B._updateRoot=I.render=function(){var t,e,i;if(N.length&&H(),X.render((l.time-X._startTime)*X._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),N.length&&H(),!(l.frame%120)){for(i in W){for(e=W[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete W[i]}if(i=X._first,(!i||i._paused)&&I.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",B._updateRoot);var K=function(t,e,i){var r,n,o=t._gsTweenID;if(W[o||(t._gsTweenID=o="t"+z++)]||(W[o]={target:t,tweens:[]}),e&&(r=W[o].tweens,r[n=r.length]=e,i))for(;--n>-1;)r[n]===e&&r.splice(n,1);return W[o].tweens},Z=function(t,e,i,r){var n,o,s=t.vars.onOverwrite;return s&&(n=s(t,e,i,r)),s=I.onOverwrite,s&&(o=s(t,e,i,r)),n!==!1&&o!==!1},Q=function(t,e,i,r,n){var o,s,a,h;if(1===r||r>=4){for(h=n.length,o=0;h>o;o++)if((a=n[o])!==e)a._gc||Z(a,e)&&a._enabled(!1,!1)&&(s=!0);else if(5===r)break;return s}var u,l=e._startTime+f,c=[],d=0,p=0===e._duration;for(o=n.length;--o>-1;)(a=n[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||J(e,0,p),0===J(a,u,p)&&(c[d++]=a)):a._startTime<=l&&a._startTime+a.totalDuration()/a._timeScale>l&&((p||!a._initted)&&l-a._startTime<=2e-10||(c[d++]=a)));for(o=d;--o>-1;)if(a=c[o],2===r&&a._kill(i,t,e)&&(s=!0),2!==r||!a._firstPT&&a._initted){if(2!==r&&!Z(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},J=function(t,e,i){for(var r=t._timeline,n=r._timeScale,o=t._startTime;r._timeline;){if(o+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return o/=n,o>e?o-e:i&&o===e||!t._initted&&2*f>o-e?f:(o+=t.totalDuration()/t._timeScale/n)>e+f?0:o-e-f};u._init=function(){var t,e,i,r,n,o=this.vars,s=this._overwrittenProps,a=this._duration,h=!!o.immediateRender,u=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(r in o.startAt)n[r]=o.startAt[r];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&o.lazy!==!1,n.startAt=n.delay=null,this._startAt=I.to(this.target,0,n),h)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(r in o)q[r]&&"autoCSS"!==r||(i[r]=o[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&o.lazy!==!1,i.immediateRender=h,this._startAt=I.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof T?u:"function"==typeof u?new T(u,o.easeParams):S[u]||I.defaultEase:I.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&I._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},u._initProps=function(t,e,i,r){var o,s,a,h,u,l;if(null==t)return!1;G[t._gsTweenID]&&H(),this.vars.css||t.style&&t!==n&&t.nodeType&&V.css&&this.vars.autoCSS!==!1&&k(this.vars,t);for(o in this.vars){if(l=this.vars[o],q[o])l&&(l instanceof Array||l.push&&v(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[o]=l=this._swapSelfInParams(l,this));else if(V[o]&&(h=new V[o])._onInitTween(t,this.vars[o],this)){for(this._firstPT=u={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:h._priority},s=h._overwriteProps.length;--s>-1;)e[h._overwriteProps[s]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[o]=u={_next:this._firstPT,t:t,p:o,f:"function"==typeof t[o],n:o,pg:!1,pr:0},u.s=u.f?t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(t[o]),u.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-u.s||0;u&&u._next&&(u._next._prev=u)}return r&&this._kill(r,t)?this._initProps(t,e,i,r):this._overwrite>1&&this._firstPT&&i.length>1&&Q(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(G[t._gsTweenID]=!0),a)},u.render=function(t,e,i){var r,n,o,s,a=this._time,h=this._duration,u=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete"),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>u||u===f&&"isPause"!==this.data)&&u!==t&&(i=!0,u>f&&(n="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:f);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===h&&u>0&&u!==f)&&(n="onReverseComplete",r=this._reversed),0>t&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(u!==f||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:f)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var l=t/h,c=this._easeType,d=this._easePower;(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===d?l*=l:2===d?l*=l*l:3===d?l*=l*l*l:4===d&&(l*=l*l*l*l),this.ratio=1===c?1-l:2===c?l:.5>t/h?l/2:1-l/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,N.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/h):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_)),n&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||_),0===h&&this._rawPrevTime===f&&s!==f&&(this._rawPrevTime=0))}},u._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;
var r,n,o,s,a,h,u,l,c;if((v(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r])&&(h=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(o in u)a[o]&&(c||(c=[]),c.push(o));if(!Z(this,i,e,c))return!1}for(o in u)(s=a[o])&&(s.pg&&s.t._kill(u)&&(h=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),l&&(n[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},u.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],B.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-f,this.render(-this._delay)),this},u._enabled=function(t,e){if(c||l.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;--i>-1;)this._siblings[i]=K(r[i],this,!0);else this._siblings=K(this.target,this,!0)}return B.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new I(t,e,r)},I.delayedCall=function(t,e,i,r,n){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:r,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:r,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,r,n,o;if((v(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];--i>-1;)r=r.concat(I.getTweensOf(t[i],e));for(i=r.length;--i>-1;)for(o=r[i],n=i;--n>-1;)o===r[n]&&r.splice(i,1)}else for(r=K(t).concat(),i=r.length;--i>-1;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=I.getTweensOf(t,e),n=r.length;--n>-1;)r[n]._kill(i,t)};var $=w("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=$.prototype},!0);if(u=$.prototype,$.version="1.10.1",$.API=2,u._firstPT=null,u._addTween=function(t,e,i,r,n,o){var s,a;return null!=r&&(s="number"==typeof r||"="!==r.charAt(1)?Number(r)-i:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:s,f:"function"==typeof t[e],n:n||e,r:o},a._next&&(a._next._prev=a),a):void 0},u.setRatio=function(t){for(var e,i=this._firstPT,r=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):r>e&&e>-r&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},u._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},u._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,r,n,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:o)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:o=a,a=s}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},$.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===$.API&&(V[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=w("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){$.call(this,i,r),this._overwriteProps=n||[]},t.global===!0),a=s.prototype=new $(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,$.activate([s]),s},a=n._gsQueue){for(h=0;h<a.length;h++)a[h]();for(u in y)y[u].func||n.console.log("GSAP encountered missing dependency: com.greensock."+u)}c=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){(function(e){/*!
	 * VERSION: beta 1.2.1
	 * DATE: 2013-07-17
	 * UPDATES AND DOCS AT: http://www.greensock.com
	 *
	 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var i="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";var t=/(\d|\.)+/g,e={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},r=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},n=function(i){if(""===i||null==i||"none"===i)return e.transparent;if(e[i])return e[i];if("number"==typeof i)return[i>>16,i>>8&255,255&i];if("#"===i.charAt(0))return 4===i.length&&(i="#"+i.charAt(1)+i.charAt(1)+i.charAt(2)+i.charAt(2)+i.charAt(3)+i.charAt(3)),i=parseInt(i.substr(1),16),[i>>16,i>>8&255,255&i];if("hsl"===i.substr(0,3)){i=i.match(t);var n=Number(i[0])%360/360,o=Number(i[1])/100,s=Number(i[2])/100,a=.5>=s?s*(o+1):s+o-s*o,h=2*s-a;return i.length>3&&(i[3]=Number(i[3])),i[0]=r(n+1/3,h,a),i[1]=r(n,h,a),i[2]=r(n-1/3,h,a),i}return i.match(t)||e.transparent};i._gsDefine.plugin({propName:"colorProps",version:"1.2.1",priority:-1,API:2,init:function(t,e){this._target=t;var i,r,o,s;for(i in e)o=n(e[i]),this._firstPT=s={_next:this._firstPT,p:i,f:"function"==typeof t[i],n:i,r:!1},r=n(s.f?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():t[i]),s.s=Number(r[0]),s.c=Number(o[0])-s.s,s.gs=Number(r[1]),s.gc=Number(o[1])-s.gs,s.bs=Number(r[2]),s.bc=Number(o[2])-s.bs,(s.rgba=r.length>3||o.length>3)&&(s.as=r.length<4?1:Number(r[3]),s.ac=(o.length<4?1:Number(o[3]))-s.as),s._next&&(s._next._prev=s);return!0},set:function(t){for(var e,i=this._firstPT;i;)e=(i.rgba?"rgba(":"rgb(")+(i.s+t*i.c>>0)+", "+(i.gs+t*i.gc>>0)+", "+(i.bs+t*i.bc>>0)+(i.rgba?", "+(i.as+t*i.ac):"")+")",i.f?this._target[i.p](e):this._target[i.p]=e,i=i._next}})}),i._gsDefine&&i._gsQueue.pop()()}).call(e,function(){return this}())},function(t){t.exports={resources:["cataudiosprite.mp3"],spritemap:{"arp_synth_A-sharp":{start:0,end:1.0971428571428572,loop:!1},"arp_synth_A-sharp2":{start:3,end:4.044897959183674,loop:!1},arp_synth_C:{start:6,end:7.14938775510204,loop:!1},arp_synth_C2:{start:9,end:10.14938775510204,loop:!1},arp_synth_C3:{start:12,end:13.14938775510204,loop:!1},"arp_synth_D-sharp":{start:15,end:16.097142857142856,loop:!1},"arp_synth_D-sharp2":{start:18,end:19.071020408163264,loop:!1},arp_synth_F:{start:21,end:22.227755102040817,loop:!1},arp_synth_F2:{start:24,end:25.227755102040817,loop:!1},arp_synth_G:{start:27,end:28.227755102040817,loop:!1},arp_synth_G2:{start:30,end:31.12326530612245,loop:!1},drumClap:{start:33,end:33.496326530612244,loop:!1},drumKick:{start:35,end:35.99265306122449,loop:!1},drumSnare:{start:37,end:37.99265306122449,loop:!1},hexagon1:{start:39,end:42.34367346938775,loop:!1},hexagon2:{start:44,end:47.70938775510204,loop:!1},hexagon3:{start:49,end:52.944489795918365,loop:!1},hexagon4:{start:54,end:57.369795918367345,loop:!1},hexagon5:{start:59,end:62.369795918367345,loop:!1},"parallelogram_A-sharp-major":{start:64,end:65.20163265306122,loop:!1},"parallelogram_C-minor":{start:67,end:68.28,loop:!1},"parallelogram_D-sharp-major":{start:70,end:71.09714285714286,loop:!1},"parallelogram_G-minor":{start:73,end:74.09714285714286,loop:!1},"parallelogram_G-sharp-major":{start:76,end:77.09714285714286,loop:!1},"stringbass_A-sharp":{start:79,end:80.01877551020408,loop:!1},stringbass_C2:{start:82,end:83.04489795918367,loop:!1},stringbass_F:{start:85,end:86.01877551020408,loop:!1},stringbass_G:{start:88,end:88.99265306122449,loop:!1}}}},function(t){t.exports=[{name:"arp1",beats:{0:[{sound:"arp_synth_C"}],1:[{sound:"arp_synth_D-sharp2"}],2:[{sound:"arp_synth_G"}],3:[{sound:"arp_synth_D-sharp2"}]}},{name:"arp2",beats:{0:[{sound:"arp_synth_A-sharp"}],1:[{sound:"arp_synth_C"}],2:[{sound:"arp_synth_D-sharp2"}],3:[{sound:"arp_synth_C"}]}},{name:"arp3",beats:{0:[{sound:"arp_synth_G"}],1:[{sound:"arp_synth_A-sharp2"}],2:[{sound:"arp_synth_D-sharp"}],3:[{sound:"arp_synth_A-sharp2"}]}},{name:"arp4",beats:{0:[{sound:"arp_synth_F"}],1:[{sound:"arp_synth_A-sharp"}],2:[{sound:"arp_synth_C"}],3:[{sound:"arp_synth_A-sharp"}]}}]},function(t){t.exports=[{name:"arp1",beats:{0:[{sound:"arp_synth_C"}],1:[{sound:"arp_synth_D-sharp"}],2:[{sound:"arp_synth_F"}],3:[{sound:"arp_synth_C2"}],4:[{sound:"arp_synth_D-sharp2"}],5:[{sound:"arp_synth_F2"}]}},{name:"arp2",beats:{0:[{sound:"arp_synth_D-sharp"}],1:[{sound:"arp_synth_G"}],2:[{sound:"arp_synth_A-sharp"}],3:[{sound:"arp_synth_D-sharp2"}],4:[{sound:"arp_synth_G2"}],5:[{sound:"arp_synth_A-sharp2"}]}},{name:"arp3",beats:{0:[{sound:"arp_synth_G"}],1:[{sound:"arp_synth_A-sharp"}],2:[{sound:"arp_synth_C2"}],3:[{sound:"arp_synth_G2"}],4:[{sound:"arp_synth_A-sharp2"}],5:[{sound:"arp_synth_C3"}]}},{name:"arp4",beats:{0:[{sound:"arp_synth_G"}],1:[{sound:"arp_synth_C2"}],2:[{sound:"arp_synth_D-sharp2"}],3:[{sound:"arp_synth_G2"}],4:[{sound:"arp_synth_C3"}],5:[{sound:"arp_synth_D-sharp2"}]}}]},function(t){t.exports={resources:["normalaudiosprite.mp3"],spritemap:{"arp_synth_A-sharp":{start:0,end:1.28,loop:!1},"arp_synth_A-sharp2":{start:3,end:4.253877551020408,loop:!1},arp_synth_C:{start:6,end:7.28,loop:!1},arp_synth_C2:{start:9,end:10.28,loop:!1},arp_synth_C3:{start:12,end:13.28,loop:!1},"arp_synth_D-sharp":{start:15,end:16.28,loop:!1},"arp_synth_D-sharp2":{start:18,end:19.28,loop:!1},arp_synth_F:{start:21,end:22.227755102040817,loop:!1},arp_synth_F2:{start:24,end:25.28,loop:!1},arp_synth_G:{start:27,end:28.28,loop:!1},arp_synth_G2:{start:30,end:31.25387755102041,loop:!1},drumClap:{start:33,end:34.01877551020408,loop:!1},drumKick:{start:36,end:36.78367346938776,loop:!1},drumSnare:{start:38,end:38.6530612244898,loop:!1},hexagon1:{start:40,end:42.97795918367347,loop:!1},hexagon2:{start:44,end:47.13469387755102,loop:!1},hexagon3:{start:49,end:52.160816326530615,loop:!1},hexagon4:{start:54,end:57.2130612244898,loop:!1},hexagon5:{start:59,end:62.29142857142857,loop:!1},"parallelogram_A-sharp-major":{start:64,end:69.48571428571428,loop:!1},"parallelogram_C-minor":{start:71,end:76.35510204081632,loop:!1},"parallelogram_D-sharp-major":{start:78,end:83.30285714285714,loop:!1},"parallelogram_G-minor":{start:85,end:90.51183673469387,loop:!1},"parallelogram_G-sharp-major":{start:92,end:97.4334693877551,loop:!1},"stringbass_A-sharp":{start:99,end:100.3061224489796,loop:!1},stringbass_C2:{start:102,end:103.14938775510204,loop:!1},stringbass_F:{start:105,end:106.12326530612245,loop:!1},stringbass_G:{start:108,end:109.01877551020408,loop:!1}}}},function(t){function e(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return t&&"object"==typeof t||!1}function r(t){return null==t?!1:c.call(t)==o?d.test(l.call(t)):i(t)&&s.test(t)||!1}function n(t){return t=e(t),t&&h.test(t)?t.replace(a,"\\$&"):t}var o="[object Function]",s=/^\[object .+?Constructor\]$/,a=/[.*+?^${}()|[\]\/\\]/g,h=RegExp(a.source),u=Object.prototype,l=Function.prototype.toString,c=u.toString,d=RegExp("^"+n(c).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,i){function r(t,e,i){var r=!0,h=!0;if("function"!=typeof t)throw new TypeError(s);return i===!1?r=!1:n(i)&&(r="leading"in i?!!i.leading:r,h="trailing"in i?!!i.trailing:h),a.leading=r,a.maxWait=+e,a.trailing=h,o(t,e,a)}function n(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}var o=i(53),s="Expected a function",a={leading:!1,maxWait:0,trailing:!1};t.exports=r},function(t,e,i){function r(){}var n=i(55);t.exports=r,r.lineInt=function(t,e,i){i=i||0;var r,o,s,a,h,u,l,c=[0,0];return r=t[1][1]-t[0][1],o=t[0][0]-t[1][0],s=r*t[0][0]+o*t[0][1],a=e[1][1]-e[0][1],h=e[0][0]-e[1][0],u=a*e[0][0]+h*e[0][1],l=r*h-a*o,n.eq(l,0,i)||(c[0]=(h*s-o*u)/l,c[1]=(r*u-a*s)/l),c},r.segmentsIntersect=function(t,e,i,r){var n=e[0]-t[0],o=e[1]-t[1],s=r[0]-i[0],a=r[1]-i[1];if(s*o-a*n==0)return!1;var h=(n*(i[1]-t[1])+o*(t[0]-i[0]))/(s*o-a*n),u=(s*(t[1]-i[1])+a*(i[0]-t[0]))/(a*n-s*o);return h>=0&&1>=h&&u>=0&&1>=u}},function(t,e,i){function r(){this.vertices=[]}function n(t,e,i,r,n){n=n||0;var o=e[1]-t[1],s=t[0]-e[0],h=o*t[0]+s*t[1],u=r[1]-i[1],l=i[0]-r[0],c=u*i[0]+l*i[1],d=o*l-u*s;return a.eq(d,0,n)?[0,0]:[(l*h-s*c)/d,(o*c-u*h)/d]}var o=i(133),s=i(54),a=i(55);t.exports=r,r.prototype.at=function(t){var e=this.vertices,i=e.length;return e[0>t?t%i+i:t%i]},r.prototype.first=function(){return this.vertices[0]},r.prototype.last=function(){return this.vertices[this.vertices.length-1]},r.prototype.clear=function(){this.vertices.length=0},r.prototype.append=function(t,e,i){if("undefined"==typeof e)throw new Error("From is not given!");if("undefined"==typeof i)throw new Error("To is not given!");if(e>i-1)throw new Error("lol1");if(i>t.vertices.length)throw new Error("lol2");if(0>e)throw new Error("lol3");for(var r=e;i>r;r++)this.vertices.push(t.vertices[r])},r.prototype.makeCCW=function(){for(var t=0,e=this.vertices,i=1;i<this.vertices.length;++i)(e[i][1]<e[t][1]||e[i][1]==e[t][1]&&e[i][0]>e[t][0])&&(t=i);s.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},r.prototype.reverse=function(){for(var t=[],e=0,i=this.vertices.length;e!==i;e++)t.push(this.vertices.pop());this.vertices=t},r.prototype.isReflex=function(t){return s.right(this.at(t-1),this.at(t),this.at(t+1))};var h=[],u=[];r.prototype.canSee=function(t,e){var i,r,n=h,a=u;if(s.leftOn(this.at(t+1),this.at(t),this.at(e))&&s.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;r=s.sqdist(this.at(t),this.at(e));for(var l=0;l!==this.vertices.length;++l)if((l+1)%this.vertices.length!==t&&l!==t&&s.leftOn(this.at(t),this.at(e),this.at(l+1))&&s.rightOn(this.at(t),this.at(e),this.at(l))&&(n[0]=this.at(t),n[1]=this.at(e),a[0]=this.at(l),a[1]=this.at(l+1),i=o.lineInt(n,a),s.sqdist(this.at(t),i)<r))return!1;return!0},r.prototype.copy=function(t,e,i){var n=i||new r;if(n.clear(),e>t)for(var o=t;e>=o;o++)n.vertices.push(this.vertices[o]);else{for(var o=0;e>=o;o++)n.vertices.push(this.vertices[o]);for(var o=t;o<this.vertices.length;o++)n.vertices.push(this.vertices[o])}return n},r.prototype.getCutEdges=function(){for(var t=[],e=[],i=[],n=new r,o=Number.MAX_VALUE,s=0;s<this.vertices.length;++s)if(this.isReflex(s))for(var a=0;a<this.vertices.length;++a)if(this.canSee(s,a)){e=this.copy(s,a,n).getCutEdges(),i=this.copy(a,s,n).getCutEdges();for(var h=0;h<i.length;h++)e.push(i[h]);e.length<o&&(t=e,o=e.length,t.push([this.at(s),this.at(a)]))}return t},r.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},r.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],i=0;i<t.length;i++)for(var r=t[i],n=0;n<e.length;n++){var o=e[n],s=o.slice(r);if(s){e.splice(n,1),e.push(s[0],s[1]);break}}return e}var r=t,i=this.vertices.indexOf(r[0]),n=this.vertices.indexOf(r[1]);return-1!=i&&-1!=n?[this.copy(i,n),this.copy(n,i)]:!1},r.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var i=0;e-1>i;i++)if(o.segmentsIntersect(t[e],t[e+1],t[i],t[i+1]))return!1;for(var e=1;e<t.length-2;e++)if(o.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},r.prototype.quickDecomp=function(t,e,i,o,a,h){a=a||100,h=h||0,o=o||25,t="undefined"!=typeof t?t:[],e=e||[],i=i||[];var u=[0,0],l=[0,0],c=[0,0],d=0,p=0,f=0,g=0,m=0,v=0,y=0,x=new r,b=new r,w=this,A=this.vertices;if(A.length<3)return t;if(h++,h>a)return console.warn("quickDecomp: max level ("+a+") reached."),t;for(var _=0;_<this.vertices.length;++_)if(w.isReflex(_)){e.push(w.vertices[_]),d=p=Number.MAX_VALUE;for(var T=0;T<this.vertices.length;++T)s.left(w.at(_-1),w.at(_),w.at(T))&&s.rightOn(w.at(_-1),w.at(_),w.at(T-1))&&(c=n(w.at(_-1),w.at(_),w.at(T),w.at(T-1)),s.right(w.at(_+1),w.at(_),c)&&(f=s.sqdist(w.vertices[_],c),p>f&&(p=f,l=c,v=T))),s.left(w.at(_+1),w.at(_),w.at(T+1))&&s.rightOn(w.at(_+1),w.at(_),w.at(T))&&(c=n(w.at(_+1),w.at(_),w.at(T),w.at(T+1)),s.left(w.at(_-1),w.at(_),c)&&(f=s.sqdist(w.vertices[_],c),d>f&&(d=f,u=c,m=T)));if(v==(m+1)%this.vertices.length)c[0]=(l[0]+u[0])/2,c[1]=(l[1]+u[1])/2,i.push(c),m>_?(x.append(w,_,m+1),x.vertices.push(c),b.vertices.push(c),0!=v&&b.append(w,v,w.vertices.length),b.append(w,0,_+1)):(0!=_&&x.append(w,_,w.vertices.length),x.append(w,0,m+1),x.vertices.push(c),b.vertices.push(c),b.append(w,v,_+1));else{if(v>m&&(m+=this.vertices.length),g=Number.MAX_VALUE,v>m)return t;for(var T=v;m>=T;++T)s.leftOn(w.at(_-1),w.at(_),w.at(T))&&s.rightOn(w.at(_+1),w.at(_),w.at(T))&&(f=s.sqdist(w.at(_),w.at(T)),g>f&&(g=f,y=T%this.vertices.length));y>_?(x.append(w,_,y+1),0!=y&&b.append(w,y,A.length),b.append(w,0,_+1)):(0!=_&&x.append(w,_,A.length),x.append(w,0,y+1),b.append(w,y,_+1))}return x.vertices.length<b.vertices.length?(x.quickDecomp(t,e,i,o,a,h),b.quickDecomp(t,e,i,o,a,h)):(b.quickDecomp(t,e,i,o,a,h),x.quickDecomp(t,e,i,o,a,h)),t}return t.push(this),t},r.prototype.removeCollinearPoints=function(t){for(var e=0,i=this.vertices.length-1;this.vertices.length>3&&i>=0;--i)s.collinear(this.at(i-1),this.at(i),this.at(i+1),t)&&(this.vertices.splice(i%this.vertices.length,1),i--,e++);return e}},function(t,e,i){function r(t){n.apply(this),t=o.defaults(t,{xmin:-100,xmax:100,ymin:-100,ymax:100,nx:10,ny:10}),this.xmin=t.xmin,this.ymin=t.ymin,this.xmax=t.xmax,this.ymax=t.ymax,this.nx=t.nx,this.ny=t.ny,this.binsizeX=(this.xmax-this.xmin)/this.nx,this.binsizeY=(this.ymax-this.ymin)/this.ny}var n=(i(19),i(29),i(28),i(18)),o=(i(1),i(2));t.exports=r,r.prototype=new n,r.prototype.getCollisionPairs=function(t){for(var e=[],i=t.bodies,r=i.length,o=(this.binsizeX,this.binsizeY,this.nx),s=this.ny,a=this.xmin,h=this.ymin,u=this.xmax,l=this.ymax,c=[],d=o*s,p=0;d>p;p++)c.push([]);for(var f=o/(u-a),g=s/(l-h),p=0;p!==r;p++)for(var m=i[p],v=m.aabb,y=Math.max(v.lowerBound[0],a),x=Math.max(v.lowerBound[1],h),b=Math.min(v.upperBound[0],u),w=Math.min(v.upperBound[1],l),A=Math.floor(f*(y-a)),_=Math.floor(g*(x-h)),T=Math.floor(f*(b-a)),S=Math.floor(g*(w-h)),C=A;T>=C;C++)for(var E=_;S>=E;E++){var M=C,R=E,P=M*(s-1)+R;P>=0&&d>P&&c[P].push(m)}for(var p=0;p!==d;p++)for(var L=c[p],C=0,B=L.length;C!==B;C++)for(var m=L[C],E=0;E!==C;E++){var F=L[E];n.canCollide(m,F)&&this.boundingVolumeCheck(m,F)&&e.push(m,F)}return e}},function(t){var e={};e.GetArea=function(t){if(t.length<6)return 0;for(var e=t.length-2,i=0,r=0;e>r;r+=2)i+=(t[r+2]-t[r])*(t[r+1]+t[r+3]);return i+=(t[0]-t[e])*(t[e+1]+t[1]),.5*-i},e.Triangulate=function(t){var i=t.length>>1;if(3>i)return[];for(var r=[],n=[],o=0;i>o;o++)n.push(o);for(var o=0,s=i;s>3;){var a=n[(o+0)%s],h=n[(o+1)%s],u=n[(o+2)%s],l=t[2*a],c=t[2*a+1],d=t[2*h],p=t[2*h+1],f=t[2*u],g=t[2*u+1],m=!1;if(e._convex(l,c,d,p,f,g)){m=!0;for(var v=0;s>v;v++){var y=n[v];if(y!=a&&y!=h&&y!=u&&e._PointInTriangle(t[2*y],t[2*y+1],l,c,d,p,f,g)){m=!1;break}}}if(m)r.push(a,h,u),n.splice((o+1)%s,1),s--,o=0;else if(o++>3*s)break}return r.push(n[0],n[1],n[2]),r},e._PointInTriangle=function(t,e,i,r,n,o,s,a){var h=s-i,u=a-r,l=n-i,c=o-r,d=t-i,p=e-r,f=h*h+u*u,g=h*l+u*c,m=h*d+u*p,v=l*l+c*c,y=l*d+c*p,x=1/(f*v-g*g),b=(v*m-g*y)*x,w=(f*y-g*m)*x;return b>=0&&w>=0&&1>b+w},e._convex=function(t,e,i,r,n,o){return(e-r)*(n-i)+(i-t)*(o-r)>=0},t.exports=e},function(t,e,i){function r(t,e){if(e=o.defaults(e,{maxValue:null,minValue:null,elementWidth:.1}),null===e.minValue||null===e.maxValue){e.maxValue=t[0],e.minValue=t[0];for(var i=0;i!==t.length;i++){var r=t[i];r>e.maxValue&&(e.maxValue=r),r<e.minValue&&(e.minValue=r)}}this.data=t,this.maxValue=e.maxValue,this.minValue=e.minValue,this.elementWidth=e.elementWidth,n.call(this,n.HEIGHTFIELD)}var n=i(6),o=(i(1),i(2));t.exports=r,r.prototype=new n,r.prototype.computeMomentOfInertia=function(){return Number.MAX_VALUE},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.updateArea=function(){for(var t=this.data,e=0,i=0;i<t.length-1;i++)e+=(t[i]+t[i+1])/2*this.elementWidth;this.area=e},r.prototype.computeAABB=function(t,e){t.upperBound[0]=this.elementWidth*this.data.length+e[0],t.upperBound[1]=this.maxValue+e[1],t.lowerBound[0]=e[0],t.lowerBound[1]=-Number.MAX_VALUE}},function(t,e,i){function r(){this.overlappingShapesLastState=new o,this.overlappingShapesCurrentState=new o,this.recordPool=[],this.tmpDict=new o,this.tmpArray1=[]}function n(t,e,i,r){this.shapeA=e,this.shapeB=r,this.bodyA=t,this.bodyB=i}{var o=i(75);i(2)}t.exports=r,r.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,i=t.keys.length;i--;){var r=t.keys[i],n=t.getByKey(r),o=e.getByKey(r);n&&!o&&this.recordPool.push(n)}t.reset(),t.copy(e),e.reset()},r.prototype.setOverlapping=function(t,e,i,r){var o=(this.overlappingShapesLastState,this.overlappingShapesCurrentState);if(!o.get(e.id,r.id)){var s;this.recordPool.length?(s=this.recordPool.pop(),s.set(t,e,i,r)):s=new n(t,e,i,r),o.set(e.id,r.id,s)}},r.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},r.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},r.prototype.bodiesAreOverlapping=function(t,e){for(var i=this.overlappingShapesCurrentState,r=i.keys.length;r--;){var n=i.keys[r],o=i.data[n];if(o.bodyA===t&&o.bodyB===e||o.bodyA===e&&o.bodyB===t)return!0}return!1},r.prototype.getDiff=function(t,e,i){var i=i||[],r=t,n=e;i.length=0;for(var o=n.keys.length;o--;){var s=n.keys[o],a=n.data[s];if(!a)throw new Error("Key "+s+" had no data!");var h=r.data[s];h||i.push(a)}return i},r.prototype.isNewOverlap=function(t,e){var i=0|t.id,r=0|e.id,n=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!n.get(i,r)&&!!o.get(i,r)},r.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},r.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},r.prototype.getBodyDiff=function(t,e){e=e||[];for(var i=this.tmpDict,r=t.length;r--;){var n=t[r];i.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(r=i.keys.length;r--;){var n=i.getByKey(i.keys[r]);n&&e.push(n.bodyA,n.bodyB)}return i.reset(),e},n.prototype.set=function(t,e,i,r){n.call(this,t,e,i,r)}},function(t,e,i){function r(){this.equations=[],this.bodies=[]}var n=i(12);t.exports=r,r.prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];r.prototype.getBodies=function(t){var e=t||[],i=this.equations;o.length=0;for(var r=0;r!==i.length;r++){var n=i[r];-1===o.indexOf(n.bodyA.id)&&(e.push(n.bodyA),o.push(n.bodyA.id)),-1===o.indexOf(n.bodyB.id)&&(e.push(n.bodyB),o.push(n.bodyB.id))}return e},r.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===n.DYNAMIC&&!e.wantsToSleep)return!1}return!0},r.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];e.sleep()}return!0}},function(t,e,i){function r(){this._nodePool=[],this._islandPool=[],this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}var n=(i(1),i(139)),o=i(141),s=i(12);t.exports=r,r.getUnvisitedNode=function(t){for(var e=t.length,i=0;i!==e;i++){var r=t[i];if(!r.visited&&r.body.type===s.DYNAMIC)return r}return!1},r.prototype.visit=function(t,e,i){e.push(t.body);for(var r=t.equations.length,n=0;n!==r;n++){var o=t.equations[n];-1===i.indexOf(o)&&i.push(o)}},r.prototype.bfs=function(t,e,i){var n=this.queue;for(n.length=0,n.push(t),t.visited=!0,this.visit(t,e,i);n.length;)for(var o,a=n.pop();o=r.getUnvisitedNode(a.neighbors);)o.visited=!0,this.visit(o,e,i),o.body.type===s.DYNAMIC&&n.push(o)},r.prototype.split=function(t){for(var e=t.bodies,i=this.nodes,s=this.equations;i.length;)this._nodePool.push(i.pop());for(var a=0;a!==e.length;a++)if(this._nodePool.length){var h=this._nodePool.pop();h.reset(),h.body=e[a],i.push(h)}else i.push(new o(e[a]));for(var u=0;u!==s.length;u++){var l=s[u],a=e.indexOf(l.bodyA),c=e.indexOf(l.bodyB),d=i[a],p=i[c];d.neighbors.push(p),p.neighbors.push(d),d.equations.push(l),p.equations.push(l)}for(var f=this.islands;f.length;){var g=f.pop();g.reset(),this._islandPool.push(g)}for(var m;m=r.getUnvisitedNode(i);){var g=this._islandPool.length?this._islandPool.pop():new n;this.bfs(m,g.bodies,g.equations),f.push(g)}return f}},function(t){function e(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}t.exports=e,e.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},function(t,e,i){function r(t){d.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new n,this.narrowphase=new m(this),this.islandManager=new x,this.gravity=s.fromValues(0,-9.78),t.gravity&&s.copy(this.gravity,t.gravity),this.frictionGravity=s.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.doProfiling=t.doProfiling||!1,this.lastStepTime=0,this.broadphase=t.broadphase||new o,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new f,this.defaultContactMaterial=new g(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.fixedStepTime=0,this.islandSplit="undefined"!=typeof t.islandSplit?!!t.islandSplit:!1,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=r.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new y}{var n=i(74),o=(i(36),i(58)),s=i(1),a=i(19),h=(i(35),i(20)),u=(i(73),i(29)),l=i(72),c=i(28),d=i(27),p=i(12),f=(i(6),i(70),i(33)),g=i(69),m=(i(61),i(11),i(63),i(65),i(64),i(62),i(52),i(18),i(60),i(59)),v=i(2),y=i(138),x=i(140);i(71)}if(t.exports=r,"undefined"==typeof performance&&(performance={}),!performance.now){var b=Date.now();performance.timing&&performance.timing.navigationStart&&(b=performance.timing.navigationStart),performance.now=function(){return Date.now()-b}}r.prototype=new Object(d.prototype),r.NO_SLEEPING=1,r.BODY_SLEEPING=2,r.ISLAND_SLEEPING=4,r.prototype.addConstraint=function(t){this.constraints.push(t)},r.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},r.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);-1!==e&&v.splice(this.contactMaterials,e,1)},r.prototype.getContactMaterial=function(t,e){for(var i=this.contactMaterials,r=0,n=i.length;r!==n;r++){var o=i[r];if(o.materialA.id===t.id&&o.materialB.id===e.id||o.materialA.id===e.id&&o.materialB.id===t.id)return o}return!1},r.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&v.splice(this.constraints,e,1)};var w=(s.create(),s.create(),s.create(),s.create(),s.create(),s.create(),s.create()),A=s.fromValues(0,0),_=s.fromValues(0,0),T=(s.fromValues(0,0),s.fromValues(0,0));r.prototype.step=function(t,e,i){if(i=i||10,e=e||0,0===e)this.internalStep(t),this.time+=t;else{var r=Math.floor((this.time+e)/t)-Math.floor(this.time/t);r=Math.min(r,i);for(var n=performance.now(),o=0;o!==r&&(this.internalStep(t),!(performance.now()-n>1e3*t));o++);this.time+=e;for(var a=this.time%t,h=a/t,u=0;u!==this.bodies.length;u++){var l=this.bodies[u];l.type!==p.STATIC&&l.sleepState!==p.SLEEPING?(s.sub(T,l.position,l.previousPosition),s.scale(T,T,h),s.add(l.interpolatedPosition,l.position,T),l.interpolatedAngle=l.angle+(l.angle-l.previousAngle)*h):(s.copy(l.interpolatedPosition,l.position),l.interpolatedAngle=l.angle)}}};var S=[];r.prototype.internalStep=function(t){this.stepping=!0;var e,i,n=this,o=this.doProfiling,a=this.springs.length,h=this.springs,u=this.bodies,l=this.gravity,c=this.solver,d=this.bodies.length,f=this.broadphase,g=this.narrowphase,m=this.constraints,y=w,x=(s.scale,s.add),b=(s.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,o&&(e=performance.now()),this.useWorldGravityAsFrictionGravity){var A=s.length(this.gravity);0===A&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=A)}if(this.applyGravity)for(var _=0;_!==d;_++){var T=u[_],C=T.force;T.type===p.DYNAMIC&&T.sleepState!==p.SLEEPING&&(s.scale(y,l,T.mass*T.gravityScale),x(C,C,y))}if(this.applySpringForces)for(var _=0;_!==a;_++){var E=h[_];E.applyForce()}if(this.applyDamping)for(var _=0;_!==d;_++){var T=u[_];T.type===p.DYNAMIC&&T.applyDamping(t)}for(var M=f.getCollisionPairs(this),R=this.disabledBodyCollisionPairs,_=R.length-2;_>=0;_-=2)for(var P=M.length-2;P>=0;P-=2)(R[_]===M[P]&&R[_+1]===M[P+1]||R[_+1]===M[P]&&R[_]===M[P+1])&&M.splice(P,2);var L=m.length;for(_=0;_!==L;_++){var B=m[_];if(!B.collideConnected)for(var P=M.length-2;P>=0;P-=2)(B.bodyA===M[P]&&B.bodyB===M[P+1]||B.bodyB===M[P]&&B.bodyA===M[P+1])&&M.splice(P,2)}this.postBroadphaseEvent.pairs=M,this.emit(this.postBroadphaseEvent),g.reset(this);for(var _=0,F=M.length;_!==F;_+=2)for(var O=M[_],I=M[_+1],D=0,k=O.shapes.length;D!==k;D++)for(var N=O.shapes[D],G=O.shapeOffsets[D],U=O.shapeAngles[D],V=0,W=I.shapes.length;V!==W;V++){var z=I.shapes[V],q=I.shapeOffsets[V],j=I.shapeAngles[V],Y=this.defaultContactMaterial;if(N.material&&z.material){var X=this.getContactMaterial(N.material,z.material);X&&(Y=X)}this.runNarrowphase(g,O,N,G,U,I,z,q,j,Y,this.frictionGravity)}for(var _=0;_!==d;_++){var H=u[_];H._wakeUpAfterNarrowphase&&(H.wakeUp(),H._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(S);for(var K=this.endContactEvent,V=S.length;V--;){var Z=S[V];K.shapeA=Z.shapeA,K.shapeB=Z.shapeB,K.bodyA=Z.bodyA,K.bodyB=Z.bodyA,this.emit(K)}}var Q=this.preSolveEvent;Q.contactEquations=g.contactEquations,Q.frictionEquations=g.frictionEquations,this.emit(Q);var L=m.length;for(_=0;_!==L;_++)m[_].update();if(g.contactEquations.length||g.frictionEquations.length||m.length)if(this.islandSplit){for(b.equations.length=0,v.appendArray(b.equations,g.contactEquations),v.appendArray(b.equations,g.frictionEquations),_=0;_!==L;_++)v.appendArray(b.equations,m[_].equations);b.split(this);for(var _=0;_!==b.islands.length;_++){var J=b.islands[_];J.equations.length&&c.solveIsland(t,J)}}else{for(c.addEquations(g.contactEquations),c.addEquations(g.frictionEquations),_=0;_!==L;_++)c.addEquations(m[_].equations);this.solveConstraints&&c.solve(t,this),c.removeAllEquations()}for(var _=0;_!==d;_++){var H=u[_];H.sleepState!==p.SLEEPING&&H.type!==p.STATIC&&r.integrateBody(H,t)}for(var _=0;_!==d;_++)u[_].setZeroForce();if(o&&(i=performance.now(),n.lastStepTime=i-e),this.emitImpactEvent&&this.has("impact"))for(var $=this.impactEvent,_=0;_!==g.contactEquations.length;_++){var te=g.contactEquations[_];te.firstImpact&&($.bodyA=te.bodyA,$.bodyB=te.bodyB,$.shapeA=te.shapeA,$.shapeB=te.shapeB,$.contactEquation=te,this.emit($))}if(this.sleepMode===r.BODY_SLEEPING)for(_=0;_!==d;_++)u[_].sleepTick(this.time,!1,t);else if(this.sleepMode===r.ISLAND_SLEEPING&&this.islandSplit){for(_=0;_!==d;_++)u[_].sleepTick(this.time,!0,t);for(var _=0;_<this.islandManager.islands.length;_++){var J=this.islandManager.islands[_];J.wantsToSleep()&&J.sleep()}}if(this.stepping=!1,this.bodiesToBeRemoved.length){for(var _=0;_!==this.bodiesToBeRemoved.length;_++)this.removeBody(this.bodiesToBeRemoved[_]);this.bodiesToBeRemoved.length=0}this.emit(this.postStepEvent)};var C=s.create(),E=s.create();r.integrateBody=function(t,e){var i=t.invMass,r=t.force,n=t.position,o=t.velocity;s.copy(t.previousPosition,t.position),t.previousAngle=t.angle,t.fixedRotation||(t.angularVelocity+=t.angularForce*t.invInertia*e,t.angle+=t.angularVelocity*e),s.scale(C,r,e*i),s.add(o,C,o),s.scale(E,o,e),s.add(n,n,E),t.aabbNeedsUpdate=!0},r.prototype.runNarrowphase=function(t,e,i,r,n,o,a,h,u,l,c){if(0!==(i.collisionGroup&a.collisionMask)&&0!==(a.collisionGroup&i.collisionMask)){s.rotate(A,r,e.angle),s.rotate(_,h,o.angle),s.add(A,A,e.position),s.add(_,_,o.position);var d=n+e.angle,f=u+o.angle;t.enableFriction=l.friction>0,t.frictionCoefficient=l.friction;var g;g=e.type===p.STATIC||e.type===p.KINEMATIC?o.mass:o.type===p.STATIC||o.type===p.KINEMATIC?e.mass:e.mass*o.mass/(e.mass+o.mass),t.slipForce=l.friction*c*g,t.restitution=l.restitution,t.surfaceVelocity=l.surfaceVelocity,t.frictionStiffness=l.frictionStiffness,t.frictionRelaxation=l.frictionRelaxation,t.stiffness=l.stiffness,t.relaxation=l.relaxation,t.contactSkinSize=l.contactSkinSize;var m=t[i.type|a.type],v=0;if(m){var y=i.sensor||a.sensor,x=t.frictionEquations.length;v=i.type<a.type?m.call(t,e,i,A,d,o,a,_,f,y):m.call(t,o,a,_,f,e,i,A,d,y);var b=t.frictionEquations.length-x;if(v){if(e.allowSleep&&e.type===p.DYNAMIC&&e.sleepState===p.SLEEPING&&o.sleepState===p.AWAKE&&o.type!==p.STATIC){var w=s.squaredLength(o.velocity)+Math.pow(o.angularVelocity,2),T=Math.pow(o.sleepSpeedLimit,2);w>=2*T&&(e._wakeUpAfterNarrowphase=!0)}if(o.allowSleep&&o.type===p.DYNAMIC&&o.sleepState===p.SLEEPING&&e.sleepState===p.AWAKE&&e.type!==p.STATIC){var S=s.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2),C=Math.pow(e.sleepSpeedLimit,2);S>=2*C&&(o._wakeUpAfterNarrowphase=!0)}if(this.overlapKeeper.setOverlapping(e,i,o,a),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,a)){var E=this.beginContactEvent;if(E.shapeA=i,E.shapeB=a,E.bodyA=e,E.bodyB=o,E.contactEquations.length=0,"number"==typeof v)for(var M=t.contactEquations.length-v;M<t.contactEquations.length;M++)E.contactEquations.push(t.contactEquations[M]);this.emit(E)}if("number"==typeof v&&b>1)for(var M=t.frictionEquations.length-b;M<t.frictionEquations.length;M++){var R=t.frictionEquations[M];R.setSlipForce(R.getSlipForce()/b)}}}}},r.prototype.addSpring=function(t){this.springs.push(t),this.addSpringEvent.spring=t,this.emit(this.addSpringEvent)},r.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);-1!==e&&v.splice(this.springs,e,1)},r.prototype.addBody=function(t){-1===this.bodies.indexOf(t)&&(this.bodies.push(t),t.world=this,this.addBodyEvent.body=t,this.emit(this.addBodyEvent))},r.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);-1!==e&&(v.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent))}},r.prototype.getBodyById=function(t){for(var e=this.bodies,i=0;i<e.length;i++){var r=e[i];if(r.id===t)return r}return!1},r.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},r.prototype.enableBodyCollision=function(t,e){for(var i=this.disabledBodyCollisionPairs,r=0;r<i.length;r+=2)if(i[r]===t&&i[r+1]===e||i[r+1]===t&&i[r]===e)return void i.splice(r,2)},r.prototype.clear=function(){this.time=0,this.fixedStepTime=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);for(var i=this.bodies,e=i.length-1;e>=0;e--)this.removeBody(i[e]);for(var n=this.springs,e=n.length-1;e>=0;e--)this.removeSpring(n[e]);for(var o=this.contactMaterials,e=o.length-1;e>=0;e--)this.removeContactMaterial(o[e]);r.apply(this)},r.prototype.clone=function(){var t=new r;return t.fromJSON(this.toJSON()),t};var M=s.create(),R=s.fromValues(0,0),P=s.fromValues(0,0);
r.prototype.hitTest=function(t,e,i){i=i||0;var r=new p({position:t}),n=new c,o=t,d=0,f=M,g=R,m=P;r.addShape(n);for(var v=this.narrowphase,y=[],x=0,b=e.length;x!==b;x++)for(var w=e[x],A=0,_=w.shapes.length;A!==_;A++){var T=w.shapes[A],S=w.shapeOffsets[A]||g,C=w.shapeAngles[A]||0;s.rotate(f,S,w.angle),s.add(f,f,w.position);var E=C+w.angle;(T instanceof a&&v.circleParticle(w,T,f,E,r,n,o,d,!0)||T instanceof h&&v.particleConvex(r,n,o,d,w,T,f,E,!0)||T instanceof u&&v.particlePlane(r,n,o,d,w,T,f,E,!0)||T instanceof l&&v.particleCapsule(r,n,o,d,w,T,f,E,!0)||T instanceof c&&s.squaredLength(s.sub(m,f,t))<i*i)&&y.push(w)}return y},r.prototype.setGlobalEquationParameters=function(t){t=t||{};for(var e=0;e!==this.constraints.length;e++)for(var i=this.constraints[e],r=0;r!==i.equations.length;r++){var n=i.equations[r];"undefined"!=typeof t.stiffness&&(n.stiffness=t.stiffness),"undefined"!=typeof t.relaxation&&(n.relaxation=t.relaxation),n.needsUpdate=!0}for(var e=0;e!==this.contactMaterials.length;e++){var i=this.contactMaterials[e];"undefined"!=typeof t.stiffness&&(i.stiffness=t.stiffness,i.frictionStiffness=t.stiffness),"undefined"!=typeof t.relaxation&&(i.relaxation=t.relaxation,i.frictionRelaxation=t.relaxation)}var i=this.defaultContactMaterial;"undefined"!=typeof t.stiffness&&(i.stiffness=t.stiffness,i.frictionStiffness=t.stiffness),"undefined"!=typeof t.relaxation&&(i.relaxation=t.relaxation,i.frictionRelaxation=t.relaxation)},r.prototype.setGlobalStiffness=function(t){this.setGlobalEquationParameters({stiffness:t})},r.prototype.setGlobalRelaxation=function(t){this.setGlobalEquationParameters({relaxation:t})}},function(t){function e(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=h[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(n(r.parts[s],e))}else{for(var a=[],s=0;s<r.parts.length;s++)a.push(n(r.parts[s],e));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],i={},r=0;r<t.length;r++){var n=t[r],o=n[0],s=n[1],a=n[2],h=n[3],u={css:s,media:a,sourceMap:h};i[o]?i[o].parts.push(u):e.push(i[o]={id:o,parts:[u]})}return e}function r(){var t=document.createElement("style"),e=c();return t.type="text/css",e.appendChild(t),t}function n(t,e){var i,n,o;if(e.singleton){var h=p++;i=d||(d=r()),n=s.bind(null,i,h,!1),o=s.bind(null,i,h,!0)}else i=r(),n=a.bind(null,i),o=function(){i.parentNode.removeChild(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}function o(t,e,i){var r=["/** >>"+e+" **/","/** "+e+"<< **/"],n=t.lastIndexOf(r[0]),o=i?r[0]+i+r[1]:"";if(t.lastIndexOf(r[0])>=0){var s=t.lastIndexOf(r[1])+r[1].length;return t.slice(0,n)+o+t.slice(s)}return t+o}function s(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=o(t.styleSheet.cssText,e,n);else{var s=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function a(t,e){var i=e.css,r=e.media,n=e.sourceMap;if(n&&"function"==typeof btoa)try{i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(n))+" */",i='@import url("data:text/css;base64,'+btoa(i)+'")'}catch(o){}if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var h={},u=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},l=u(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),c=u(function(){return document.head||document.getElementsByTagName("head")[0]}),d=null,p=0;t.exports=function(t,r){r=r||{},"undefined"==typeof r.singleton&&(r.singleton=l());var n=i(t);return e(n,r),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],u=h[a.id];u.refs--,o.push(u)}if(t){var l=i(t);e(l,r)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}}},function(t,e,i){var r,n=0;e.use=e.ref=function(){if(!n++){var o=i(124);"string"==typeof o&&(o=[[t.id,o,""]]),r=i(143)(o)}return e},e.unuse=e.unref=function(){--n||(r(),r=null)}},function(t,e,i){var r;r=function(){return i(21).AlphaAccessor}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(21).CMYKAccessor}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(t,e,r){var n=i(13),o=i(22),s=i(79),a=i(10),h=i(38),u=i(149),c=i(153),d=i(151),p=i(154),f=function(t){if(arguments.length>1)return f.call(this,arguments);this.colors=[];var e=0;if(n.Array(t)&&t.length)if("number"==typeof t[0])for(e=0,l=t.length;e<l;e++)this.colors.push(h.newARGB(t[e]));else this.addAll(t);else if(n.ColorList(t))for(e=0,l=t.size();e<l;e++)this.add(t.get(e));else n.TColor(t)&&this.add(t)};f.prototype={constructor:f,add:function(t){return this.colors.push(t.copy()),this},addAll:function(t){var e=this;return n.Array(t)?o(t,function(t){e.colors.push(t)}):this.colors.push(t),this},adjustBrightness:function(t){return o(this.colors,function(e){e.lighten(t)}),this},adjustSaturation:function(t){return o(this.colors,function(e){e.saturate(t)}),this},clusterSort:function(t,e,i,r){var n,o=this.colors.slice(0),s=[],a=1,h=0,u=o.length;o.sort(t.compare).reverse();for(var l=0;u>l;l++){var c=o[l];c.getComponentValue(t)<a&&(n=o.slice(h,l),n.sort(e.compare),s.push.apply(s,n),a-=1/i,h=l)}return n=[],Array.prototype.push.apply(n,o.slice(h,o.length)),n.sort(e.compare),s.push.apply(s,n),r&&s.reverse(),this.colors=s,this},complement:function(){return this.each(function(t){t.complement()}),this},contains:function(t){for(var e=0,i=this.colors.length;i>e;e++)if(this.colors[e].equals(t))return!0;return!1},each:function(t){return o(this.colors,t),this},get:function(t){return 0>t&&(t+=this.colors.length),this.colors[t]},getAverage:function(){var t=0,e=0,i=0,r=0;this.each(function(n){t+=n.rgb[0],e+=n.rgb[1],i+=n.rgb[2],r+=n.alpha()});var n=this.colors.length;return n>0?h.newRGBA(t/n,e/n,i/n,r/n):void 0},getBlended:function(t){for(var e=[],i=this.colors.length,r=0;i>r;r++){var n=r>0?r-1:e.length-1,o=this.colors[n];e.push(this.colors[r].getBlended(o,t))}return new f(e)},getDarkest:function(){var t,e=Number.MAX_VALUE;return this.each(function(i){var r=i.luminance();e>r&&(t=i,e=r)}),t},getLightest:function(){var t,e=Number.MIN_VALUE;return this.each(function(i){var r=i.luminance();r>e&&(t=i,e=r)}),t},getRandom:function(){var t=Math.floor(a.random(this.colors.length));return this.colors[t]},getReverse:function(){return new f(this.colors).reverse()},invert:function(){return this.each(function(t){t.invert()}),this},iterator:function(){return new s(this.colors)},reverse:function(){return this.colors.reverse(),this},rotateRYB:function(t,e){var i;return i=t!==Math.floor(t)||e?a.degrees(t):t,this.each(function(t){t.rotateRYB(i)}),this},size:function(){return this.colors.length},sort:function(){return this.sortByCriteria(p.HUE,!1)},sortByComparator:function(t,e){return"function"==typeof t&&"undefined"==typeof t.compare&&(t={compare:t}),this.colors.sort(t.compare),e&&this.colors.reverse(),this},sortByCriteria:function(t,e){return this.sortByComparator(t,e)},sortByDistance:function(t,e){if(1===arguments.length&&(e=arguments[0],t=new u),0===this.colors.length)return this;var i=this.getDarkest(),r=this.colors.slice(0),n=[];r.splice(r.indexOf(i),1),n.push(i);for(var o=0;r.length>1;){for(var s=r[0],a=n[o],h=t.distanceBetween(s,a),l=r.length-1;l>=0;l--){var c=r[l],d=t.distanceBetween(c,a);h>d&&(s=c,h=d)}r.splice(r.indexOf(s),1),n.push(s),o++}return n.push(r[0]),e&&n.reverse(),this.colors=n,this},sortByProximityTo:function(t,e,i){return 2==arguments.length&&(t=arguments[0],e=new c,i=arguments[1]),this.sortByComparator(new d(t,e),i)},toARGBArray:function(){var t=[];return this.each(function(e){t.push(e.toARGB())}),t}},f.createFromARGBArray=function(t,e,i,r){if(r=r||100,e=a.min(e,t.length),!i&&e==t.length)return new f(t);var n,o=[],s=h.BLACK.copy(),u=0,l=!0,c=0;for(u=0;e>u;u++)if(i){l=!0,c=0;do n=a.random(t.length),s.setARGB(t[n]),l=!(o.indexOf(s)>=0);while(!l&&++c<r);if(!(r>c))break;o.push(s.copy())}else n=a.random(t.length),o.push(h.newARGB(t[n]));return new f(o)},f.createUsingStrategy=function(){throw new Error("Not allowed, use toxi/color/createListUsingStrategy instead")},r.exports=f}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(21).HSVAccessor}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(77).HSVDistanceProxy}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(21).LuminanceAccessor}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){var t=function(t,e){this.col=t,this.proxy=e};return t.prototype.compare=function(t,e){var i=this.proxy.distanceBetween(this.col,t),r=this.proxy.distanceBetween(this.col,e);return r>i?-1:i>r?1:0},t}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(21).RGBAccessor}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return i(77).RGBDistanceProxy}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(t,e){var r=i(148),n=i(152),o=i(146),s=i(145),a=i(150);e.HUE=new r(0),e.SATURATION=new r(1),e.BRIGHTNESS=new r(2),e.RED=new n(0),e.GREEN=new n(1),e.BLUE=new n(2),e.CYAN=new o(0),e.MAGENTA=new o(1),e.YELLOW=new o(2),e.BLACK=new o(3),e.ALPHA=new s,e.LUMINANCE=new a}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){var t={};return function(e,i){var r,n,o=Function.prototype,s=Array.prototype.slice;return e.bind===o.bind&&o.bind?o.bind.apply(e,s.call(arguments,1)):(r=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(i,r.concat(s.call(arguments)));t.prototype=e.prototype;var o=new t;t.prototype=null;var a=e.apply(o,r.concat(s.call(arguments)));return Object(a)===a?a:o})}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return function(t,e){if("function"!=typeof t)throw Error("childClass was not function, possible circular: ",t);if("function"!=typeof e)throw Error("superClass was not function, possible circular: ",e);t.prototype=Object.create(e.prototype),t.constructor=t,t.prototype.parent=e.prototype}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return function(t,i,r){var n=[];return null==t?n:Array.prototype.filter&&t.filter===Array.prototype.filter?t.filter(i,r):(e.each(t,function(t,e,o){i.call(r,t,e,o)&&(n[n.length]=t)}),n)}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r;r=function(){return Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var i=[];for(var r in t)e.has(t,r)&&i.push(r);return i}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r,n;r=[i(22)],n=function(t){return function(e,i){return t(i,function(t,i){e[i]=t}),e}}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e,i){var r;r=function(){return function(t,e){var i=e.indexOf(t);return i>-1?e.splice(i,1):void 0}}.call(e,i,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var r,n;r=[i(23)],n=function(t){return function(e){var i=[];for(var r in e)t.property(e,r)&&i.push(e[r]);return i}}.apply(e,r),!(void 0!==n&&(t.exports=n))},function(t,e){var i,r;i=[],r=function(){var t=function(){},e=function(t,e,i){return t+(e-t)*i};return t.interpolate=e,t.prototype.interpolate=e,t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABdklEQVR4Ac2YsUrDQBjHC32B5kV8gUyuLpI9GVw6uPoGfYL4AA5Jp1BwFTNcQAi4dHAJxEV3oYV0zPD3O/iQWmLJx+Xk+8FvKRf4wRXu7ptJARCQMZmRFdmSB7bl3zJeE5AziZLFEWnIHuPp+ZtoyqCQrOFOTYYuQXMyxfSk5FwatCBL+KMkF6OCeGED/zRDUUPbVOL/KMn5uaAULnxsgWID7HsISP8KCkk5+0/g8R64mQFX7HYHIeFQUI2x9DvgdQPcXXLEiW/ioPo0KMJYnlcnAe5BTHQcZDCW9bWvIMNBCETHwcPRNt0uAfMCrC6cg7ghsEEJJDRPQEF+dfihiJ2DmMQG5XBlPVlQboMqRUGVDWoVBbU26KAo6GCDOkVBncotU/enzhQFZTYoURQUy48OeZD46LAaBUFGfv3wGxTJL2j+guqJrrBMsfwd9N5BSCi45Hsn1f8M0vFQVPCUVjVs0DyO0T+wkhrwgZyfGenlvEY80vsGjbpRAjOmeBQAAAAASUVORK5CYII="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACQ0lEQVR4Ac2YvYriUBSAL/gC44vsC1hNu43YbKWFzRRWA1Yynd1axc5GRMVCBGGrYYSNxSDYpFiLiMsUC8OyMAuzkBQpUnxbbGDNyc/VyUwmH5zqHg+fuUnOyVXnApSBOjAG1sABcIM4AOtgrR7kqnPinOQaYAI+p+MDJlB7TaEKsCE7G6CSRagEGLw+BlA6V+gCWPF2rICLVCEhY/P22HFScdu0Ij9WQClNyCAJ7wnMBdzv0eL9BHMGRgdurqB7DUYf7i3wkRhJQhUkeGB/hV4dPqp/8alPKtYoyE2KS7CfEVTihDYE8GsHw058wdaAROxARhsf4NHjiI0UqgHgP0BTU6yZJPQc89sqLBcw/xyt054hqB0LmQC4VoqMRuj7TOReg8d//myjW/ebY0wg6E3gA+Buw5fVGMF2dJrQsBrOu/uBhHk9nLPcyzZTVkAjdNmnA7AeAkXA350mNK1G/73EHoRrDS0EDQVMSMOz0As50BL3joskektMpRATBaxzE5K1ercI1go4vJtQs4/goAA3NyF9LVcBToGEnPfdstYIwSHnm3qne8rWChhnF/Khd6kXevyiew+NFdDILgRMxVv4mwOSbVcnVA+1jkxCd2I66N7KQtAWfdF2YluHAszMQv4+2oiX22DNgfmVWO8gMMX4kUlI9jN9LPcIasgBLbMQT9DWy9BdINikjLCaR/VmRjoOzLvJ42uwjYKKfsjPD6PIn0HF/1DM/1O6+IcNxT+OKf6BlYwy0AAmKUd6E6DxkiO9vztBN/kpWHmLAAAAAElFTkSuQmCC"},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB/0lEQVR4Ac2YMWvbQBTHBf4C1hfxF9DUtUvxkskZsmToFMhkvHnzpkzJYoodNBR/gGBDbUgRZPGQDAaZQgLFFFyIQRo0aPh1eUNzPtx7lRz0g/9intHP1t29u/O0AD7QAUbAAkiATJLIZyOp8QFPE01xG5gDBe4U8p12lUIBEFOeGAjKCDWAkOoJgYZWqAnMOB4zoOkq1ARWHJ+VTcr2mma8HzOgcUgoxJkcHr/BcAD9C+idQ78LXyew3qIgBLtQgCvPd3DiwccDubyCHFcCm1CMC+uJXcCWkwGOxKZQGyc2ln+mBcMIphFctvalpi840v5baI4Lj1fGAzvw21iYww9va3oTHJmLEL5zO7j99O9fv7t/W3N2o2kzvgecIqiFVikm5E8qIYNTDxjjSpHD7lWSYuU5MmZbhIKxByyojBx6xqD+vkHBwgMSqmLaNQb9BRRoSDwgowrW0f6UX76iJPOAlLL8vNuXub5HD2n5V7Z7sLSNL/wnSYlBbU5xydkAA/WgHqEHihdLG+lCThlGsjBq2cJnU+YcMsrS0bQOIYV+y9bTyiGtQ9dcyY3mKXn4Abst/NrYkxU4MNdvP1Y3IqHM9VK3/ZDERxMaLnUbNEmgWI11uX3Sb2ElIe9PWLtjUK0OivU7Stf/sqH+1zH1v7Ay40tDHh+40htLjfpK7w+ZW/ASVyQ1wwAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACGklEQVR4Ac2YMWsiQRTHF/wC+kX8AlbXphEbKy3SXGElXCV2dkllqksTDg1WwsGBcGixQoKQxuJSGISDCEcQPEhgt9hiit8VDlyc7Jn33PXYH/yrmeX92fdm3sx4WoACUAN6wBRYAqHVEpjasZqd62mkmVwBfMAgx9hvKmkaKgEzkjMDSkkM5YAu6dMFclpDeWDC8ZgAeamhPLDg+CziTMWlacL/YwLk9hnqIsUEcPcNPneg8xHaTTjvwOg7rANtTcUaKiFlPoATb7/OhygoxRmaycxc2KACtcWmZq6hChKih5jAH+B6COMBNIpvx+cbhFReG/KRsLh0AjYhdDbmbnl3ztUcIb41REHcDvzWbjD/CRdebg5NmwEKHlBHSvQMjz//Koqbc79r6PQSBXUP6JMm45YmZS59D5iSBGO2CjcwOnNqrAhrg4KpBywRIShyV/4KJUsPCNM1ZJd+Y8gBhB4QcCg/3tkk2wOUBMlSRgQvz1utV04NWX19UKdsSposvrjLXl3UPVIlgMbrv1SDCCk93cY4am6LtlqEkzLxSzpyDJU1y6amax1XZbc+3m8d1TNt61A019vO26Id34Nhy+MNnDrjnwYI8fXHD56gagOJVIRfBiGVww5ov+/khm5XCJklO8KaDVy3/v23OhewjlBQUhzyj043+9egDF0UM3CVzv5jQ/afY7L/YOWqANSB/p4nvb6do37S+wNQ5e44bZ07WQAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB2klEQVR4Ac3YMWvbQBiHcUG+QPxF8gU8Ze0SvGSy1w6dAh2zZWsnd3KXEuLioQQChUCIoTIUDFkydHFw6FZKoUMD9tBBw68aMljCBJ1OKXrgP53hfeBe6+7eJBR00McZZlhi/ZglZo9rfXSQhCTkxz2kyFQnQ4pek0JdzMUzRzdGaAdDzTPETqjQLqaejyl2qwrtYuH5WWyT2rZNU/+PKXaeEhqKYfGF6yvSPNef+bGq2FPbhbpiWN/wIilmdKMi3W1Cc7XJONmjLPThVkXmZaGeGG7fFUXChaC3KZSqS3a3IbEXI5Q+CukgU5fRfkEmQihDJ8FAXe4nRYE4IRgkGKvFTw43ih+ecHsaKzROMFOHT/1i8W8r7qOFZgmWQvl1VSx8fA4s3scKLROsBfGHV5u9csCDpoTWCVZCuD4qFr38jsaEVmFb9nBT2qqJAuUe+ngnkGVAU//luPytecnohGGe0Rtel9f35et5zoOa+iz08AzPftVOPUswaJFQv/rRkf3m4jTPxPac8/agKHJ4xOUkz9eAoyPucG2yqdOmrh9N/e17DV7QooXmEVfYgC27uFORbuOX/AiG7X8Gtfmh2MqndCuHDa0cx7R2YFVOBwOMnxjpjTGoM9L7B3GM9DixyUqoAAAAAElFTkSuQmCC"},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACAklEQVR4Ac3YMUtbURTA8Qd+AfNF8gUydXWRLJmSwaWDU8FJ3NzsFCddRJLgIJ2cSjMkYAm4ZNAhIS5OUrBgIRkcMvw6NEN8BL0Hk5I/nO0++HPvefece7IoKKCKBroYYTKLEbpooDpbm0UisriMDqbSmaKD8jKFSuj5OD2UPiK0gbrlU8dGVGgTbaujjc1UoU0MrJ7BIqlFx9T2/2hj4y2huhR+3/Hjis73d+KKm2FKTi0UKknl9pitLC0qxxIoLRLqSaVVTRfaOZVALy9UFuFygVClyFY+MvbOJVKeF+pI5oWD4twOHFsSnZmQQqwcjNnNViE0RSFDTYhHKnNC9WtLpJahKcKk/zp3Di64ueLsiJMjWuf0h0zFoZmhKy6UENsMngXpZhiJMDjN/V3viD28CDDKMJEjfCke7P87sr1i9B7KM8kwFmE6ZnBN65C9fR5yn3eO8lLcjyUyDhxZgK+5neo/h46sK04sz876oaRurJFQI3gxPrI7q1uVjN1TC/l5+FrociiRarB0PLMzn7BFfsnxlFuTcTsOlI5ocT35lLuHvnD/BLw8Ut/O/WVVJrHiGms/JjdsZenRuou3H+EGbXCRJnP4TSK9eAub58+Q+ufFIpUqnTsBSoEmf+XU1/8ZtM4PxbV8Sq/lsGEtxzFrO7DKRwE1NN8Y6TVRIz7S+wu98ecIquNiVwAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACEUlEQVR4Ac2YMWvbQBSAD/wH7D+SP6DJa5fgJZM9ZPHgqZApZNMWT9qiJRg7dOhiKARCDZWgQaDFgxYZl0K1mEIKDchDhhu+Lhoq6Wr0ZLnog4eGe4YP7vneu1NSgB4wBOaAD2yBfRZbwM/WhlmukoQkeQB4gKY6OvvNoEkhCwg4ngCwjhHqAA7N4wAdqVAXWHE6VkC3qlAXiDk9sUnKtE0r/h8roHNIyKEuvxIIv8DyAzy4EL1IasooZFGH6BNMzuCdysddiADLJBQgIgXnPBMwxP0aAUFRaIAIDdMzs8hFH66G8JwgZPC3kIcE77osMp3Bz5Qj8MiEerJ2kJRlHjc0gAZ6ChghIbzNy9hPNMhIAYv6tXMO3xL4PIPpe7gZg30Nyyd41SBnoQCfyuzgIpPJvgcj3CHEV8CWquzXhwVMEacI2CpgT1XezEJcjuHuFpxxeW3iImCvgPQooYeQHNGsnPPjjYqksi0rCl3NMDLt5/OiVLRlfm0h5ytGIjeft9yIinpeu6gvXYzEbt2+NpcdjHpTqI8xaMp4dmHLflORYbF1yJvq43fyvJTPqCgVtA5pc40N/yJvA1rDawJ2v7Buy5qrfPx4gxvBwfi8k48f8gFtB5MKMvchFQkaGGFT+Gj/++ReJwiw5EP+6XDafw1qx0WxBVfpVj02tPk5pv0PVtLoASNgceBJb5HliJ/0/gBzmt++7apBngAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB00lEQVR4Ac3YsWpTURgH8At5geRF+gKZXF1KFqdk6NKhU1fplie4TnYpkhQnQSgUSgvegCXQJYMOkRQHoYNQByEZMmT4iSDiPdSk555byA8+smT4c+695/vOyWKhhS4GGGGGxZ+aYYQBumghi6mYP3dQYOXxVijQqTNQG2PpxminBGogV78cjdhATVx5OldoPjZQE1NPb4rmpkCN+JVJXqnGukC5dSYfuLygiKjLM+7m1sj/F6htrTkvMp5XqNc3Nmg/FGi8MdBexUAnExuMw0AdGy05OeRon/7hw3X0+7cbBuJ2aTOdfwMV6rKclMMcvPFIBf72ppW6nO6WA03uY9pMK0NPXZafg8fVF6mXYagu5/vlQOdfRRpmGKnFt2B1uizFGmWYqcN1P/jUb1Qwy7CQ7D7YNHf4oYpFhrlUn16VV+foTEXz9EdmzkG4Ec5VNEt/qW/flsPsHUswyjBQ2Yr+TjnQ9b0Eg7SN8ftF8Km/lKib1jryZ+VA779IsEKrenP9eROszi4LKYrI8SNwGowZ+UeJOsIBrXoT3eFuJcE4coQNTI+DjfCdRO34If/p5Ft3DNr2g+L2H6W38rJhK69jtvbCKqwWehiuudIbolflSu8Xfq8yzgYt5TAAAAAASUVORK5CYII="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACJUlEQVR4Ac2Yr24iURSHJ+kLlBfZFxiFrSGYVSBqECgSVIPDsWpQi2kIkIqmatUGxJC0IRmDoIIGQrI1NdukTWbEiBHfmit2zswk90xLw5ccdS+ZX3v+3uNoASpAA5gAS2AHRMZ2wNKcNcxdR2Oay3XABxLsScxv6p8pyAVWfJwV4H5E0Bng8fl4wJlW0Dmw4HgsgHMrQebiluOzzROV56YFX8dCuk8K8tCwD2A2gH4Hei3oX8HtHfz5iwKvSJCLLdETtB24KDZ6I02BcDOC7FP7Bb4XCRHWHmPJSgqqY8u8k/1wfwjzO+h+y575z1hS/1+QjxUhdMUHb9fpwuxV0+c/AyzxAdObrL0ditipQkSa9/uybkuAigM0AfSCjL3LgBeCumMUNB1gijUx9ISgTUiKYCBcdo+CqQMs0bAZisCtwfoA0Rs8jLJBvQ1RsHSAHfaYwK3Zpf1sjZKdA0SoOVgIGlCCyAFCNMQHRWEcoSRUuiyBvih+l1ewf4EohM2vrKjrQO2yJbbIGnPRgpg0r3l3dEE9KZ1h12tyEP/FKrxiy0RXGLcirWeP5OJVy6Z+Q9c69jcifoYWGViDSNU6FM01fswG7Y8biGITY0/Qkx2/Y/vn+uXGj1kjP8WLSsFcOX7oB7Q3mfrF5v1WDWjlR1gSeBjDZYGwdguCZxS4+iH/eHin/Aw6/Yfi1z+lT3/ZcPrrmNNfWEmrmIY8LVrpmbNmmZXeP0tPuejdrt2mAAAAAElFTkSuQmCC"},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACJUlEQVR4Ac3YP2tqSRgH4AP5AvGL5AtY2W4jNqm0sLFIdXs7u6QyVdKEoFstC4GFhQvCKuQibHMKb2HwYhFIl4AXtLCweLbYRXA8e3cmfxYfeAvxwPw45z0zcyZLhRLq6GGEGVb/1Awj9FBHCVlKpVxcwxAb8TYYovaegcoYe7sxym8JdISu99fFUWqgYwx8nAGOYwMdY+rjTYtCFT2mgf/PAEc/CtSVYnrPTYdOi3aLi3OGORspusWBKIu1euAs46d/qwrThQTlokBjMTbzohDF9W0p0jgMVBPrqrI/8NUtd5cFoToS1LaBMBRjle8Pmj/bWj9wGvw/WYg0xHZt2ogxCe5C5zcheXBN+9eUZaaUoSFWOFi++O8ea15L0MjQF+umujvYdGnfcvcNPD2XoJ9h9Oo7dDe3bx1MCVVWYo0yzMSaXO8GOruNaPykQLNMyuWrP/ffsl9yW9+/0gxf/RZrsVYZllJ0C+ah05O/a/s7vIvRlmmPDNYPUbP0NlTzEmmPbCTVek67UhzkohX8/oy0pu55rZdH8nu+3JN/ZY1vt7uBfp9L0EuZGCM8B01d4UWKeuTSEWH9SPskWFo+Q/LSkWEo1WrB05z8D64+FfRTle9SDNO2H6GbsKmDmi4kqqVt0EI/14uDND/xtJRoHLGFTQjUrNK9ZPLolcoJm/wP1z38z6AD+lA8gE/pwz9sOPzjmMM/sAqrhAb6PzjS66NB+pHeXzI84hLEezo+AAAAAElFTkSuQmCC"},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgQAH/G/43MOAGQOn////818YvHT5YpfEAwgoIWsEwOJVo41eCFt0AYp+WD2G4pwUAAAAASUVORK5CYII="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAACVVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Ayk0A0E8A0VAAzk4Azk8Ay03x/PXZ9+QAzU4Gz1In1GkQ0FkAz0/j+esA0U8w1W9S24Yy1nDc+OYA0FDk+ez9//5k4JNd3o7b9+aU6LTV9uH6/vsi0WXL9Npp35Yv1G4513Xb+Oa48M4QzVhe3Y8AzE4EzFBz4p0s1Gy38M0V0Fz0/fjz/Pfw+/X3/fpp4Jf2/fjX9+Ml1miP6LH6/vxs4ZnD8tWz78oTz1sFzFGW6bYA0lD3/fmv78cQz1kIz1OZ6rho35X3/vk/13pk35Nt4Zn0/ffQ9d7u/PM11nLD89VQ24X0/Pdo4JZI2YA21nPg+eo913jp+/DY9+S/8tMYz15m35Qz1XHa9+Xw/PUz1XDi+ev2/fkH0FP7/vx14p4p1GrS9uC58M4V0V2X6rdt4Jkd0WIGz1N04Z4o1GnS9t+18MsU0FwHz1OW6Lb8/v144qGS6LNf3o9y4pw713dW3YlZ3Iv5/ft75KMj0WXM9dyv7scT0FsHy1FI2X/Q9t6z8Mol02jP9d6u7sZh3pEv1W7z/fes7cUSz1om02jO9d2y78kS0Fok02er7cQA1FEi0mXJ89nM99wO+G70AAAAM3RSTlMAAiJJcJe3xdLf7PkADUqMzfgsg8f7F85CtExU0M9TKr8LifriBYv+Hk3uav2BmKlLuMZa3DRCAAADv0lEQVR4AbzN55aiMAAGUFHsigqh6g69F398bzdPP+e47qwFNUCS+wJ31Ik0nsjT2XyxXK3Xq+ViPpvKk7G06WK0obVVdvsDWhz2O2XLOlQ1ouMNnWgqu9CQTVAwZYNJaNk6KOm2NTh0CDohzqDweEJnf756h66HXjy3V+gHIXoKA797qEQYIFI6hnGSYpA0ibuEGcFgJKMP8wIMFDltWFZgoirpwhrM1BSh1IChRvoUSmcwdZY+hA0Ya96HNZir34UlOChfh3kFDqr8VZgV4KLI2sOYgBMSt4YJuEnaQiUFN6nyHPoROIr8pzAAV8Fj6IbgKnQfQg+ceffhEdwd78ITuDvdhg4EcG5CAgHI/9CCENZvaEMI+19o6BBCN66hDEHka2hCEPNvqEIY9RJqEEa7hAQsfP+wXtfLUQRBHMfnLDnhuLsq7j2S/Gb2LC4ESMjh7u6uhbtDcHd3d9fnYntTRRH4Y3tm8nmBb3XnsttbhL8BFExm0QeKrds3wlc26Qar0Aem3XOc1kPwVeUGU7D3rkMVCmrLdPhJucE0rBXvOlLKpbt2w0+6nwhkYGvWLeX2nDtH4CsTEEHY6t6mCm5vFKMHBEUIlqZ2tFNvbRM4QiIMO1vXUa95x06whEUEVtaMo322tw0ET0RUw8aMmdRTLbPBVC1qYKF7v9c7cBBcNSJqM98b6jW/7QRbVMQseiOo54zsAl9MxGFq2WpvvrYSNMRFAhyDBv8/3xCvt6kTOhK84OY5c/GPefN79qnXQ4K10gXnnPM30Uv5diP1WvZAT5zzo9m7r1HW1g3t1VtPPXV4NDTFOP8WY8bmpBw/4a9ieaLXm1SCrqiohL/JU/Ju8eif4rHjeXqenTgJbZWiAgynTlOx7gw85bM983VBXwXz4b1wEW118RJvvgte7+IlGIhwX0+Xr7gz1l69Bly/4e2zfgNMhNkv4OUrqLhy1f0HOZrv4SMYCfFPjMdPaKtPn0nq1T+HmaDGEfWC/o6FPPVevoKZTEDnTHzdkJdEDRsOQ2m9Q/j9hxz1Pn6CqZTmqf/5S06qr+Y99Nf9mPnW8P3HTxjLJrU/10q/mmDud/N2bwIwDENhcAJ36fIzg6T9hzMYUgaUFEe8hd932vyHVH+59ajAZxM+DOnpi497er7kAy2eoE89sl8+I/hQ4lOQj10+5/lg6ZOsj84+q3s44GmExx+et3jA44mSR1iemXlI56kgxpCAewLQCsjusf8fJXt2zWE5oPONN+L5OCA+HQc03jp/yLrPHyrfnz9McXFHjGcwcH4AAAAASUVORK5CYII="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAAAoCAMAAAAPIys8AAAC91BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////+8/+///+r////p//D9//b///L////8//H5/////9v///////////7///z////9//f//////97////////9///7//3////+//7+///+//////73///////6//j+//v///////////f///////3///////3////4//3//+/+//////79///////////0///////9//3+///+///b///c///+//79/////+n///z///7+///////////////x///7//7p/////x3c///////+//////z////+//n8//v9///9///+///+///+/////+ft///9//////63/////zr//zr//+r///T7///7//9r//n//zH///zW//////3///rz///j///r/////yWH///5//////8v///9//////b6/////9f2/////+L//7H//+3///7//+3n///3///d///0//76///k///p///R///8/////+v//+f//+f3//+1/////97///vb///0//+r///7///t///z///y//////X//8/q//9c/////9b//zfD/////9L///7q///1///Q/////+fp/////8fy//+0/////6w1///w//9+//81//96//3///fi/////97//9v//+D//y3//+nN///8///d///s//////P//6k+///4/5f0//9U/////8HM/////+mA//+U//9+//nf///C/////8z///X//0///43r//////L9//KI//////L8/////5v///n//2/+/+z//+PZ/////9///5fu///F/////9X///H//9L//73//6y5///J/////1up/////7XZ//8A//8l//9t/8Dg///c/////+bf//////////75///+//////r///VYHmjsAAAA93RSTlMA3eLf9fDh8+bj/O7g7f322/ny8feO5dlpASboAwni6Qb4VSlcUPTJDv6D+7z2O+tEkzg/8W4QGdRR+HYsIpHRFpwkgDBxqehgEsWtUFq0R3b6SnvAzCeoIXgoL4W4ZKIeM5f6irFWuF3+TQoJM5XZZqcPENc1/OzVcW0WRPSaCOfH2ybgoKKOnVYcw0iTyFPPxtJd0m6kI8vdes9x5p+Lr8K6tzlUB6luWafuL6dLsnuZFS1GWRxr0IOOMWgehLyNk62kgxUhgkKGskU2kx2bT8N7JXGJ6qp80Ow1ulvGS0RjVPtfnfKtso17iEmrX9wRIjGv7/WylrtKmwAAD65JREFUeF7tmnl8FMeVx/uovqZ7pmemW92SZ5QRi5A0nkGNJHRgCUnWhQ5HWkmIZR2BDiRAwjYgc2MwsJj7xsYcAUwgtjFxMMZOiNe7duz4jONzHcc4cbJJvNmce29Jwn9sd08fo9FoEPtZm7Af3l+qN2/61ft29a9eTQv587Ku5Nols5Eb05qSa9OzxhvsT/Vfb9Zr8MwjP78xUad0u9s2do4r9N3fJfXO6e2unFt3PVl/D3qv/AVyY9ppCP7pb8YRl1zPQlEgBAA9RT9Iu36s/xqQt92orP+KYr5yddapj0EvKblEQgwGUBbOnJ04Oi+vaeL1ZV0+Ja+p84ZkfX8vRLGQ3F2ZXFm6JyjJrszUROHLz0ni7deX9VcnMOJf3pCsL0CZAaWRxVz3mhKQ4T2Jwr92LuC43qyHAqEbknUuoEnP+9ZwPiVJGdkJ4r81gwHXm/U6jLohWe8elsUno8YneHRwa4L42TMYcev1ZX3HVAY8fwOy/g7KkOwt0RoxgRE23msNB5rac0pbuyISntJZUTfpHOdcUFFYUThyx6yYPqsA8ffn5LSvNVwPLynNSUofuYelzcpPKk2qLhnZ62S19OTkJFdEWH8TQcorZs+yI+pmzY5Kdv/0ioKn1uHEPYWzK6z+9O30F0tziqvidVDlFdMr/EhBcnf38ykRj/9braWl7S0FIydWVZxTWjo3pi0Y6FeLb8/LsmeqlpmFpM3Pyak0EJXXJqlVliPIS1dl7b+DxT2/GUFtJ2DYO0021at8IQhFKfOX2vCVY3iZjKEoIxcpD4zAteucDPLK6wkI4d26o2TpZhbCoIJ/9qodNWkmJ7igy0vW9yO21ZYFHBAKXE35QlFn/XVPkWI/OjmCTG+3RmcUuQwlURwrkp2GjlQd2qwEIQTMzLNxWnYnXpb6jJuC8MFHdUfLzuMihKFAWXRze0eYATAIWa6mxHYW9qwKhGDQw5S9b9LeO1UmujozvWaZqT0yEYRBp9zu381fjfV3Lohc8z+MXAlVsybeZejFTKjQXugIMAKs1KJ/BYOUG0dJjwsuGMH6FxOcVEe9h8Ewj856ieKiAx4IaBrSueYCXQq9tKDW6ZMoaO8QSZBlMMIBlGBbI6OzPkMRYHGqOcPjBPtje12/DkPQKeNu2uEYfE73rCFcNM2r9CR2sGM062Envn6DlyGFw1pR/pMQSKxLTRmAYavfemeIkFSsPE072Lmm85lN0CcJKkhJGWybbqjXkMJuaxMZjBE01llh6MMY4PAGQuF65mqs33rTI3FjbYU7jgVxYWVNdWWmiGHwcQT510O9HeHjOHekYWn4/ZGspzJuJcCyDKOzXjikkOKy9ur1kiDz0gd6iP80xAMZjcX57UU8Tg8eNJI8BUmcohsql3Je4HRH9LpRxARTt591uF2ldqKLc2o66jfgzLKlNWH9Evl9ARQw3fmVBybTKKxJjWU9GcdZHxVgKJ31CUj6QLi1ulFQZNgQWVIp34e4xJdV5ufgAFVcxo8EeeeAW3A2VBeHJyuyo2h2hPU6DHUGCCcjaawXNUA3A9D1lY2XBYp2X411di8fKCocS+6DbnFmtiaZR39FBm6LiEPXDMx7u9+KsVmjaChzyfTpJWoBX9ugMKBSu2zVfpcMz+shCyHulOdrmlrYIbr5SxEqy/tonK8pUbV09kkgoRHWawBqNZ4nKK55+8hkC9eRVh/yFuHDxZcnasqZDxT3YM9o1qgEGlqmz7olRZ8Dy9WqmdP2/ifrHow80L8eVtdAvgah4pCICg/qSnx/EXBTl/LUQlPny6IMwxZr1FNfGylz9TAqgcpO9Wq5DTyHj4f1x/fGD/j2EJpxSieiSagbvhHZ8mYwvM4hljUubjEUMOUl6G42YAyUsUzgE23y/wI9oTwj/DSLuv6gBzwRkle8bHjXrMMirHfMIOnFT+u+RftYYaOtrGbF4CEj1ZsuecXt5oQvYzTxwSjWWMgUyfJNLL2yyxR+DHyqycpAmxen5hsRLwEctmoBv4My2Ghsvp2rFBL+zMiMe7YYK+2VIgI3y0ROTEbHw/rBMVi/xDPCD83BHoEuKrD663islcxHzVZmKi781G8CoDjHixrrJ+bUW/fouxD1TNLVeDMTOGKp8ROC0fMd8qB8JPU0AgOlY/fXVRSqfGy1FD1Qdv19LGvOnu5qiIvW5685cIeW43WH27PFdD58nNZFP7UtIKl3xbD+oMwvSI2wZmea3vug29ubYgwKjvmuhXVdySzTNGoPb1KEBfacQwzztzrIsVg70q2SRPzKQXOwaBXt+Sg2/Nl5pDhN30NZboX9lKzhDdbpIgkijc7JYbd499isv8ejgw8hFqnNAbYtljVNmi2t/xGes7fZX8zDg9pG2A1I8Q/2AoNQe4zuUBjPy5Yz5bSAsxMjrD2TrE0doFe2R51LroX1V4doRjfaeafGw4WLB+2m7jId2J6Y9Xxz8KbgvJRlTwI4DSWybe9UTNTn/KMQQzeNPssM7FOISwWahBzzsfV3jc36BW+gaLpN9jEQWHZLLGvUDPg3iRTtqWcdc4KtKsf9BLvRnm3V3LNNKeq8IKdE9aU/CXLs9ghrscW8AftZpawwwVkmMWuv0+lkJVJSVNaa8ivb5iZHLL37OJlxa0LWIXNd+3cS0rLi2sgX5ybvjHq4stM7wpq1kXiE9WMhetnTo1kju3l8hUZ9uYDDH4x9Rk/bSQjRzedRL5bxj7Gs8YnGYLkTD4STjZJqWzcx7AI/smgPS31jFJd3QqT0d/Zw13EJ3GOwnmaeqvY5gZF7/KwvGcXuPV5UphqKk7TGutiFowqIGAUUFOefGx/r1HoW5byAMr4qodiPdfVB5u+cBwQAVQOywXqpSC9eG4f1GRfq0Ir7PaClTxKwnikQ0aAWClzz42OyzlY4t0QBwwQOdS5I02brHc2624Nhd9rD5Zto/oEY1gVtCvjna2H91n+LtDzRYFReV1dXUHBCjLCuDqqsKdvA4GfjZ016KdvEz3XWr80TGW+zL9zbWJO5wWB9aF581gOZhLS4QNUI0fkpkpC1cB6x7RmCvO35MVnnqqxpKsrggyrrnaz3s1EpcjzM4qh1veNAAMSyztqjgPPXwvriHz0kNfLceNJlsaZ7e5Js29Y/btbMsu6ob+YkabK2cFii2Y48/beQvevICOuaMdY1crKPZL+JnHEy2hlq/OuaUNd1ItZ0fVJUSd35Kfq6Ph+HNRm9rrvirOvya13Xi9YQuGvLCFdpyGLd3BUTPl7W1E9HZzomSL5Jpv5NxSy9XhxPr5HlGxjHA2pvSLJ3J2DtrxdG6PVqTa8Tsb7yfiyB1Mx4et2t6vWr/8d6jUyciktY4WjWeg8sbr921pGdffS7nV0+CWy1TiMm6wsOhsmOx9ofZtlTBR1s8xx1kKAPoZSiTjvgCRCQS8ZkfVHAPTlWrD1b4lRarPdHQU5pibqHfRx7Noa1fz/LthVcC+u0R0TZURmP9X2XGeEb/xvWyPcpLvSz2IijE0j2oBU+wWC9UMEcv7VLMvvryK1eWbmHVqEmYn0U4NCWwLfdCnsYGZP1wJ4AZncX9mwx/ue2CnWsv9WPIO8qjBj1uDdSOPtBDGvkQzW3XeYhcFXWyLf7MHplbpTjw2CEtX8PxWT80HJX5Nqs70nMumlY9p6K2rBSDdbeh6z6eGNv7GQYZZnVP3d4bdYPSz6Ok7GVt8RnbVxqOUBZO9VPXO7QrfFZmwejZvtcmTZFd7ZAOfSAtco3Qdjm1xRP8dGWiLzOoyB8VyzrFugGT1oS2Ra4OmvkESgTmP28nFlF46zKWmuwZSdWZbhnbf68Ni3ybpe82rpO3cfLoQ5zlN93SuOVzmLCRvN4PA/HRT1lyjtB2fEbE5XI2ayRx0QU47wf+UezXjiBBIaG+E875NAWs3gnw2RMTMB6+VSa8dRahV8p1Y9L+yg0w5x7johC/W4cHZbBYWMn6ZRZHOoRNmvji443jMEfRdRiXV5SZ6xPI/PsEqOKHZt4mVV+G2mBq1pRQSYiD1rWMVEGR+ZrYWnpMgWadWEsPKAwX8lLyBrZ66LxwZouPV03YKB22n1lVQDldV/T0j4Sxfm5kaaTp3HxvJa8M8nDoFGsfw1wHL0yN96h4DitfDzb+Bso6JWO6docaxmnG/YgCVgjJyHqy2gv1wZTGh0S1PejZyHmo5NTNRQXXLh3caHOa5Mor8jM1W9hJpAdYf8o1sjXIcqIb2jhuQ0Qx03W9zFAztagvQj4HI3eUwToNbbEKhnipAsN16hnOhQyON980JCL4x5Z8dZvK95WDxQa5vuNXwxQGg23bU3AGnlqOOAWuTntlY1yiAstq9J9EHfzaDgc9vG0SKLUc5HQ36tu0T2nY06R6CSiWZdvZnDlSDwJ9B+j0EBR+ICuI+lQcfNyQ2v3HsqHwvfWJmTtD0MO85Q1tCaFAwCHDVm6txuSEqjf1l5TxuPsoPGI514WZS82p7InfJlwi/91NzKatf80RDmxrLcmzAGnIpus/wPi8D2NyZCPblbLudjn46Apn4VzQg6O9mpGYy6xvsvS6MxhJ0d4KS8rhTKSTYGfp8g+L3wyEWukmoAk7aUor0+BmZ2RHulNyLp9Xi9Bw7bWAxL7nqGQFyAhB1Q3Cz/dLUWxRpL6UFCDxLM1kEQVajAizbVOyATUVCwHQr33IglZI1nbII8rarTAgMH1aQaz3R4Px6plBiTXSgtlVRH0SVokppbwCRKHNfLKfuhDnV4vKwx+dIg1WTeKKH9YCx7CuebnVbWHKCraW/yShsseoJ0NHVLNkiiFLGgv69P8HqJjih082UFRMe/Adg2F4IjHfcrSyyH9sFlUmWXdANmlJvGwvSXIAQitXS+/yKG5iZpX/x16rtis31UL++UYL/8donpp48nI7ghoqXjP4cdHR344HAQjusDk8GRRjRbFmUtsZ+1MXnOuWJkTJfeFL8pa8cCx+I1UUxyHPPBs9KGhnXRpEeTWlO9Ch/H/fGugS++NdhyDsF7Vq4EXIHRHz6Fqytzi4uRJeUYuy+ryzlbnJzdVjejJzxZXnx3ZxmZl5+aVj+RR0pScnz8/ry76YlNqi/OnVWkf5uXmWp8UTFnSmt+vugfycrPtjvVZ0YeuReJbV21x9bQKK1VLcmv1tOyUOIE7srNzY3r93En5+fn92THOadWtyU0x1Rc21RYXp0eVUJCdq49s6+zPb01uma32m3nZXWlGgv7ciAo2tejBA039nciftfl7qeCWLyXTTbtIMNSfvpRMN20pUMoe/RLy3LS6nnnaW4Iv2m7aM401mR6cCKz9wjPdtDXQw7q9V9K/+Ew3bTUEPJQOfgmZbtqs4u6ePz39/wzA/wBwOGCjTVMyswAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAAB4CAQAAADMfHEQAAAGkElEQVR4Ae3d7W+dZR3A8c+5ORtjW7sHBggCw0m3gUh5GmxtZxgTY7YYX6DDgTpjiFkANTyY4AtUHhJ8AWagBokhyhggAY0QRGOyQbdDYQ7YlkFdCzo6BcwYA9ote+QcE9/caWx7+nDa+7qW+3P+g2+u3+++c704d0GQKm16tGmzUbeoFCoCNN1uBVD2msvtEo1EiJoVAImZdhuhPGiL1HplNZQHLRmhPOgEF+VBa+li4wEc8moetJYDv9GBPGhQGzQPmliQB62lc0wFUPFSHrSWA/+aPUdz0HyD5kHzoDOdFnfQYsDnc6edamGcWWabY5Z6depMltir53+/Lp06vGl/AEGDH/hpPmeRRc5WNLCKN7V6zvPeyYP25WTLLXeBxOAUNGhwDbZ7whqdhq1Qqai9Zy01HNO8rwDgXNsM1XhX+obFEiOxycNW+yj+h1JTmlO31w3NZDfZYbXLJUZmnvvsdJcTYw/ae+DLBm+SH+tyt1PUSr1bdPmFk2IOunCYG3SZ7X5iulqb4Dodvq8YZ9Bjh3WxPNdajzvVaJlilVctjDHoPMcCOOxlg7HSZpcZbZ/V6i7F2IK2SG2yXzVTPel+E4yFglusNzPeoCXVNNrsCmNpgS2WxBO0oGkIQS+z3hnG2lRP+XYsQT9jmtSLBrLcn9XLQtGDbo0jaItUu936t9IjxsvO7e6tEjSqd9Cv+aWCbH3PbXGc0OpBv2i1RPZ+5LthBz3N6VIb9O1ivzdOGO51ZchBW6T+4y19Od4TJgpFwYPOjiNoq74UrHa6kEzypEkxBC3pyw8tEZqzPBBm0CnOqRK00W1CdLWvhhi0SQJgr23oreBXisK0Sn14QRdKveBjvfEd84XqFHdISSLYoCf4qZBd5/ywgo43b8CgPzBVyI5xR1hBLzIBwBGb9Ha8a4VuqQtCCtoi9Yp9ervRJOG7NdSgJb1Ncb0YfNk5oQQtaB4g6JXqxaDgmlCCnmW6VJveVojFVcaFEXShVIddUjRoEosTLIEk6A26QkxWhBd0g96WiskXjMs+6Ced0e8JnaFRTCa5hCSg87nLP6RYpCAui8MKul5vi8mD1vKRNF9s5kkSWap3br9BC2aLzQRnJMFcLO+zVYrTHSc+c5NgBv5FR6SYK0ZzkmA3aIMYNSSyM87FAwSdLkbTE9m5MN2SPrZRb3ViVJcEMvCb7c2D1niD5kFHqnnAoEUxKiaycpYZA1ws0yNGPUkQA/+md/Ogo3kPmget+SOJbjHqTmTjZLOqBN0hRm8lAZzP3Tr9vw4x2p4EukF5QzkPWrsNykE7xKbsjUQW6jRWDcoWsemwP5GFBY4BsN9mfVsnNutIMh/4lxzWt7Vis5Yk0A0KHd4Wk7LnswladMmggvJXMdnkg2yCXmAigLKX9O8RMXkEkowHfqtu/Vtnp1gc9mgIQUsGUvGwWDzj/fCD8pCKOPyGbILOcYLUCwb2hj+IQbtnsgraIvVPb6vmTjG4UyWEoCXVbfG00HV6nFiCcruKsN2unFXQk5w55KCv+LWQbfAoWQVtkdpju8G5xS6hOmylShhBSyoG5wM3CdXd2kklkfxD6Bp/EqK/u4Psgk7WOMygfNNOodnnK/ZnGXS+IoADXjEUeyxzWFhWaifLoC1Sf3PI0Gx0k5A8YA3hBC0Zup/7mVA843qyDVo0f4RBudlvhWCDZY5kHfQ8kwCUvWg4Kq7xlKxt8SX79SnJ7NNTHxqejy3zmCy9YLGP9CMJ8R20ikOudo+s/NHn7SGEoM01CkrFzW5QNvbud4UDhBC0wUk1CwqrXO5dY2mfb7lWmTCCtkh1+ZeRW6fRX4yVrS70EIQYtKQ23rPEDfYabUfc4xIdHO1BqVhljseMpued52YHCSnoiWaPSlB4x1UutcVo6LLcIq9DWEGbpT70ulprdb6lSmqp3Qpn+p0hKTqg9g5V+YfQitHwrGe1uNFS441MWav7PKViyIqOO6o+f1pSMs0yX9esYDi2WeNR/zZMhYoxMNFHigAWKhl9p1pskUvNNDjvafWcdbYDYQe9zFoAB01x0Nj5lPPMMdtss0wxUeqAHl06dOq0TbuapCiO+cC/PKY52WGHVGKyOokeex1RXQRBS7JU1q079o9NH2NBMEFB7EEbTQZQ0ZYHreU9aLs9edCAN2gedEMedKQ+7RP5CR2t8/m2rjxowAOfBy3lQUdqhrl50NE6n9225UFH6lidANqURSD867sZFmjS5Gn3OOr9F1LEphDkeDWOAAAAAElFTkSuQmCC"},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAP1BMVEUAAAD/SgD/PAD/SQD/AAD/SQD/SAD/SgD/SQD/SQD/SQD/SQD/QAD/SQD/RwD/SgD/SgD/SQD/SAD/SgD/SgBTE6XmAAAAFHRSTlMAxRG/A7pRvvvZO5AQ813WoqFc8vmB1xYAAACrSURBVHhejZTZDoUgEEMLyKIIgs7/f+t9MNcYg3bO80mGZVrcsXt3cymz67vFmBCTXKQYBspi5IFZHsqUZUCecGP1MsSvN2eTF7bLmry84v8Ts3yQT2eRT847mm/JAEAQQgAQmRQBm5iULKpQKhqXGhyXHGYuzShcKji4dKjG6Q7eudQ1j7mrvkXzwcpV4UunX18eBB4pdTh5zHlh8OrRlNgYW9tZh61a3PgBvlRN4eZKuEsAAAAASUVORK5CYII="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAQ4BAMAAAAnbL+PAAAAGFBMVEUAAAD///////////////////////////8jfp1fAAAAB3RSTlMAx3AiR6DiP7bn1gAAFZpJREFUeF7s3LFu3EYUQFFC0QcwliO1k8R2PZ8wSIykpQ0YammvYLUid4bv9wN3AgTeIgTBjXJve8AV9mGGq+p1F5DZDeptJr074bNf8dmvA+pn/OTPZYvuNKy7jPqEGqwj6oIaI+qCGsNOw2IdUSfU6FEbagyo7RKH1aM21BhQZ9RIqBU14B5yPertjsNKqBU1MuoT6tLtM6yfeVgD6owaBfVpyxutR23HDCuhVtTY8Y2WUOtOw/ply7DOqMuOb7SMOh4zrIL6tN8b7bzlkg7AHD/5Zst/YeOWN1pGHbdc0gLMZdQ/UT+yFtR3qO9ZE+oD6vcXAJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkZ73Upl6e3W3TrNwKOiLeob9Tn3FBjQJ1RW/5PKvCZh5VRK2oU1Ira8mG6ziMOa0KNHnVCjR51QY0Rdd6k65xwHDNqlKPOXaQN44iEerP+cMZxjKjLYeduQo0edcmkcV59eOLX/3DYucuoZ9TIqBUUDi183+3nbtryO9tQI6HOW65w+7fLtybUSKh1y+/siLrseYVXt688wnaeP94/VtrcchcZtUdtqJHW9TGiokZGPaEu61/qpx+0rgn1N9QPBfWMOqHGgDqjRkGt3QWWUd+h/ppJP/SoDTVS9/8qoybUL52ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmbmL5nXusdmwm0XF7Ssq8AtXiWMGVXn7ioq8ZNSiPuOGGj1qfYVK3KMuecM4IqOWC9V1nviSnlCjoDbU6FHrUbqybebZNFY0Mmpd3yfzo4Q6ZdKoqEveT1e3r0Sh3SxRUaOgzqgxoC6FNBpqDKg96+r2lYq7WaKgVtRIqA01blCjoE6ZNCoobBW7Tx10P6NGQp1RI6E21DihRkKdMij86euOukqoM2ok1Bk1EmpDjRNqJNSlHLBQ6CPqX4X074oaCbWhxg0ojPJiu86oD6h4NPhIX8MoX2e/o37KpPffngFnV7l77ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZGW9fuXy9O0i7f9i5e6a2ESiMwo4ksy3L7uJWcQC3IsHeVoQPtYsTxm3IDuPaCej+/S1Q40KHiQav5fHhlE/jufhD1QvrK6prM27RuEXjFo1bNPuwcsMTKWr3bRaV11fU9a5Pl/Ddsj0dbf9Vdd1mUXl9RcX1lShI1aakGQUijUP1pSoi6pI0ViVpPO2JNsfMB6R1SRp1ThrPqKtd0aZFfMGdqzonjVVJGqucNOqCNPqmgwOc9Tmoc9JYlaTEBy+nBI0oUfP/XQcpbzPlqKuSNJ4LUuIMT5k1u36k3zagm5wbmyOPjlDjqCCNx5I04h/Unx10m31Cvf1AWtVfSSOOStKov4DCY+lOlpSkvz1+II16XoBGNP+J/ShFHc4L0ng8acBeK7sCNDMzMzMzMzMzMzMzMzMzMzMzMzPb5Xh9RXWLxi0at2jconGLxi2actfVLRq3aNyicYvms7rNXRe3aNyiUbtus6i8vqJuYJsl25gmvVJeX1G7brOovL6idtxmUXl9RcX1lXhmVZuGEfHwlTRWalPyMIf9lSSi/msOGhF7oq+Xza94Xu3hfgwaEcVu6ga6Ikwffr8fn7QqnKMH2rPm4/HJ9cBjvUGfLq6v2095vPRYv3bNVjq9O/ZYb7O/ePH5/jja37O/8GvoLODF+K7rsTylmZmZmZmZmZmZmZmZmZmZuUXjFo1bNGrD5KprM27RuEXjFo1bNG7RqK7NuEXTXd2icYvGLRq3aNyiUV2bcYvGLRq3aNyicYtG5fUVtfs2i8rrKyrPPqi9OZbH8lhq9y+8wca0YO3Zax6kpyMfDlDX+3j30GoXd/CQlo3266H09bLTx3a8GbUPVabvacbyXa+nNzdTevMd3rKL+NGOy2jXZLndUdetdPMv3PkMhnmzRcRPQNCzDcwF96DpIeD7+EZ3Bj0L0PMATZegvW6aA15GThg5IGgSoLvbtMBTFoSg0z3cR/xIeLkCnMaa+neFp3xaA8PKBszMzMzMzMzMzMzMtRm3aNyicYvGLRq3aFTXZtyicYvGLRq3aNyiUV2bcYvGLRq3aNyicYtGdU/GLRq3aNyicYvGLRrVPRm3aNyicTHEY3kstZ9rM/1fquEfS7X7Q5rKD/iqw6zd1UFgVqemu+sgXdD6ytCJ87WyJT2FTQJ0GKSTXR7Pbyuh38p0RHoboEmQTkjTIM22ok3TeKJTgqYL0lmAZkFakWZBeoBaddemy0M8JWgSpAvSWYBmS9IqQLMgnaEuUZsKwlvSc/6Aky5IZwHKX7NV94XTv0HfojHh7AdgEqDpiHQWoFmQVqRZgG68nLA6BBwGaLokrQI0C9IJ6HZLC9Iz0vMaNAvSCWkSoD0uRf2TsHoCTIJ00ej+lJWkE9J30ah1fcuamZmZmZlxbtG4RaOu9x879+8rN9GHURx7Zrwtgle4fYVIpk0itG4D0o37IOEWisQ1P5Ln36eYBlGcYqOrJZejp/zIzXfLHZ0n2JOxRWOLxhaNLRrV2owtGls0tmhs0diiUa3N2KKxRWOLxhaNLRrV2owtGls0tmhs0diiUa3N2KKxGOKxPJYtGtXajC0aWzS2aGzR2KJRjZizGs+/XR+/3DI/Ab35T0e1+gc96D9WTqqvTCHt/7WHIRwELCfpEtKDdA7pgvrmHk+Oxubcpb20kraQdtIS0ob6hnTsoPpKC2knnUO6k5aQLqgHaQ3pRjo2YYlsJZ1CupK2kHbSGtIN9SRtIR07qb5yDWgJ6UZaTtIlpCtpC2knrSEdu9Ipa0g76RzSTjqHdCctId1Qz6G3J4Gek7aPpCvphJ2qNfDtFPp2DXzbQtpJPz0J9BPh9jVgDelOWkO6k9aQbqD3TS+9JZx+J11Jp5CupFOGwj6/wN0Daf1AupPWgD7N4Z0b6jtQ55xzDmaLRrU2Y4vGFo0tGls0tmhUazO2aGzR2KKxRWOLRrUnY4vGFo0tGls0tmhUezK2aGzR2KKxRWOLRrUnY4vGYojH8li2aIyN2ZN5vBaNak/GFo0tGls0tmhs0ahPvxhTH0GtzaDak7ld+SmE+ulPcFR+3KWOrVRfmUO6oR6k9SRtqA+k5RlpRX0FOtapvlJCOqF20hLSBbWTlpAuqB10bMP6ykraQrqjhnRC7aQlpBNqBx2b8JSdtIb0grqStpDuqCGdUDvo2Byqr+yoIZ1QD9I5pBvqSdpC2knHQvWVBXUlbSHtpDWkF9STtIW0k44dVF9pIe2k8+2x5xLSBXUlbSHtpGM71VdqSHfSEtIL6kk6hfQgnUPaSccuqCFdUE/SJaQraQvpQTqHtJOOVcIvviVsX5EepC2kB2kLaSedQ7qD3jU1xC24H0nrW9IfSOuvpDuoc87dfbZobNHYorFFY4tGtTZji8YWjS0aWzS2aFRrM7ZobNHYorFFY4tGtTZji8YWjS0aWzS2aFRrM7ZobNHYorEY4rFUZtXazOfQorFFY4tGtUVji8YWjS0aWzS2aNTPr0Vji8YWjS0a1Z4M6AvQMXwYWFG/R/2OtKK+Qn1LOqNeUd+DjjOH6isTaictIZ1QO2kJ6YTaSWtIx7GovrKgHqQ1pAvqQVpDuqGupC2gn5wEOkhrSDfUlbSFdCctIV1Qx/dUX7mgrqRzSHfUkE6oB+kc0h10rIbqKxfUlbSFtJPWkF5QT9IppAfoWA3VVy6oJ+kU0oN0DulOWkJ6QT1Bx2qovrKhhnRBXUlbSDvpHNKdtAZ0rKJuqCG9oJ6k02Pd+SBtAR2rofrKTlpCuqGG9IIa0gvqSdpIx2ooCrCTlpP0Slq+IW2oz0jLI6hzzt19tmhs0diisUVji0a1NmOLxhaNLRpbNLZoVGsztmhs0diisUVji0a1J2OLxhaNLRpbNLZoVHsytmhs0diisRjisVTPYYvGFo0tGls0tmhUezK2aGzR2KKxRWOLRrU2Y4umvCZtqD+/vluL5gVpRX1AfUc6fSA9SOeQjl+C6isN9Rlp/UC6oa6kLaSdtIZ0Bx1rH6m+spOWkE6oB+kc0p20hHQjLQEdW7C+spLOId1JS0ivqCfpEtKT9BrQsZ3qKyWkC+pKOoX0IG0hPUhbSFfSsZVO2ULaSWtId9Ia0p20hrSTtoCOlVB95YJ6ki4hXUmnkJ6k14CWkO6kY3OovtJJ55B20jmknbSF9CCdc7OOLaH6ykm6hPQkXQJaQjqhvnwkHdupvlJDupPOIb2iPv/36dhB2kL6BvX5k9KxB6ivqDe0WVTnnHsyLRrVFo0tGls0tmhs0diiUW3R2KKxRWOLxhaNLRrVFo0tGls0tmhs0diiUW3R2KKxRWOLxhaNLRrVFo0tGoshHstj2aJRbdHYorFFY4vGFo0tGtUWTSEt/3t6LZrygvQlaX1P2j+C3rPr8vrv+lc7d9DcNJZHUTyWnOmtO2GirboT4+1L6ExvRRjIVs1k8NYzAbzFsq379Yfq1JSoLnSqBLjyd3zv9lfeqGJI7PfOX3Vck95OQDOB5nPSNwL97jbLGHVKmm1JZ6THAs0L0ucCvRTpw0qqr2QT0hlpJtIZ6bFA84J0JtBLgR6L9GFZS/WVGWkm0hnpsUDzgvRWoNcCzUQ6R33YjOormUhnpMcCzQvSNwI9Fuh4Sfq7vkm7jUX1lVvSTKRz0n8INBNpQZppB9rtluorY5HOSEcCHS9JZyKdP4Y+LF9SJONWoJlA84J0pLDKpRqor4xFOkMtno6Cbzo8FunoO/Ryj17bbY71FWs1oM1iHVBfsWJ9xRqn6+IWjVs0Vs/zPLdo3KKxukXjFo1bNG7RuEXjFs3hqVs0btG4ReMWjVs0Vtdm3KJxi8YtGrdo3KKxujbjFo1bNG7RuEXjFo3VMQK3aFwM8cPyw3KLxuraTH5TH1iLJj8HvXq37tWbP6T1PrZoXpBenfRrPl02fZrfFFKPdiGViC2aKWj+y6pfx+/Uq/nrpfr1J2mA/ugWTZZAx3PQ8Vz9elWoV/Op1K8j7Uj/v4rqK9c1aLYEzQr169VS/fqL1K+ZHkcf9mYD9ZVrgV4tQa+X6teXUr/mCqgPeymor1wL9FqgL0Va7KF+3qWgvnIt0GuR3j4xfXgcUF/JRDo6MD3KRfWVcafWzyugvtKpdUCbxTqgzWId0GaxDmizWAe0WawDyi1W12bconGLxi2aaOoWjVs0btG4ReN5nucWjVs0btG4RWN1bcYtGrdo3KJxi8YtGqtrM27RuEXjFo1bNG7RWF2bcYvGLRq3aNyicYvG6trM1asvwC2am1ekM324OKgWzfQigc7Vvn0FKrX1k2rRTH/9Z+rXufSftxWoVLPuWYtm+u9fL16lPi0kfSxJVe9Aoz6sQpLKSLr7h5W/SH36x88/n30sD+ph/XYzrfr03Ud+O+yf/rlx1VtfeXEzPav79B3/Y/m9Ogmj3Q/H9EyLvvrKTFK/zg9Mj2YS1Fe+VCvXV75U64A2i3VAm8U6oM1iHdBmsQ5os1gHtFmsA9os1h9abnGLxuoWjVs0btHoJIDurEXjFo2V6yu7L9WM9k65vmJ1i8YtGrdo3KJxi8YtGqvneZ5bNG7RWN2icYvGLRq3aNyicYvm4NQtGrdo3KJxi8YtGqtrM+du0ajTcY2q8rBaNKMStS1JtUp716JJqG9K0tu2JNWqItU2YIsmoZ6VpEVbkqqtSLVNpHr/CC2aPKGuSlK156RqS1KtKlJtUTXZRYtmnEiz1TmpdIeqO1Sdo67SLq6jcH0lS6Sj9o5UOkmk+m8i1bOjcBedKqqv/NS+TaDSh4pU24pUzZ5dobvVSdVfX7mVVhekav91QJczZ5L+XuE12E+o64PRIResrQOCAtYBUQgrB0Wsgx+Wdfjb0DqgzWLdwX+0btFY3aJxi8YtGrdo3KJxi8bqFo1bNG7RuEXjFo1bNNYw1ZeDb9G4RWPl+op1eIvG6tqMWzRu0bhF4xaNWzTW+PM8z3OLxi0at2jconGLxi0aq1s0CfXuwFo0GerlgnSktH8tmoT6DLWoUVeoWgRs0WSoo1NUVagNqmrU7aO0aO5Q5zVqm0i1QVWJ2qCq/MYWTY6anaKqRF2h6h5VFeoGVRXqpk+PXmB95fcata1ItUXVKWqbSPUeVRXqGrVNPXpUlFRfKdqKVA2qJqhtItU9aptIdY/aJlJNenSsVaI2ixpUnaK2iVT3qG1FqnvUNpGq/qbDbCOpoTaLdIraJlK9R1WFuo52TPJW0im1WdRWpGpQVT2dA7jd7Uw46tygtqzpqeiASwPWAddRrAMuOlkHXKGzDricafW1X7do3KJxi8YtGrdorH4bukXjFo1bNG7RuEVjdYvGLRq3aNyiiaBu0bhF4xaNWzRu0Vhdm3GLxi0at2jconGLxurajFs0btG4ReMWjVs01v2f53lu0Vjz9NRaNAn1dYn6AXVZ712LpkJ9vkDVArVF1SRei+Yc9fkGVRtUrVGVUD/tpEXzG+pljbpF1RZVW1Q1qKpQN306xvpKtkBVQl2jKqEqoYp1haoatenRo3lJ9ZX5FlUT1BWqJqiqUVWiinWBuu3RS22wzaIKui7SBl+ril6rDarWqJqgqkJdo7Zf16NCbaI2i+5RW1QtUFeoalC1RlWNukHV13UkqaY2i7aoqlEbVFWoLaoaVC1Qt6iq/qLde7TBNosq1A2qEuoCVSXqClVr1BVqW31Nsz8tUZtF96gtqmrUBlUT1C1r9UO1OwqxoDaLVqgqUdeoDWi8gyHFg2KbpU0+cjTgcJd1wLFB64ADqdYAR7vdonGLxurajFs0btG4ReMWjVs0Vmcu3KJxi8YtGrdo3KKxujbjFo1bNG7RuEXjFo3VtRm3aNyicYvGLRq3aKyuzbhF4xaNWzRu0bhFY3Vtxi0at2jconGLxi0a657O8zwvv8A2y7RCfYZ6VhVPKuv1etlgm0UlaoOqElXq0aB7Lq2wzaIatUFViSr1aNhnpRbbLJqgblFVgu7T0+rCD9hm0QJ1haoaVeo09rpAbkVtFn1CbVFVo0qdBl/XUKA2i9aoYp2gSp3ux5tQqqnNog2qWCfFgJh46BV62ATbLA2qEuoCVVKnodfVVxbYZtmiqkJdgO7Tj1ZXX6mxzfKWNZGelAO+zgy5qF/fx1zQ6kvQBa2+hFzUFk3IRW3RhFzUFk3IhW3RhFzUFk3IRW3RhFzUFk3IRW3RhFzUFk3IRW3RhFzUFk3IPWKLhqMAIRc1ghFyUfMqu5kflt+GIRe1RRNg/tXBv5T6z50A8x/S/ojGH/5FmT9W5vkLC38V5i9ZQ81f3/N8MMRHjnyYLeSitmhCLmj1JeSitmhCLmj1JeSitmhCLmj1JeSCVl9CLmqLJuSCVl8iLmj1JeRcfQk0z/sfnHjlGfbLAYsAAAAASUVORK5CYII="
},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAAAoCAMAAAAPIys8AAAC9FBMVEUAAAD////////////////////////////////////////////////////////////////////////////z//3//////////////9f///v////////////////5//////8z///m/////////9v///7///G0//////////z////////////u/+Tt/////////9X///LZ///9//3///////zs///m///////////+///4//r////+//7+///+//X///z////////////9//b+//7z//v+//7q///////+/////+7///////7////////////+//b9//////////T///v8//35//////7+//////7///9I//j///82//n////9//7+///+//b///////v///vq///v/////872/0L///79///T//////X//////3/////o//////b//0b////s///W///p///+///8///t/////y3//zQ0//////qV///3/////+77//////XP///2/////6D8///n/////9v//zz2//3///b//0X///vr///j///b//////j///T//0T///T//9b///L//+/B///3///v//7A/////4///xj2//9H/+ri///y//////aL///W//+v///4//////WD///o///l/////7n//+OM/////+T//9z//2P//92m/////+3//+f3///+/////3f//7v//8fs//////D//9v//4T//+35///6/4v//8f///f//6q3/////+zB///N/////9D//+D///r///js///Q//////7u//9y//CY///+/+/8///u///t/////8P//7P//6H//yT///al//////Xz///v/////8b///b//77i/////53y//80/////7jZ/////33//6n//2///yf//1///8J7///X/////+H//z///5L//3r//5pY//+r//////////3+//////f1//94McDeAAAA93RSTlMA5+v9+N778/Lh9vTs3OPx4O3m/AZp8OlB+N3iju/z+TSnkWs2qASyFcSdzAHM5DkjFSbf7YlnbmHIDNaacg8ZUqTZLjoIPbrbihJASr7Yhxx1eZa9KaMylIO4CdISrE5ZRh7b/FeAGg969ybZl3x/TsZEZkeJPqn8bhsJIPSK337qobm3JuRftzmQuivhlIY56tIWXmNT4rD3sWIVKO0aeefzKx1yw2Z/8dCkjSCUwwfKoc08Yn1MD8DFw3A0dOUvfcuaittVPaVc57TVx8GlSk64vb+fq1KGPK819trgt+6TsEHNPKvhbLhlIDDYYZnqYSFud22NiERE3QAAC7hJREFUeF7tmml8U1Uah7PdPcu9SZMzTXq5mqlNSzrXmgDdki7pQrrb0pZu0NJCpVAEBCk47CI6KDrgBriiiKDjMuM26riO+4IKbuM26jj7vp4Uv8y9ubn3pgkg44e0Onm/tPn/3rzn3OecvOc9b6L53yxtHfYie8dp+lbbi+4s/9oA0nZpyLvz5dP0HUa8o2enGMAtI8GR674lrNdBPPKz0/S9EmLHvyMKvbNa24oyUgLg1xDCx78lrGdZiMzvnqbvTJK4Lcp63mEId52XEgBnYAh+1v8167sAsztVrNOsjSljnWZtWVmSCgBp1r2zGXJ+SgCkWdfMZijPZLPO+bDV7c4qOjdBnldR53Z3V5eoSrnPJ+S7koYWd9fI3PzkQDW+Al+9Jr/R3VV3dUy6p0gMXTDRr7woy+0emVszQbxHFINVGeq0Bgt8wpzmtizreiIWXxw52CGwxiewvl2Yf11F/YRwZeLsVw3Gsc6YAqwrDj5FQahnTJXZceqg+2Ngg5Aze4PK458JjO9qKrxWFEKSb5K9VXvx5hDZWN/EQggviAq+zk0MhJAhXrokjkylidELEVzFFao4t3OTUfCkzO3KHeCc7yFYtyZgRCE8X5qoF6AQYmbP4GpHHOvabeL8baD0s5+q8QpLjcIYDmR6yTrDlGFd0glxHqCQslq5hUWKvAKBWisO9UbeGDkiX3E/11N5dWsxC0paaZ7MvCYx1g/3MlTlMY53ERLrS7XQCjhIaq2QqZWdFh1GtVYKojoeh3PkrR3EUKuWhCjgHZHpMuvXcLJnDNWaCYl1G8R5gkFJna3PQ9AK62EbyRtt0MJroVe5i1dCo9mF2ygA847xU4V1TQ/0Ww3e7sLAdgoBNntMbpzmCOO6sWDbkSUgpDzDmbiJtlDgSEtWHwVCTOaDiaxvNod1gGHN5ijrRWsZOrO0rnAZgTdT4ArJ5y2OcVI7pxcuLyZ5AgYksXUcIBTdVdjdt4RH4PSM2L4GYSujw3hzlPU6yDtx4Fk+3YRTjElhPXOct5J5y4NjDNOsz1ssiTsgQlPmyuVj23FKF54qrG+FJjDjyVxB8FVCpxaeLaVqJ2bCVlaLaW+AoJqhR2aNOMniBWVCxi3cAkLkypwk1k4T6i0sKKgSHnrpdsZFtoinQMfFsNl2WdTlwGHWhFb6BLE+yFoJ+IgofohpacNWUSwPkjpnZLnMGjGRrm5fQdXVQrS9OhPZky0sw+DDLFBYr+AIAOxiql79W6wZvi+J4y6CDAjx8n1dpNk5RVjfvh/wG+QMeSVpMkhEnoMhw+UlktqxCbgEJBJrJybLK/ZqCeq9ZNbk7+Ws+Q4ML9wsOfQWWwjmV6J4lRBZThKzltBUkwAv52I0vHCOnGIYGoCLYqxNlj/Lif5CfSjz1ZqYzzQ+xrrkC9J1W6OkrjcDdvRGQczZRoaUeMNL/FOEdTd0kvfKQk6pg/9UnFZ9s1W7yyfLAzDEnZUhsdburJLlLBKBP09iDbyLY8LSLQS7Us7Ha1gXukyEfpfR+PyNsv8+AzskfKSyDU5GvWR0wZBtc4y1y/hETO19DWhf6VD6SViM9aJxxDBHVtfZnPAacQOxfuPuspiYP5uZGqxLDrL0LrXWu4FyRlrEM40lbHMUNecxltAOSqzxdrVvuIVgissSWdvsSg1MIsfvlJ0zvgDkq/kCG4eZ+kxtjULOIeT8q0hnRD1nl24ClrwYa+UjoOkHZk6d/aJYfZ1/Jef/qEp55zQaiqvUiiGRzWpPdYrUIWdYEGq6Kqy3EuRWQf6JzaVdoMobbS6wQGLtyKtRluANi/+2JxJZQ6WU2UPpRnPVziZpfFbIqocgwqqRc6+pGMjV5L/uMPbFFfd7MOGlxBpdJouHIM0MJN1l5r1mpY6qAB5j8ej0SS0iF6RTp75+0YLAf6lCzjaGf164rbzB8aNXq/ILwEz9KIm1phU6Db9IZK2X93X+2xg/NFJkj9oq+zFg3lUlPLjNz16RWAoVM9Rl8cc15trwssSaUzbCfyChLUhivdTPg2J7bJCiYB8PHhdyx8XCutYks65522h4d/JY17J+eH6c8AZlvl54okrOOnqRqq4hePLeZNZ3QIT6wclZN1mctIXCKMmsJtenQo3TradnJLIuKWawX8YJszB64bWJrN1rCe1NSaw7EN5kloegMMIEHhBKEg9l/PH3k1nnvINzd08ma4L7Z5ywg+NF1p2c9oG4fe0La8kT7Ot/n5r1MdxE45hqpPjtyEw9P/SPE7CO328rKCIzifWOE7L2IXyYx+JMf73AetuJWWuGSZX15O/rTnlf889/9b4+9FWszUOBuizF3G7hfG2x0eCmr9jXD2F0Musu7iSsrV533CDLRoT59ZyE9UwU/mbyWK+xIPCZ+HzN8qPnifuaH7pRlVdo+RPl61uhkzxFvm7CHe1Jk6jTI18vXz8Hae0lyTnEz8uFtGpivn7g/inH+gwcIQOqcGC/ixrLj9YhfK0qX2Vzgf4k1vnvYMSMPyWzVp6YMnrrEzEcgn727ARNqEMYb64q7MNAaUEi643jfmN/Euv1n/DkWBKAPaQ2XHUC1uW+jvMmj3XvQYYGf1Tra9IJ3xf/sgSqXlNyDlpcr1yUVF+v306w7TUnZ30hRqO/S8Twgo6n1I1YFVg252nBUxj2D2pvlQb4fZpE1qutvEFNtpeKrKX2P4H/IBHAOkd8ZhyWWMuWetYKEOgkNytQX7fw0Zv0OZu0YKeSRN60hckP7pdYgyGlEL6DQmBAc3LWtUvC7EoVwOoyUSwpNTKjSutzB4QwW6g8OcRyeVw1H0afSWJdUgrATuUMcVMSa01wPMTFJZEF0hI6EHZlvqx52ElhTW1NFJc+BXjDI/ITcCbyVSlrjIfIR2PHiw/R0bBf7vNlHpVXYBpwbXjvFKwzHuNC6Jhy4K19tkpa3BAqr/hbOO94XOyHvM2Flc9RhYPgZxSorNVd0Wy4Lzalv5BmWmJ9YD9Dc22yTyCyVcxaOZ9zIf1L8tIZEIV1TX3qWDNHzy3LVaxc3KvD0Ak2FIqbYDBgIXgopenB7VQo0j43ejnuw0PxfT7L0aj8wn6mmbtMcwrWmtUccEY82dF4bgsPPxDFW7Ss07E1yvKGw0b6+HVRTwNAIoFBkYbdajTBbk0y6/UMMJGPirk+txtT+3ytEDFnuqMdhOoxmxk+GV1E1EVzd4uDdAT0LqfMeoW3uTU/Vaydrr5ir2J8NNF5oJ+n8gKtY6Wcn4/Iaa7BgoUw2rO87hjLhNG/XaH0r80MivR0183GjSEm8uApWWvWjetCpKu97mFPKUobdmZL+3Yt4+SG5rcEmihAwznSs9uhALJ0ftuyYsrqhI8ujmetXp1cIZLuqfR4DYzFqfSvO6HZz5V6Hm7p4Q0IbJfO2L9Cp8lQ6qnsaTYwrNy/nvcJysALUsUaoY2MatK4GQFI0Q4cwwEBmSfVyjssfi+DYRaCgUcu0cis+eJ9ezkHhuEuE7qhX3Nq1hq7DrrEIDjQQa9P7hvx0AWE8RwEuTBL9lxlkUSWJrn5Iupk1pqNEAtpcdzC6nfvQAiZdUaWnvMDcaa8JTK/RBJ790AmDHDc4YBHAzrioyjrA1v4EPx7in5jRk00eY3tTUtIDKM48FL8EVLQZRqnBNm2+5l8jcLacnnOHaU2QSfJ9gVJQ6z5EoXBeKG204piQpBIaUt93FeLPCpEMGT2DKieDZVG0ZM03HetLJ3zMYTz46MVFUffR3mevuVLTv0930MenBMHWVgcN3ZrSC/4crrKxW9C7rjUD9k3Dl95OiWse2uzJ1rtYtmhuiLYtqqxKiHA4IKituBAQ5kkyPW10N1uKGptG6jWJFtJdXVD+USpY4G9sHCgIXei2LiqLViREKGq0T5RzKmqbvBNvPU0FI0EK7KFZ1lTXR0XMru/sLCwojYj3je30T5S2N8hpI6G6uwS6e2NjYOab4Kpd5m0pZ512tKs06zTlmadZp222RAiqWGdtuEjRwI533AA/wUPfFdkhdEY3AAAAABJRU5ErkJggg=="},function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAAAoCAMAAAAPIys8AAAC8VBMVEUAAAD//////////////////////////////////////////////////////////////////////////////////+Ut///////i///Y///////////+///5///s//////VJ///////////5/////+L////////4//////////zh/////+X9//34///////////////////////7/+3J/+X////7///4//7///78//z///7////9//////7///////////////////////////+i///+//75///9//7+///6//9o///////+//////75//7+//////7///H+///3///+/////+z///7+//////3n///K//////3///v8//7s///////////9//////X+//////2W//8v///////m///7//////g+/////8n//1/8///8///7///+//z///vT///////+/////0Xu/////+3///3//8D//+iQ///m/////+X1///m///s/////zr//7T//5b////6//////r///v//+T///PA/////yr///T///b5/////7P2/////+7W///z///f//////wx//////7d///9///6///4/////9ie/////5b///X//7Lk/////+n//5H///Wc//////r///D8/////9b//+b//+Rs//////3//+n8//Dl/////+H//+P//+D//9n//9T//9Wz//+z/////9b///n//3L//83//yX//3z//2///9Fk///d///l/////8f//1bM///r///3///9//+l//9q/////3GX///s/////8f//+nU/////+f//+/n//9E/////51j//+Z/////8xz/////9T//8HV//+I//+V//////HK//+w///q//9u//+o/////3/r///u//////WW//+7/////8PZ/////4DI//////PB///g//////n////9//////P+///s///8+VuPAAAA9nRSTlMA9e/c+fDz4vfr/ejy4Nja7t7859+zLYuNDe3AOAXC9QHl3W6hquPwcCAjYSLV7PtpjpEIAunCFZ0QuszJgnPTppc/XNY4Oy41tQsOQ4UpEiV8D9DNPBgxRogbO/3MZYdYX3YclKKLMnggDtYHth3X+OVK28KuTwyvy/l5ix9HR9JxgBI/fsb0/fKuOKwy8F+CXqVlmVC04hhTxufg6jtuZ+luZr6K+kLsuOE4pXw59d6eNVpdJs/GXyisDOQvqylDOZcsX8mKQzJWvX+NYXWdt19TfJ4xmENReYNueSqm1kUukyKGbm+9fmuWUBGWntV3uqrDp7t2rIe0AAAIxElEQVR4Xu2aeVgTdxrHJ5OZX36TzJGE2UUDqJOWKWqaIIfcBAJyHyKXKLCc9dwqsFprq6vWom7rerVarVrtofaw2nbbbbf3fdBuu+127/u+775o/9qZyUzC9Qf2eeB5DHz/ge+XdwbymTfvb34TiCvStMoKWlt7JwXAtFYt9PNPGNynEIB7zg4khNTmmRTW83qc8KBmXt8Q05QxZViv+BDCQoX9NQ2TwPp6hv6SauIOgx32TRnWX77B6hBsFFZllxkWjlRMHuvVfpsAOVOKtdSS352ent4dw2KJR2Rg0lin/B18zUVTiTW3Z37QJJdUmmwCWpMxWayJtW2tJcSUYm1/KmTvvjdK8P10UlgbmmKs54f9TygRf3VSWE+z3rIuFcWkGK58aWVSUk1J8jAAqwNK2LSx2vDhyqalGeEkbbHHM4dIS8zPf1ZPqhKSupoqyohVIdbliz2LtZOnzPUsblC+NNZ0JeUEtMhQxtHopKRET7C4IZJYpxxzMWvmBk1cwjabDwBL2T8KF6xdWStTAE6mMDpMu7pmm00JfZI/J83IZti5lpS73QjgGc17NshIKYny95bVuXTWf0b86Uc1oLM49BARmylhACo16+thALnrvE4AWsybuWi9cO77kcR67Zte75pOfXsHjMQqVGUaKo2CzmNK6AKgJRv4jXXtyVpIlUgAUmKgr9hgDXY+3UvLnOnbqi2SQOJsmCJpsnSdRWedC67ZGuuZb2K4tnUXJp1Uqiizlw4YAOLBa7GwTsRAadd675nHIon1kloGZWpmWR046HN5uQPZ2GKBW/Rtph9474XMjoR4hhQwf6MWNh7HZpIszc0tZV08ZanSWZscImlDqTJWWc+TMc+grOimbDtiObPO+hqwfDPIehbjFhnEtlQ2ZSMbTzv0YbQAHCKS82rie1iWEbjZ10YS69+v5/BnmjkIAo4pUgfEJ59ztjN7tfAu4E2FR8sIYk7F9bQA/9DGTj8W6DW9ccrQ6c3y8VRWss5adEehvApP1dOK2wQ8ybWnKWfbuI42O8Zg7XCbLj5VrRS0W6KE5oLgbdGgLOJu9Z2yuAvL7shi3fgII+w+pJqtg2725rJgeh8lwFtquMglMaI+zZUVTsax6k9BQd2pL4h1LgecMvrasvmUDuAsLaeeu4PQ3zD0WH1tJi++HCzYvl5EL2kDrRTzzcZTqh3rxQhgTX6sm+pWnuWpliWq2YRlOrRE9bNSYbVi3gczZeAj3hi0gNp+MbS8J1RZhN3o5ueDrDl0qxG/D2583jBbr5PHYG0hd+oFabVepN13vu4VbUKDns75yH71s3bImV35+fld6XnZgzaeMnvU/LfrGPrhUNUMnyx9qlyLLEY232aEaT0ACszlNgmFK4n/IcFXFGRt6+vUw5n9Lu60Cs1o/jFY43jC0DGafThFMYm0Ax4KpTtwBLA2e7EmihRkqK3S8g+sIv5WqGrrCYlRNpcraAf1mzDW3oL2RoL4MbjZfeHwAxBNh4KsUwsNvCtIEXXPGbaXGc06jzD0NZKOUYf+d7Ak7wylX4kI1qkUVmTizBJ/y036zLzsZtJbE4Nqz+/hLpxXWtjFwe3ECO0AB/1i2C4/HsU+pvc1P1cPH0cOOE+MZj12X89RWcdprJna6shiHfXZypyBgZoFsoXpS9bzDqXdGWTI63ZgZVyUMFzzKNY5Vo7cO2wDzn5jJOsALcJ3r5z1YRNz800RxZrbow+Lv1iF5nw9TwBltKAhgteUPQsjX7h/JOv9VkvUy2G7up8czbp+lwj/unLWpYh5JsJY23XWW04wFvxqiLW0IXpBWOl/JYhYL+f80+i+Fukhfe3xj9HXS79YX2+KuL4O72V+B27jIV8uOHaXjCyOtYuj5/V+cLBD5vWTx21jz+tbvtC8zsqIUNb3CKkO6hXN/EHB/vGoYlL03Toy/Bk4UFvYvjEomhJHsl6xS8T5V876TiwdORmhrIn7rG4Uk6yas4xMj3qOXb6QkfqWGC5uID39gFJ5r4SGVB7Egu/VkayT3yMtR240SpZt846P9QO0OPT+OrJYl/M016y5lIVoyG6QmBfcXyeBsPlZIysZBGhSKmfR0rlHjfBxUqSzbhvJmki67MChVXW5XR4f6+fsorclxYg30BHFmnhgUPAWap27fZB3WRr1uOr4pX3JKqXrJOYFj97k/ay4+6R2DE9f1Jt2dS3rgFxiOGvtQNk2+xV9Cf6n3Tw+1nGHfbzzJT29AYuRxTq5jhWCq1hZHeZNfW1qV8UV8Aht1rjdBQLd0qtWvvNfiof/aJzqKH7zmoAaBmKwgLPKRrMmDvp41wsHVLPRjwXH+FgTv6Jk0fmLn6tXO3/Q4o4s1sS7FMec1pq0uIcSGLY/vSO9HzFRkKC9+OpCp5l2ZSZFl1qQYO3zBLv+ER9PR2VW5mTakGC69DYxBuvnWCQwKCY+PsZLk5IwLtbatXULWCjNy+QpmYsE1uQQ1sQmLMBrmvFkX3ZxNItYu+RjE/WCzlKwW2iEWMkLLZ166MkCRmYRouVU8O/Uwxl4KGvihyesnHI2lsRnnngvdbys194JLoFhWZq0tiyUr3LWKz4EDIeGBMsv+3y+Es0s2V/rQ4oosrsiVJAy4HealBD8NcmhMKPSP6hkJqf7rTQj+wGA10OEVZyHKLXEfz/xR9D/n68DqEsnNdbbADJDrH8J4I/TTS5vVf8Ee7pnO77KWZdvCcQW6Xx0JvWxgQbdVAfaEhISlzYSQ7UkUJC7sqCieliYVlGwsqO9ojOcrKovGvEBfOPRjpXtAWXl/XV9/dNasiwQe8fz2hUsLgpUhQrfqa8vDp95aWLNNRsVP0NhPTmf7U7rIzvjz50wANNqeDtkinsk/ODOiQIwrbJSaNXN37KQ2Xn7bRMFYFoLQDZFf6qaRf9Ggl2YONTTencXK8KRvLy8DYxJYHZ/bwIBTGur32ryYkxh2QXSxKKeVvknMV4AK1j93VUTDmBaRW1tBW0b04Lm/+cekRibCqgDAAAAAElFTkSuQmCC"},,,,,,,,,,function(t){/*! Curve function for canvas 2.3.1
	 *  Epistemex (c) 2013-2014
	 *  License: MIT
	 */
t.exports=function(t,e,i,r,n){"use strict";function o(t,e,n){for(var o,s=2;n>s;s+=2){var a=t[s],h=t[s+1],l=t[s+2],d=t[s+3],p=(l-t[s-2])*i,f=(d-t[s-1])*i,g=(t[s+4]-a)*i,m=(t[s+5]-h)*i;for(o=0;r>o;o++){var v=o<<2,y=e[v],x=e[v+1],b=e[v+2],w=e[v+3];c[u++]=y*a+x*l+b*p+w*g,c[u++]=y*h+x*d+b*f+w*m}}}i="number"==typeof i?i:.5,r=r?r:25;var s,a=1,h=e.length,u=0,l=(h-2)*r+2+(n?2*r:0),c=new Float32Array(l),d=new Float32Array(4*(r+2)),p=4;for(s=e.slice(0),n?(s.unshift(e[h-1]),s.unshift(e[h-2]),s.push(e[0],e[1])):(s.unshift(e[1]),s.unshift(e[0]),s.push(e[h-2],e[h-1])),d[0]=1;r>a;a++){var f=a/r,g=f*f,m=g*f,v=2*m,y=3*g;d[p++]=v-y+1,d[p++]=y-v,d[p++]=m-2*g+f,d[p++]=m-g}for(d[++p]=1,o(s,d,h),n&&(s=[],s.push(e[h-4],e[h-3],e[h-2],e[h-1]),s.push(e[0],e[1],e[2],e[3]),o(s,d,4)),h=n?0:e.length-2,c[u++]=e[h],c[u]=e[h+1],a=0,h=c.length;h>a;a+=2)t.lineTo(c[a],c[a+1]);return c}},function(t,e,i){i(125),i(126),t.exports=function(t){function e(e,i,r,n){return n=n||{},new t(function(t){n.onComplete=t,e(i,r,n)})}var i=e.bind(null,TweenMax.to),r=i;return r.to=i,r.from=e.bind(null,TweenMax.from),r.set=function(e,i){return i=i||{},new t(function(t){i.onComplete=t,TweenMax.set(e,i)})},r.fromTo=function(e,i,r,n){return n=n||{},new t(function(t){n.onComplete=t,TweenMax.fromTo(e,i,r,n)})},["staggerTo","staggerFrom"].forEach(function(e){var i=TweenMax[e];r[e]=function(e,r,n,o){return new t(function(t){i(e,r,n,o,t)})}}),r.staggerFromTo=function(e,i,r,n,o){return new t(function(t){TweenMax.staggerFromTo(e,i,r,n,o,t)})},r.all=t.all,r}}]);